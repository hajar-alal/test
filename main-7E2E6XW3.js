var nA=Object.defineProperty,rA=Object.defineProperties;var iA=Object.getOwnPropertyDescriptors;var Z_=Object.getOwnPropertySymbols;var oA=Object.prototype.hasOwnProperty,sA=Object.prototype.propertyIsEnumerable;var X_=(t,e,n)=>e in t?nA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L=(t,e)=>{for(var n in e||={})oA.call(e,n)&&X_(t,n,e[n]);if(Z_)for(var n of Z_(e))sA.call(e,n)&&X_(t,n,e[n]);return t},Ce=(t,e)=>rA(t,iA(e));var T=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(l){i(l)}},s=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});var eI=null;var _h=1,Ih=Symbol("SIGNAL");function fe(t){let e=eI;return eI=t,e}var tI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function aA(t){if(!(Dh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===_h)){if(!t.producerMustRecompute(t)&&!wh(t)){t.dirty=!1,t.lastCleanEpoch=_h;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=_h}}function nI(t){return t&&(t.nextProducerIndex=0),fe(t)}function rI(t,e){if(fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Dh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Eh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function wh(t){Tc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(aA(n),r!==n.version))return!0}return!1}function iI(t){if(Tc(t),Dh(t))for(let e=0;e<t.producerNode.length;e++)Eh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Eh(t,e){if(cA(t),Tc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Eh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Tc(i),i.producerIndexOfThis[r]=e}}function Dh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Tc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function cA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function uA(){throw new Error}var lA=uA;function oI(t){lA=t}function ee(t){return typeof t=="function"}function Ni(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Sc=Ni(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Lr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Oe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(o){e=o instanceof Sc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{sI(o)}catch(s){e=e??[],s instanceof Sc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Sc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)sI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Lr(n,e)}remove(e){let{_finalizers:n}=this;n&&Lr(n,e),e instanceof t&&e._removeParent(this)}};Oe.EMPTY=(()=>{let t=new Oe;return t.closed=!0,t})();var Ch=Oe.EMPTY;function Ac(t){return t instanceof Oe||t&&"closed"in t&&ee(t.remove)&&ee(t.add)&&ee(t.unsubscribe)}function sI(t){ee(t)?t():t.unsubscribe()}var Wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Pi={setTimeout(t,e,...n){let{delegate:r}=Pi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Pi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Rc(t){Pi.setTimeout(()=>{let{onUnhandledError:e}=Wt;if(e)e(t);else throw t})}function vs(){}var aI=bh("C",void 0,void 0);function cI(t){return bh("E",void 0,t)}function uI(t){return bh("N",t,void 0)}function bh(t,e,n){return{kind:t,value:e,error:n}}var Ur=null;function Oi(t){if(Wt.useDeprecatedSynchronousErrorHandling){let e=!Ur;if(e&&(Ur={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ur;if(Ur=null,n)throw r}}else t()}function lI(t){Wt.useDeprecatedSynchronousErrorHandling&&Ur&&(Ur.errorThrown=!0,Ur.error=t)}var jr=class extends Oe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ac(e)&&e.add(this)):this.destination=fA}static create(e,n,r){return new ki(e,n,r)}next(e){this.isStopped?Sh(uI(e),this):this._next(e)}error(e){this.isStopped?Sh(cI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Sh(aI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},dA=Function.prototype.bind;function Th(t,e){return dA.call(t,e)}var Ah=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Mc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Mc(r)}else Mc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Mc(n)}}},ki=class extends jr{constructor(e,n,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Wt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Th(e.next,o),error:e.error&&Th(e.error,o),complete:e.complete&&Th(e.complete,o)}):i=e}this.destination=new Ah(i)}};function Mc(t){Wt.useDeprecatedSynchronousErrorHandling?lI(t):Rc(t)}function hA(t){throw t}function Sh(t,e){let{onStoppedNotification:n}=Wt;n&&Pi.setTimeout(()=>n(t,e))}var fA={closed:!0,next:vs,error:hA,complete:vs};var Fi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function bt(t){return t}function xc(...t){return Rh(t)}function Rh(t){return t.length===0?bt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ce=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=gA(n)?n:new ki(n,r,i);return Oi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=dI(r),new r((i,o)=>{let s=new ki({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Fi](){return this}pipe(...n){return Rh(n)(this)}toPromise(n){return n=dI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function dI(t){var e;return(e=t??Wt.Promise)!==null&&e!==void 0?e:Promise}function pA(t){return t&&ee(t.next)&&ee(t.error)&&ee(t.complete)}function gA(t){return t&&t instanceof jr||pA(t)&&Ac(t)}function Mh(t){return ee(t?.lift)}function ge(t){return e=>{if(Mh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(t,e,n,r,i){return new xh(t,e,n,r,i)}var xh=class extends jr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Vi(){return ge((t,e)=>{let n=null;t._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Li=class extends ce{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Mh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Oe;let n=this.getSubject();e.add(this.source.subscribe(ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Oe.EMPTY)}return e}refCount(){return Vi()(this)}};var hI=Ni(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ot=(()=>{class t extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Nc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new hI}next(n){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ch:(this.currentObservers=null,o.push(n),new Oe(()=>{this.currentObservers=null,Lr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ce;return n.source=this,n}}return t.create=(e,n)=>new Nc(e,n),t})(),Nc=class extends ot{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ch}};var Je=class extends ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Nh={now(){return(Nh.delegate||Date).now()},delegate:void 0};var Pc=class extends Oe{constructor(e,n){super()}schedule(e,n=0){return this}};var _s={setInterval(t,e,...n){let{delegate:r}=_s;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=_s;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ui=class extends Pc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return _s.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&_s.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Lr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ji=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ji.now=Nh.now;var Bi=class extends ji{constructor(e,n=ji.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ph=new Bi(Ui);var Oc=class extends Ui{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var kc=class extends Bi{};var Oh=new kc(Oc);var Tt=new ce(t=>t.complete());function fI(t){return t&&ee(t.schedule)}function pI(t){return t[t.length-1]}function Fc(t){return ee(pI(t))?t.pop():void 0}function Xn(t){return fI(pI(t))?t.pop():void 0}function kh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function gI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Br(t){return this instanceof Br?(this.v=t,this):new Br(t)}function yI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(I){return function(A){return Promise.resolve(A).then(I,p)}}function c(I,A){r[I]&&(i[I]=function(M){return new Promise(function(R,O){o.push([I,M,R,O])>1||u(I,M)})},A&&(i[I]=A(i[I])))}function u(I,A){try{l(r[I](A))}catch(M){y(o[0][3],M)}}function l(I){I.value instanceof Br?Promise.resolve(I.value.v).then(f,p):y(o[0][2],I)}function f(I){u("next",I)}function p(I){u("throw",I)}function y(I,A){I(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function vI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof gI=="function"?gI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Vc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Lc(t){return ee(t?.then)}function Uc(t){return ee(t[Fi])}function jc(t){return Symbol.asyncIterator&&ee(t?.[Symbol.asyncIterator])}function Bc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function mA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $c=mA();function Hc(t){return ee(t?.[$c])}function qc(t){return yI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Br(n.read());if(i)return yield Br(void 0);yield yield Br(r)}}finally{n.releaseLock()}})}function zc(t){return ee(t?.getReader)}function ke(t){if(t instanceof ce)return t;if(t!=null){if(Uc(t))return yA(t);if(Vc(t))return vA(t);if(Lc(t))return _A(t);if(jc(t))return _I(t);if(Hc(t))return IA(t);if(zc(t))return wA(t)}throw Bc(t)}function yA(t){return new ce(e=>{let n=t[Fi]();if(ee(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function vA(t){return new ce(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function _A(t){return new ce(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Rc)})}function IA(t){return new ce(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function _I(t){return new ce(e=>{EA(t,e).catch(n=>e.error(n))})}function wA(t){return _I(qc(t))}function EA(t,e){var n,r,i,o;return mI(this,void 0,void 0,function*(){try{for(n=vI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function vt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function er(t,e=0){return ge((n,r)=>{n.subscribe(ue(r,i=>vt(r,t,()=>r.next(i),e),()=>vt(r,t,()=>r.complete(),e),i=>vt(r,t,()=>r.error(i),e)))})}function tr(t,e=0){return ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function II(t,e){return ke(t).pipe(tr(e),er(e))}function wI(t,e){return ke(t).pipe(tr(e),er(e))}function EI(t,e){return new ce(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function DI(t,e){return new ce(n=>{let r;return vt(n,e,()=>{r=t[$c](),vt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function Gc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ce(n=>{vt(n,e,()=>{let r=t[Symbol.asyncIterator]();vt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function CI(t,e){return Gc(qc(t),e)}function bI(t,e){if(t!=null){if(Uc(t))return II(t,e);if(Vc(t))return EI(t,e);if(Lc(t))return wI(t,e);if(jc(t))return Gc(t,e);if(Hc(t))return DI(t,e);if(zc(t))return CI(t,e)}throw Bc(t)}function Ae(t,e){return e?bI(t,e):ke(t)}function G(...t){let e=Xn(t);return Ae(t,e)}function $i(t,e){let n=ee(t)?t:()=>t,r=i=>i.error(n());return new ce(e?i=>e.schedule(r,0,i):r)}function Fh(t){return!!t&&(t instanceof ce||ee(t.lift)&&ee(t.subscribe))}var Tn=Ni(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(t,e){return ge((n,r)=>{let i=0;n.subscribe(ue(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:DA}=Array;function CA(t,e){return DA(e)?t(...e):t(e)}function Wc(t){return oe(e=>CA(t,e))}var{isArray:bA}=Array,{getPrototypeOf:TA,prototype:SA,keys:AA}=Object;function Kc(t){if(t.length===1){let e=t[0];if(bA(e))return{args:e,keys:null};if(RA(e)){let n=AA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function RA(t){return t&&typeof t=="object"&&TA(t)===SA}function Qc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Is(...t){let e=Xn(t),n=Fc(t),{args:r,keys:i}=Kc(t);if(r.length===0)return Ae([],e);let o=new ce(MA(r,e,i?s=>Qc(i,s):bt));return n?o.pipe(Wc(n)):o}function MA(t,e,n=bt){return r=>{TI(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)TI(e,()=>{let l=Ae(t[u],e),f=!1;l.subscribe(ue(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function TI(t,e,n){t?vt(n,t,e):e()}function SI(t,e,n,r,i,o,s,c){let u=[],l=0,f=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},I=M=>l<r?A(M):u.push(M),A=M=>{o&&e.next(M),l++;let R=!1;ke(n(M,f++)).subscribe(ue(e,O=>{i?.(O),o?I(O):e.next(O)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let O=u.shift();s?vt(e,s,()=>A(O)):A(O)}y()}catch(O){e.error(O)}}))};return t.subscribe(ue(e,I,()=>{p=!0,y()})),()=>{c?.()}}function Fe(t,e,n=1/0){return ee(e)?Fe((r,i)=>oe((o,s)=>e(r,o,i,s))(ke(t(r,i))),n):(typeof e=="number"&&(n=e),ge((r,i)=>SI(r,i,t,n)))}function nr(t=1/0){return Fe(bt,t)}function AI(){return nr(1)}function Hi(...t){return AI()(Ae(t,Xn(t)))}function Yc(t){return new ce(e=>{ke(t()).subscribe(e)})}function Vh(...t){let e=Fc(t),{args:n,keys:r}=Kc(t),i=new ce(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let f=0;f<s;f++){let p=!1;ke(n[f]).subscribe(ue(o,y=>{p||(p=!0,l--),c[f]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Qc(r,c):c),o.complete())}))}});return e?i.pipe(Wc(e)):i}function St(t,e){return ge((n,r)=>{let i=0;n.subscribe(ue(r,o=>t.call(e,o,i++)&&r.next(o)))})}function rr(t){return ge((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ue(n,void 0,void 0,s=>{o=ke(t(s,rr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function RI(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(ue(s,f=>{let p=l++;u=c?t(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function $r(t,e){return ee(e)?Fe(t,e,1):Fe(t,1)}function ir(t){return ge((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Sn(t){return t<=0?()=>Tt:ge((e,n)=>{let r=0;e.subscribe(ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Lh(t){return oe(()=>t)}function Jc(t=xA){return ge((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function xA(){return new Tn}function ws(t){return ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function on(t,e){let n=arguments.length>=2;return r=>r.pipe(t?St((i,o)=>t(i,o,r)):bt,Sn(1),n?ir(e):Jc(()=>new Tn))}function qi(t){return t<=0?()=>Tt:ge((e,n)=>{let r=[];e.subscribe(ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Uh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?St((i,o)=>t(i,o,r)):bt,qi(1),n?ir(e):Jc(()=>new Tn))}function Zc(t,e){return ge(RI(t,e,arguments.length>=2,!0))}function Xc(...t){let e=Xn(t);return ge((n,r)=>{(e?Hi(t,n,e):Hi(t,n)).subscribe(r)})}function Ft(t,e){return ge((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,f=o++;ke(t(u,f)).subscribe(i=ue(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function jh(t){return ge((e,n)=>{ke(t).subscribe(ue(n,()=>n.complete(),vs)),!n.closed&&e.subscribe(n)})}function Be(t,e,n){let r=ee(t)||e||n?{next:t,error:e,complete:n}:t;return r?ge((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ue(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):bt}var dw="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(ep(e,n)),this.code=e}};function ep(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Us(t){return{toString:t}.toString()}var eu="__parameters__";function NA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function hw(t,e,n){return Us(()=>{let r=NA(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(eu)?u[eu]:Object.defineProperty(u,eu,{value:[]})[eu];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var An=globalThis;function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function PA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function It(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(It).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function MI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var OA=Te({__forward_ref__:Te});function Nn(t){return t.__forward_ref__=Nn,t.toString=function(){return It(this())},t}function pt(t){return fw(t)?t():t}function fw(t){return typeof t=="function"&&t.hasOwnProperty(OA)&&t.__forward_ref__===Nn}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function lr(t){return{providers:t.providers||[],imports:t.imports||[]}}function xu(t){return xI(t,gw)||xI(t,mw)}function pw(t){return xu(t)!==null}function xI(t,e){return t.hasOwnProperty(e)?t[e]:null}function kA(t){let e=t&&(t[gw]||t[mw]);return e||null}function NI(t){return t&&(t.hasOwnProperty(PI)||t.hasOwnProperty(FA))?t[PI]:null}var gw=Te({\u0275prov:Te}),PI=Te({\u0275inj:Te}),mw=Te({ngInjectableDef:Te}),FA=Te({ngInjectorDef:Te}),W=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function yw(t){return t&&!!t.\u0275providers}var VA=Te({\u0275cmp:Te}),LA=Te({\u0275dir:Te}),UA=Te({\u0275pipe:Te}),jA=Te({\u0275mod:Te}),du=Te({\u0275fac:Te}),Es=Te({__NG_ELEMENT_ID__:Te}),OI=Te({__NG_ENV_ID__:Te});function Nu(t){return typeof t=="string"?t:t==null?"":String(t)}function BA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Nu(t)}function $A(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function tp(t,e){throw new $(-201,!1)}var ae=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ae||{}),rf;function vw(){return rf}function _t(t){let e=rf;return rf=t,e}function _w(t,e,n){let r=xu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ae.Optional)return null;if(e!==void 0)return e;tp(t,"Injector")}var HA={},Ds=HA,of="__NG_DI_FLAG__",hu="ngTempTokenPath",qA="ngTokenPath",zA=/\n/gm,GA="\u0275",kI="__source",Qi;function WA(){return Qi}function or(t){let e=Qi;return Qi=t,e}function KA(t,e=ae.Default){if(Qi===void 0)throw new $(-203,!1);return Qi===null?_w(t,void 0,e):Qi.get(t,e&ae.Optional?null:void 0,e)}function Y(t,e=ae.Default){return(vw()||KA)(pt(t),e)}function k(t,e=ae.Default){return Y(t,Pu(e))}function Pu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function sf(t){let e=[];for(let n=0;n<t.length;n++){let r=pt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=ae.Default;for(let s=0;s<r.length;s++){let c=r[s],u=QA(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(Y(i,o))}else e.push(Y(r))}return e}function Iw(t,e){return t[of]=e,t.prototype[of]=e,t}function QA(t){return t[of]}function YA(t,e,n,r){let i=t[hu];throw e[kI]&&i.unshift(e[kI]),t.message=JA(`
`+t.message,i,n,r),t[qA]=i,t[hu]=null,t}function JA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==GA?t.slice(2):t;let i=It(e);if(Array.isArray(e))i=e.map(It).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):It(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(zA,`
  `)}`}var Zt=Iw(hw("Optional"),8);var ww=Iw(hw("SkipSelf"),4);function zr(t,e){let n=t.hasOwnProperty(du);return n?t[du]:null}function ZA(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function XA(t){return t.flat(Number.POSITIVE_INFINITY)}function np(t,e){t.forEach(n=>Array.isArray(n)?np(n,e):e(n))}function Ew(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function eR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function tR(t,e,n){let r=js(t,e);return r>=0?t[r|1]=n:(r=~r,eR(t,r,e,n)),r}function Bh(t,e){let n=js(t,e);if(n>=0)return t[n|1]}function js(t,e){return nR(t,e,1)}function nR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Ji={},Vt=[],Zi=new W(""),Dw=new W("",-1),Cw=new W(""),pu=class{get(e,n=Ds){if(n===Ds){let r=new Error(`NullInjectorError: No provider for ${It(e)}!`);throw r.name="NullInjectorError",r}return n}},bw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(bw||{}),cn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(cn||{}),Ze=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ze||{});function rR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function af(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];iR(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Tw(t){return t===3||t===4||t===6}function iR(t){return t.charCodeAt(0)===64}function Cs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?FI(t,n,i,null,e[++r]):FI(t,n,i,null,null))}}return t}function FI(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Sw="ng-template";function oR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&rR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(rp(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function rp(t){return t.type===4&&t.value!==Sw}function sR(t,e,n){let r=t.type===4&&!n?Sw:t.value;return e===r}function aR(t,e,n){let r=4,i=t.attrs,o=i!==null?lR(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Kt(r)&&!Kt(u))return!1;if(s&&Kt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!sR(t,u,n)||u===""&&e.length===1){if(Kt(r))return!1;s=!0}}else if(r&8){if(i===null||!oR(t,i,u,n)){if(Kt(r))return!1;s=!0}}else{let l=e[++c],f=cR(u,i,rp(t),n);if(f===-1){if(Kt(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Kt(r))return!1;s=!0}}}}return Kt(r)||s}function Kt(t){return(t&1)===0}function cR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return dR(e,t)}function uR(t,e,n=!1){for(let r=0;r<e.length;r++)if(aR(t,e[r],n))return!0;return!1}function lR(t){for(let e=0;e<t.length;e++){let n=t[e];if(Tw(n))return e}return t.length}function dR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function VI(t,e){return t?":not("+e.trim()+")":e}function hR(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Kt(s)&&(e+=VI(o,i),i=""),r=s,o=o||!Kt(r);n++}return i!==""&&(e+=VI(o,i)),e}function fR(t){return t.map(hR).join(",")}function pR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Kt(i))break;i=o}r++}return{attrs:e,classes:n}}function Ve(t){return Us(()=>{let e=Pw(t),n=Ce(L({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===bw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||cn.Emulated,styles:t.styles||Vt,_:null,schemas:t.schemas||null,tView:null,id:""});Ow(n);let r=t.dependencies;return n.directiveDefs=UI(r,!1),n.pipeDefs=UI(r,!0),n.id=yR(n),n})}function gR(t){return ar(t)||Rw(t)}function mR(t){return t!==null}function dr(t){return Us(()=>({type:t.type,bootstrap:t.bootstrap||Vt,declarations:t.declarations||Vt,imports:t.imports||Vt,exports:t.exports||Vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function LI(t,e){if(t==null)return Ji;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c=Ze.None;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=c!==Ze.None?[r,c]:r,e[o]=s):n[o]=r}return n}function He(t){return Us(()=>{let e=Pw(t);return Ow(e),e})}function Aw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ar(t){return t[VA]||null}function Rw(t){return t[LA]||null}function Mw(t){return t[UA]||null}function xw(t){let e=ar(t)||Rw(t)||Mw(t);return e!==null?e.standalone:!1}function Nw(t,e){let n=t[jA]||null;if(!n&&e===!0)throw new Error(`Type ${It(t)} does not have '\u0275mod' property.`);return n}function Pw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ji,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Vt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:LI(t.inputs,e),outputs:LI(t.outputs),debugInfo:null}}function Ow(t){t.features?.forEach(e=>e(t))}function UI(t,e){if(!t)return null;let n=e?Mw:gR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(mR)}function yR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function hr(t){return{\u0275providers:t}}function vR(...t){return{\u0275providers:kw(!0,t),\u0275fromNgModule:!0}}function kw(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return np(e,s=>{let c=s;cf(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Fw(i,o),n}function Fw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ip(i,o=>{e(o,r)})}}function cf(t,e,n,r){if(t=pt(t),!t)return!1;let i=null,o=NI(t),s=!o&&ar(t);if(!o&&!s){let u=t.ngModule;if(o=NI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)cf(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{np(o.imports,f=>{cf(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&Fw(l,e)}if(!c){let l=zr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Vt},i),e({provide:Cw,useValue:i,multi:!0},i),e({provide:Zi,useValue:()=>Y(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;ip(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function ip(t,e){for(let n of t)yw(n)&&(n=n.\u0275providers),Array.isArray(n)?ip(n,e):e(n)}var _R=Te({provide:String,useValue:Te});function Vw(t){return t!==null&&typeof t=="object"&&_R in t}function IR(t){return!!(t&&t.useExisting)}function wR(t){return!!(t&&t.useFactory)}function Xi(t){return typeof t=="function"}function ER(t){return!!t.useClass}var Ou=new W(""),ou={},DR={},$h;function op(){return $h===void 0&&($h=new pu),$h}var wt=class{},bs=class extends wt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lf(e,s=>this.processProvider(s)),this.records.set(Dw,zi(void 0,this)),i.has("environment")&&this.records.set(wt,zi(void 0,this));let o=this.records.get(Ou);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Cw,Vt,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=or(this),r=_t(void 0),i;try{return e()}finally{or(n),_t(r)}}get(e,n=Ds,r=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(OI))return e[OI](this);r=Pu(r);let i,o=or(this),s=_t(void 0);try{if(!(r&ae.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=AR(e)&&xu(e);l&&this.injectableDefInScope(l)?u=zi(uf(e),ou):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&ae.Self?op():this.parent;return n=r&ae.Optional&&n===Ds?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[hu]=c[hu]||[]).unshift(It(e)),o)throw c;return YA(c,e,"R3InjectorError",this.source)}else throw c}finally{_t(s),or(o)}}resolveInjectorInitializers(){let e=fe(null),n=or(this),r=_t(void 0),i;try{let o=this.get(Zi,Vt,ae.Self);for(let s of o)s()}finally{or(n),_t(r),fe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(It(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=pt(e);let n=Xi(e)?e:pt(e&&e.provide),r=bR(e);if(!Xi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=zi(void 0,ou,!0),i.factory=()=>sf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=fe(null);try{return n.value===ou&&(n.value=DR,n.value=n.factory()),typeof n.value=="object"&&n.value&&SR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{fe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=pt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function uf(t){let e=xu(t),n=e!==null?e.factory:zr(t);if(n!==null)return n;if(t instanceof W)throw new $(204,!1);if(t instanceof Function)return CR(t);throw new $(204,!1)}function CR(t){if(t.length>0)throw new $(204,!1);let n=kA(t);return n!==null?()=>n.factory(t):()=>new t}function bR(t){if(Vw(t))return zi(void 0,t.useValue);{let e=Lw(t);return zi(e,ou)}}function Lw(t,e,n){let r;if(Xi(t)){let i=pt(t);return zr(i)||uf(i)}else if(Vw(t))r=()=>pt(t.useValue);else if(wR(t))r=()=>t.useFactory(...sf(t.deps||[]));else if(IR(t))r=()=>Y(pt(t.useExisting));else{let i=pt(t&&(t.useClass||t.provide));if(TR(t))r=()=>new i(...sf(t.deps));else return zr(i)||uf(i)}return r}function zi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function TR(t){return!!t.deps}function SR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function AR(t){return typeof t=="function"||typeof t=="object"&&t instanceof W}function lf(t,e){for(let n of t)Array.isArray(n)?lf(n,e):n&&yw(n)?lf(n.\u0275providers,e):e(n)}function Pn(t,e){t instanceof bs&&t.assertNotDestroyed();let n,r=or(t),i=_t(void 0);try{return e()}finally{or(r),_t(i)}}function Uw(){return vw()!==void 0||WA()!=null}function RR(t){if(!Uw())throw new $(-203,!1)}function MR(t){return typeof t=="function"}var On=0,J=1,K=2,Xe=3,Qt=4,Xt=5,Ts=6,Ss=7,st=8,eo=9,Yt=10,$e=11,As=12,jI=13,io=14,Jt=15,Bs=16,Gi=17,Rn=18,ku=19,jw=20,sr=21,Hh=22,Gr=23,Et=25,Bw=1;var Wr=7,gu=8,to=9,at=10,sp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(sp||{});function Hr(t){return Array.isArray(t)&&typeof t[Bw]=="object"}function kn(t){return Array.isArray(t)&&t[Bw]===!0}function $w(t){return(t.flags&4)!==0}function Fu(t){return t.componentOffset>-1}function ap(t){return(t.flags&1)===1}function cr(t){return!!t.template}function xR(t){return(t[K]&512)!==0}var df=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Hw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Fn(){return qw}function qw(t){return t.type.prototype.ngOnChanges&&(t.setInput=PR),NR}Fn.ngInherit=!0;function NR(){let t=Gw(this),e=t?.current;if(e){let n=t.previous;if(n===Ji)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function PR(t,e,n,r,i){let o=this.declaredInputs[r],s=Gw(t)||OR(t,{previous:Ji,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new df(l&&l.currentValue,n,u===Ji),Hw(t,e,i,n)}var zw="__ngSimpleChanges__";function Gw(t){return t[zw]||null}function OR(t,e){return t[zw]=e}var BI=null;var sn=function(t,e,n){BI?.(t,e,n)},kR="svg",FR="math",VR=!1;function LR(){return VR}function un(t){for(;Array.isArray(t);)t=t[On];return t}function Ww(t,e){return un(e[t])}function Lt(t,e){return un(e[t.index])}function cp(t,e){return t.data[e]}function Kw(t,e){return t[e]}function fr(t,e){let n=e[t];return Hr(n)?n:n[On]}function UR(t){return(t[K]&4)===4}function up(t){return(t[K]&128)===128}function jR(t){return kn(t[Xe])}function mu(t,e){return e==null?null:t[e]}function Qw(t){t[Gi]=0}function BR(t){t[K]&1024||(t[K]|=1024,up(t)&&Rs(t))}function $R(t,e){for(;t>0;)e=e[io],t--;return e}function lp(t){return!!(t[K]&9216||t[Gr]?.dirty)}function hf(t){t[Yt].changeDetectionScheduler?.notify(1),lp(t)?Rs(t):t[K]&64&&(LR()?(t[K]|=1024,Rs(t)):t[Yt].changeDetectionScheduler?.notify())}function Rs(t){t[Yt].changeDetectionScheduler?.notify();let e=Ms(t);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!up(e)));)e=Ms(e)}function Yw(t,e){if((t[K]&256)===256)throw new $(911,!1);t[sr]===null&&(t[sr]=[]),t[sr].push(e)}function HR(t,e){if(t[sr]===null)return;let n=t[sr].indexOf(e);n!==-1&&t[sr].splice(n,1)}function Ms(t){let e=t[Xe];return kn(e)?e[Xe]:e}var se={lFrame:rE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function qR(){return se.lFrame.elementDepthCount}function zR(){se.lFrame.elementDepthCount++}function GR(){se.lFrame.elementDepthCount--}function Jw(){return se.bindingsEnabled}function WR(){return se.skipHydrationRootTNode!==null}function KR(t){return se.skipHydrationRootTNode===t}function QR(){se.skipHydrationRootTNode=null}function pe(){return se.lFrame.lView}function ct(){return se.lFrame.tView}function ei(t){return se.lFrame.contextLView=t,t[st]}function ti(t){return se.lFrame.contextLView=null,t}function gt(){let t=Zw();for(;t!==null&&t.type===64;)t=t.parent;return t}function Zw(){return se.lFrame.currentTNode}function YR(){let t=se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function $s(t,e){let n=se.lFrame;n.currentTNode=t,n.isParent=e}function Xw(){return se.lFrame.isParent}function JR(){se.lFrame.isParent=!1}function ZR(){return se.lFrame.contextLView}function dp(){let t=se.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function XR(t){return se.lFrame.bindingIndex=t}function oo(){return se.lFrame.bindingIndex++}function eM(t){let e=se.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function tM(){return se.lFrame.inI18n}function nM(t,e){let n=se.lFrame;n.bindingIndex=n.bindingRootIndex=t,ff(e)}function rM(){return se.lFrame.currentDirectiveIndex}function ff(t){se.lFrame.currentDirectiveIndex=t}function iM(t){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function eE(){return se.lFrame.currentQueryIndex}function hp(t){se.lFrame.currentQueryIndex=t}function oM(t){let e=t[J];return e.type===2?e.declTNode:e.type===1?t[Xt]:null}function tE(t,e,n){if(n&ae.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ae.Host);)if(i=oM(o),i===null||(o=o[io],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=se.lFrame=nE();return r.currentTNode=e,r.lView=t,!0}function fp(t){let e=nE(),n=t[J];se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function nE(){let t=se.lFrame,e=t===null?null:t.child;return e===null?rE(t):e}function rE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function iE(){let t=se.lFrame;return se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var oE=iE;function pp(){let t=iE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sM(t){return(se.lFrame.contextLView=$R(t,se.lFrame.contextLView))[st]}function ni(){return se.lFrame.selectedIndex}function Kr(t){se.lFrame.selectedIndex=t}function gp(){let t=se.lFrame;return cp(t.tView,t.selectedIndex)}function aM(){return se.lFrame.currentNamespace}var sE=!0;function mp(){return sE}function yp(t){sE=t}function cM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=qw(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function vp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function su(t,e,n){aE(t,e,3,n)}function au(t,e,n,r){(t[K]&3)===n&&aE(t,e,n,r)}function qh(t,e){let n=t[K];(n&3)===e&&(n&=16383,n+=1,t[K]=n)}function aE(t,e,n,r){let i=r!==void 0?t[Gi]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Gi]+=65536),(c<o||o==-1)&&(uM(t,n,e,u),t[Gi]=(t[Gi]&4294901760)+u+2),u++}function $I(t,e){sn(4,t,e);let n=fe(null);try{e.call(t)}finally{fe(n),sn(5,t,e)}}function uM(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[K]>>14<t[Gi]>>16&&(t[K]&3)===e&&(t[K]+=16384,$I(c,o)):$I(c,o)}var Yi=-1,Qr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function lM(t){return t instanceof Qr}function dM(t){return(t.flags&8)!==0}function hM(t){return(t.flags&16)!==0}function cE(t){return t!==Yi}function yu(t){return t&32767}function fM(t){return t>>16}function vu(t,e){let n=fM(t),r=e;for(;n>0;)r=r[io],n--;return r}var pf=!0;function _u(t){let e=pf;return pf=t,e}var pM=256,uE=pM-1,lE=5,gM=0,an={};function mM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Es)&&(r=n[Es]),r==null&&(r=n[Es]=gM++);let i=r&uE,o=1<<i;e.data[t+(i>>lE)]|=o}function Iu(t,e){let n=dE(t,e);if(n!==-1)return n;let r=e[J];r.firstCreatePass&&(t.injectorIndex=e.length,zh(r.data,t),zh(e,null),zh(r.blueprint,null));let i=_p(t,e),o=t.injectorIndex;if(cE(i)){let s=yu(i),c=vu(i,e),u=c[J].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function zh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function dE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function _p(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=mE(i),r===null)return Yi;if(n++,i=i[io],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Yi}function gf(t,e,n){mM(t,e,n)}function yM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(Tw(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function hE(t,e,n){if(n&ae.Optional||t!==void 0)return t;tp(e,"NodeInjector")}function fE(t,e,n,r){if(n&ae.Optional&&r===void 0&&(r=null),!(n&(ae.Self|ae.Host))){let i=t[eo],o=_t(void 0);try{return i?i.get(e,r,n&ae.Optional):_w(e,r,n&ae.Optional)}finally{_t(o)}}return hE(r,e,n)}function pE(t,e,n,r=ae.Default,i){if(t!==null){if(e[K]&2048&&!(r&ae.Self)){let s=wM(t,e,n,r,an);if(s!==an)return s}let o=gE(t,e,n,r,an);if(o!==an)return o}return fE(e,n,r,i)}function gE(t,e,n,r,i){let o=_M(n);if(typeof o=="function"){if(!tE(e,t,r))return r&ae.Host?hE(i,n,r):fE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ae.Optional))tp(n);else return s}finally{oE()}}else if(typeof o=="number"){let s=null,c=dE(t,e),u=Yi,l=r&ae.Host?e[Jt][Xt]:null;for((c===-1||r&ae.SkipSelf)&&(u=c===-1?_p(t,e):e[c+8],u===Yi||!qI(r,!1)?c=-1:(s=e[J],c=yu(u),e=vu(u,e)));c!==-1;){let f=e[J];if(HI(o,c,f.data)){let p=vM(c,e,n,s,r,l);if(p!==an)return p}u=e[c+8],u!==Yi&&qI(r,e[J].data[c+8]===l)&&HI(o,c,e)?(s=f,c=yu(u),e=vu(u,e)):c=-1}}return i}function vM(t,e,n,r,i,o){let s=e[J],c=s.data[t+8],u=r==null?Fu(c)&&pf:r!=s&&(c.type&3)!==0,l=i&ae.Host&&o===c,f=cu(c,s,n,u,l);return f!==null?Yr(e,s,f,c):an}function cu(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?c:c+f,y=i?c+f:l;for(let I=p;I<y;I++){let A=s[I];if(I<u&&n===A||I>=u&&A.type===n)return I}if(i){let I=s[u];if(I&&cr(I)&&I.type===n)return u}return null}function Yr(t,e,n,r){let i=t[n],o=e.data;if(lM(i)){let s=i;s.resolving&&$A(BA(o[n]));let c=_u(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?_t(s.injectImpl):null,f=tE(t,r,ae.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&cM(n,o[n],e)}finally{l!==null&&_t(l),_u(c),s.resolving=!1,oE()}}return i}function _M(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Es)?t[Es]:void 0;return typeof e=="number"?e>=0?e&uE:IM:e}function HI(t,e,n){let r=1<<t;return!!(n[e+(t>>lE)]&r)}function qI(t,e){return!(t&ae.Self)&&!(t&ae.Host&&e)}var qr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return pE(this._tNode,this._lView,e,Pu(r),n)}};function IM(){return new qr(gt(),pe())}function pr(t){return Us(()=>{let e=t.prototype.constructor,n=e[du]||mf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[du]||mf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function mf(t){return fw(t)?()=>{let e=mf(pt(t));return e&&e()}:zr(t)}function wM(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!(s[K]&512);){let c=gE(o,s,n,r|ae.Self,an);if(c!==an)return c;let u=o.parent;if(!u){let l=s[jw];if(l){let f=l.get(n,an,r);if(f!==an)return f}u=mE(s),s=s[io]}o=u}return i}function mE(t){let e=t[J],n=e.type;return n===2?e.declTNode:n===1?t[Xt]:null}function Ip(t){return yM(gt(),t)}function zI(t,e=null,n=null,r){let i=yE(t,e,n,r);return i.resolveInjectorInitializers(),i}function yE(t,e=null,n=null,r,i=new Set){let o=[n||Vt,vR(t)];return r=r||(typeof t=="object"?void 0:It(t)),new bs(o,e||op(),r||null,i)}var At=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Ds}static{this.NULL=new pu}static create(n,r){if(Array.isArray(n))return zI({name:""},r,n,"");{let i=n.name??"";return zI({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=H({token:t,providedIn:"any",factory:()=>Y(Dw)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var EM="ngOriginalError";function Gh(t){return t[EM]}var ln=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Gh(e);for(;n&&Gh(n);)n=Gh(n);return n||null}},vE=new W("",{providedIn:"root",factory:()=>k(ln).handleError.bind(void 0)}),wp=(()=>{class t{static{this.__NG_ELEMENT_ID__=DM}static{this.__NG_ENV_ID__=n=>n}}return t})(),yf=class extends wp{constructor(e){super(),this._lView=e}onDestroy(e){return Yw(this._lView,e),()=>HR(this._lView,e)}};function DM(){return new yf(pe())}function CM(){return so(gt(),pe())}function so(t,e){return new Rt(Lt(t,e))}var Rt=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=CM}}return t})();function bM(t){return t instanceof Rt?t.nativeElement:t}var vf=class extends ot{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Uw()&&(this.destroyRef=k(wp,{optional:!0})??void 0)}emit(e){let n=fe(null);try{super.next(e)}finally{fe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=Wh(o),i&&(i=Wh(i)),s&&(s=Wh(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Oe&&e.add(c),c}};function Wh(t){return e=>{setTimeout(t,void 0,e)}}var ze=vf;function TM(){return this._results[Symbol.iterator]()}var _f=class t{get changes(){return this._changes??=new ze}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=TM)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=XA(e);(this._changesDetected=!ZA(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function _E(t){return(t.flags&128)===128}var IE=new Map,SM=0;function AM(){return SM++}function RM(t){IE.set(t[ku],t)}function MM(t){IE.delete(t[ku])}var GI="__ngContext__";function Jr(t,e){Hr(e)?(t[GI]=e[ku],RM(e)):t[GI]=e}function wE(t){return DE(t[As])}function EE(t){return DE(t[Qt])}function DE(t){for(;t!==null&&!kn(t);)t=t[Qt];return t}var If;function CE(t){If=t}function xM(){if(If!==void 0)return If;if(typeof document<"u")return document;throw new $(210,!1)}var Ep=new W("",{providedIn:"root",factory:()=>NM}),NM="ng",Dp=new W(""),dn=new W("",{providedIn:"platform",factory:()=>"unknown"});var Cp=new W("",{providedIn:"root",factory:()=>xM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var PM="h",OM="b";var kM=()=>null;function bp(t,e,n=!1){return kM(t,e,n)}var bE=!1,FM=new W("",{providedIn:"root",factory:()=>bE});var tu;function VM(){if(tu===void 0&&(tu=null,An.trustedTypes))try{tu=An.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return tu}function LM(t){return VM()?.createScriptURL(t)||t}var nu;function UM(){if(nu===void 0&&(nu=null,An.trustedTypes))try{nu=An.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return nu}function WI(t){return UM()?.createScriptURL(t)||t}var wu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dw})`}};function Hs(t){return t instanceof wu?t.changingThisBreaksApplicationSecurity:t}function Tp(t,e){let n=jM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${dw})`)}return n===e}function jM(t){return t instanceof wu&&t.getTypeName()||null}var BM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function TE(t){return t=String(t),t.match(BM)?t:"unsafe:"+t}var Vu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Vu||{});function $M(t){let e=RE();return e?e.sanitize(Vu.URL,t)||"":Tp(t,"URL")?Hs(t):TE(Nu(t))}function HM(t){let e=RE();if(e)return WI(e.sanitize(Vu.RESOURCE_URL,t)||"");if(Tp(t,"ResourceURL"))return WI(Hs(t));throw new $(904,!1)}function SE(t){return LM(t[0])}function qM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?HM:$M}function AE(t,e,n){return qM(e,n)(t)}function RE(){let t=pe();return t&&t[Yt].sanitizer}function ME(t){return t instanceof Function?t():t}function zM(t){return(t??k(At)).get(dn)==="browser"}var Mn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Mn||{}),GM;function Sp(t,e){return GM(t,e)}function Wi(t,e,n,r,i){if(r!=null){let o,s=!1;kn(r)?o=r:Hr(r)&&(s=!0,r=r[On]);let c=un(r);t===0&&n!==null?i==null?OE(e,n,c):Eu(e,n,c,i||null,!0):t===1&&n!==null?Eu(e,n,c,i||null,!0):t===2?ux(e,c,s):t===3&&e.destroyNode(c),o!=null&&dx(e,t,o,n,i)}}function WM(t,e){return t.createText(e)}function KM(t,e,n){t.setValue(e,n)}function xE(t,e,n){return t.createElement(e,n)}function QM(t,e){NE(t,e),e[On]=null,e[Xt]=null}function YM(t,e,n,r,i,o){r[On]=i,r[Xt]=e,Uu(t,r,n,1,i,o)}function NE(t,e){e[Yt].changeDetectionScheduler?.notify(1),Uu(t,e,e[$e],2,null,null)}function JM(t){let e=t[As];if(!e)return Kh(t[J],t);for(;e;){let n=null;if(Hr(e))n=e[As];else{let r=e[at];r&&(n=r)}if(!n){for(;e&&!e[Qt]&&e!==t;)Hr(e)&&Kh(e[J],e),e=e[Xe];e===null&&(e=t),Hr(e)&&Kh(e[J],e),n=e&&e[Qt]}e=n}}function ZM(t,e,n,r){let i=at+r,o=n.length;r>0&&(n[i-1][Qt]=e),r<o-at?(e[Qt]=n[i],Ew(n,at+r,e)):(n.push(e),e[Qt]=null),e[Xe]=n;let s=e[Bs];s!==null&&n!==s&&XM(s,e);let c=e[Rn];c!==null&&c.insertView(t),hf(e),e[K]|=128}function XM(t,e){let n=t[to],i=e[Xe][Xe][Jt];e[Jt]!==i&&(t[K]|=sp.HasTransplantedViews),n===null?t[to]=[e]:n.push(e)}function PE(t,e){let n=t[to],r=n.indexOf(e);n.splice(r,1)}function xs(t,e){if(t.length<=at)return;let n=at+e,r=t[n];if(r){let i=r[Bs];i!==null&&i!==t&&PE(i,r),e>0&&(t[n-1][Qt]=r[Qt]);let o=fu(t,at+e);QM(r[J],r);let s=o[Rn];s!==null&&s.detachView(o[J]),r[Xe]=null,r[Qt]=null,r[K]&=-129}return r}function Lu(t,e){if(!(e[K]&256)){let n=e[$e];n.destroyNode&&Uu(t,e,n,3,null,null),JM(e)}}function Kh(t,e){if(e[K]&256)return;let n=fe(null);try{e[K]&=-129,e[K]|=256,e[Gr]&&iI(e[Gr]),tx(t,e),ex(t,e),e[J].type===1&&e[$e].destroy();let r=e[Bs];if(r!==null&&kn(e[Xe])){r!==e[Xe]&&PE(r,e);let i=e[Rn];i!==null&&i.detachView(t)}MM(e)}finally{fe(n)}}function ex(t,e){let n=t.cleanup,r=e[Ss];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Ss]=null);let i=e[sr];if(i!==null){e[sr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function tx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Qr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];sn(4,c,u);try{u.call(c)}finally{sn(5,c,u)}}else{sn(4,i,o);try{o.call(i)}finally{sn(5,i,o)}}}}}function nx(t,e,n){return rx(t,e.parent,n)}function rx(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[On];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===cn.None||o===cn.Emulated)return null}return Lt(r,n)}}function Eu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function OE(t,e,n){t.appendChild(e,n)}function KI(t,e,n,r,i){r!==null?Eu(t,e,n,r,i):OE(t,e,n)}function ix(t,e,n,r){t.removeChild(e,n,r)}function Ap(t,e){return t.parentNode(e)}function ox(t,e){return t.nextSibling(e)}function sx(t,e,n){return cx(t,e,n)}function ax(t,e,n){return t.type&40?Lt(t,n):null}var cx=ax,QI;function Rp(t,e,n,r){let i=nx(t,r,e),o=e[$e],s=r.parent||e[Xt],c=sx(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)KI(o,i,n[u],c,!1);else KI(o,i,n,c,!1);QI!==void 0&&QI(o,r,e,n,i)}function uu(t,e){if(e!==null){let n=e.type;if(n&3)return Lt(e,t);if(n&4)return wf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return uu(t,r);{let i=t[e.index];return kn(i)?wf(-1,i):un(i)}}else{if(n&32)return Sp(e,t)()||un(t[e.index]);{let r=kE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ms(t[Jt]);return uu(i,r)}else return uu(t,e.next)}}}return null}function kE(t,e){if(e!==null){let r=t[Jt][Xt],i=e.projection;return r.projection[i]}return null}function wf(t,e){let n=at+t+1;if(n<e.length){let r=e[n],i=r[J].firstChild;if(i!==null)return uu(r,i)}return e[Wr]}function ux(t,e,n){let r=Ap(t,e);r&&ix(t,r,e,n)}function Mp(t,e,n,r,i,o,s){for(;n!=null;){let c=r[n.index],u=n.type;if(s&&e===0&&(c&&Jr(un(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Mp(t,e,n.child,r,i,o,!1),Wi(e,t,i,c,o);else if(u&32){let l=Sp(n,r),f;for(;f=l();)Wi(e,t,i,f,o);Wi(e,t,i,c,o)}else u&16?lx(t,e,r,n,i,o):Wi(e,t,i,c,o);n=s?n.projectionNext:n.next}}function Uu(t,e,n,r,i,o){Mp(n,r,t.firstChild,e,i,o,!1)}function lx(t,e,n,r,i,o){let s=n[Jt],u=s[Xt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Wi(e,t,i,f,o)}else{let l=u,f=s[Xe];_E(r)&&(l.flags|=128),Mp(t,e,l,f,i,o,!0)}}function dx(t,e,n,r,i){let o=n[Wr],s=un(n);o!==s&&Wi(e,t,r,o,i);for(let c=at;c<n.length;c++){let u=n[c];Uu(u[J],u,t,e,r,o)}}function hx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Mn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Mn.Important),t.setStyle(n,r,i,o))}}function fx(t,e,n){t.setAttribute(e,"style",n)}function FE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function VE(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&af(t,e,r),i!==null&&FE(t,e,i),o!==null&&fx(t,e,o)}var gr={};function Ge(t=1){LE(ct(),pe(),ni()+t,!1)}function LE(t,e,n,r){if(!r)if((e[K]&3)===3){let o=t.preOrderCheckHooks;o!==null&&su(e,o,n)}else{let o=t.preOrderHooks;o!==null&&au(e,o,0,n)}Kr(n)}function re(t,e=ae.Default){let n=pe();if(n===null)return Y(t,e);let r=gt();return pE(r,n,pt(t),e)}function UE(){let t="invalid";throw new Error(t)}function jE(t,e,n,r,i,o){let s=fe(null);try{let c=null;i&Ze.SignalBased&&(c=e[r][Ih]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&Ze.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,r):Hw(e,c,r,o)}finally{fe(s)}}function px(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Kr(~i);else{let o=i,s=n[++r],c=n[++r];nM(s,o);let u=e[o];c(2,u)}}}finally{Kr(-1)}}function ju(t,e,n,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[On]=i,p[K]=r|4|128|8|64,(l!==null||t&&t[K]&2048)&&(p[K]|=2048),Qw(p),p[Xe]=p[io]=t,p[st]=n,p[Yt]=s||t&&t[Yt],p[$e]=c||t&&t[$e],p[eo]=u||t&&t[eo]||null,p[Xt]=o,p[ku]=AM(),p[Ts]=f,p[jw]=l,p[Jt]=e.type==2?t[Jt]:p,p}function Bu(t,e,n,r,i){let o=t.data[e];if(o===null)o=gx(t,e,n,r,i),tM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=YR();o.injectorIndex=s===null?-1:s.injectorIndex}return $s(o,!0),o}function gx(t,e,n,r,i){let o=Zw(),s=Xw(),c=s?o:o&&o.parent,u=t.data[e]=wx(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function BE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function $E(t,e,n,r,i){let o=ni(),s=r&2;try{Kr(-1),s&&e.length>Et&&LE(t,e,Et,!1),sn(s?2:0,i),n(r,i)}finally{Kr(o),sn(s?3:1,i)}}function HE(t,e,n){if($w(e)){let r=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{fe(r)}}}function qE(t,e,n){Jw()&&(Sx(t,e,n,Lt(n,e)),(n.flags&64)===64&&YE(t,e,n))}function zE(t,e,n=Lt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function GE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=xp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function xp(t,e,n,r,i,o,s,c,u,l,f){let p=Et+r,y=p+i,I=mx(p,y),A=typeof l=="function"?l():l;return I[J]={type:t,blueprint:I,template:n,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function mx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:gr);return n}function yx(t,e,n,r){let o=r.get(FM,bE)||n===cn.ShadowDom,s=t.selectRootElement(e,o);return vx(s),s}function vx(t){_x(t)}var _x=()=>null;function Ix(t,e,n,r){let i=XE(e);i.push(n),t.firstCreatePass&&eD(t).push(r,i.length-1)}function wx(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return WR()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function YI(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let c,u=Ze.None;Array.isArray(s)?(c=s[0],u=s[1]):c=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?JI(r,n,l,c,u):JI(r,n,l,c)}return r}function JI(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function Ex(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let p=o[f],y=n?n.get(p):null,I=y?y.inputs:null,A=y?y.outputs:null;u=YI(0,p.inputs,f,u,I),l=YI(1,p.outputs,f,l,A);let M=u!==null&&s!==null&&!rp(e)?Lx(u,f,s):null;c.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function Dx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function WE(t,e,n,r,i,o,s,c){let u=Lt(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(Np(t,n,f,r,i),Fu(e)&&Cx(n,e.index)):e.type&3?(r=Dx(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function Cx(t,e){let n=fr(e,t);n[K]&16||(n[K]|=64)}function KE(t,e,n,r){if(Jw()){let i=r===null?null:{"":-1},o=Rx(t,n),s,c;o===null?s=c=null:[s,c]=o,s!==null&&QE(t,e,n,s,i,c),i&&Mx(n,r,i)}n.mergedAttrs=Cs(n.mergedAttrs,n.attrs)}function QE(t,e,n,r,i,o){for(let l=0;l<r.length;l++)gf(Iu(n,e),t,r[l].type);Nx(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let s=!1,c=!1,u=BE(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=Cs(n.mergedAttrs,f.hostAttrs),Px(t,n,e,u,f),xx(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}Ex(t,n,o)}function bx(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;Tx(s)!=c&&s.push(c),s.push(n,r,o)}}function Tx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Sx(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Fu(n)&&Ox(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Iu(n,e),Jr(r,e);let s=n.initialInputs;for(let c=i;c<o;c++){let u=t.data[c],l=Yr(e,t,c,n);if(Jr(l,e),s!==null&&Vx(e,c-i,l,u,n,s),cr(u)){let f=fr(n.index,e);f[st]=Yr(e,t,c,n)}}}function YE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=rM();try{Kr(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];ff(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Ax(u,l)}}finally{Kr(-1),ff(s)}}function Ax(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Rx(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(uR(e,s.selectors,!1))if(r||(r=[]),cr(s))if(s.findHostDirectiveDefs!==null){let c=[];i=i||new Map,s.findHostDirectiveDefs(s,c,i),r.unshift(...c,s);let u=c.length;Ef(t,e,u)}else r.unshift(s),Ef(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Ef(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Mx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new $(-301,!1);r.push(e[i],o)}}}function xx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;cr(e)&&(n[""]=t)}}function Nx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Px(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=zr(i.type,!0)),s=new Qr(o,cr(i),re);t.blueprint[r]=s,n[r]=s,bx(t,e,r,BE(t,n,i.hostVars,gr),i)}function Ox(t,e,n){let r=Lt(e,t),i=GE(n),o=t[Yt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let c=$u(t,ju(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=c}function kx(t,e,n,r,i,o){let s=Lt(t,e);Fx(e[$e],s,o,t.value,n,r,i)}function Fx(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let c=s==null?Nu(o):s(o,r||"",i);t.setAttribute(e,i,c,n)}}function Vx(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;){let u=s[c++],l=s[c++],f=s[c++],p=s[c++];jE(r,n,u,l,f,p)}}function Lx(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let c=0;c<s.length;c+=3)if(s[c]===e){r.push(o,s[c+1],s[c+2],n[i+1]);break}}i+=2}return r}function JE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ZE(t,e){let n=t.contentQueries;if(n!==null){let r=fe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];hp(o),c.contentQueries(2,e[s],s)}}}finally{fe(r)}}}function $u(t,e){return t[As]?t[jI][Qt]=e:t[As]=e,t[jI]=e,e}function Df(t,e,n){hp(0);let r=fe(null);try{e(t,n)}finally{fe(r)}}function XE(t){return t[Ss]||(t[Ss]=[])}function eD(t){return t.cleanup||(t.cleanup=[])}function tD(t,e){let n=t[eo],r=n?n.get(ln,null):null;r&&r.handleError(e)}function Np(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],c=n[o++],u=n[o++],l=e[s],f=t.data[s];jE(f,l,r,c,u,i)}}function Ux(t,e,n){let r=Ww(e,t);KM(t[$e],r,n)}function jx(t,e){let n=fr(e,t),r=n[J];Bx(r,n);let i=n[On];i!==null&&n[Ts]===null&&(n[Ts]=bp(i,n[eo])),Pp(r,n,n[st])}function Bx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Pp(t,e,n){fp(e);try{let r=t.viewQuery;r!==null&&Df(1,r,n);let i=t.template;i!==null&&$E(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Rn]?.finishViewCreation(t),t.staticContentQueries&&ZE(t,e),t.staticViewQueries&&Df(2,t.viewQuery,n);let o=t.components;o!==null&&$x(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[K]&=-5,pp()}}function $x(t,e){for(let n=0;n<e.length;n++)jx(t,e[n])}function Hu(t,e,n,r){let i=fe(null);try{let o=e.tView,c=t[K]&4096?4096:16,u=ju(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Bs]=l;let f=t[Rn];return f!==null&&(u[Rn]=f.createEmbeddedView(o)),Pp(o,u,n),u}finally{fe(i)}}function nD(t,e){let n=at+e;if(n<t.length)return t[n]}function Ns(t,e){return!e||e.firstChild===null||_E(t)}function qu(t,e,n,r=!0){let i=e[J];if(ZM(i,e,t,n),r){let s=wf(n,t),c=e[$e],u=Ap(c,t[Wr]);u!==null&&YM(i,t[Xt],c,e,u,s)}let o=e[Ts];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function rD(t,e){let n=xs(t,e);return n!==void 0&&Lu(n[J],n),n}function Du(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(un(o)),kn(o)&&Hx(o,r);let s=n.type;if(s&8)Du(t,e,n.child,r);else if(s&32){let c=Sp(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=kE(e,n);if(Array.isArray(c))r.push(...c);else{let u=Ms(e[Jt]);Du(u[J],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function Hx(t,e){for(let n=at;n<t.length;n++){let r=t[n],i=r[J].firstChild;i!==null&&Du(r[J],r,i,e)}t[Wr]!==t[On]&&e.push(t[Wr])}var iD=[];function qx(t){return t[Gr]??zx(t)}function zx(t){let e=iD.pop()??Object.create(Wx);return e.lView=t,e}function Gx(t){t.lView[Gr]!==t&&(t.lView=null,iD.push(t))}var Wx=Ce(L({},tI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Rs(t.lView)},consumerOnSignalRead(){this.lView[Gr]=this}}),oD=100;function sD(t,e=!0,n=0){let r=t[Yt],i=r.rendererFactory,o=!1;o||i.begin?.();try{Kx(t,n)}catch(s){throw e&&tD(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Kx(t,e){Cf(t,e);let n=0;for(;lp(t);){if(n===oD)throw new $(103,!1);n++,Cf(t,1)}}function Qx(t,e,n,r){let i=e[K];if((i&256)===256)return;let o=!1;!o&&e[Yt].inlineEffectRunner?.flush(),fp(e);let s=null,c=null;!o&&Yx(t)&&(c=qx(e),s=nI(c));try{Qw(e),XR(t.bindingStartIndex),n!==null&&$E(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let p=t.preOrderCheckHooks;p!==null&&su(e,p,null)}else{let p=t.preOrderHooks;p!==null&&au(e,p,0,null),qh(e,0)}if(Jx(e),aD(e,0),t.contentQueries!==null&&ZE(t,e),!o)if(u){let p=t.contentCheckHooks;p!==null&&su(e,p)}else{let p=t.contentHooks;p!==null&&au(e,p,1),qh(e,1)}px(t,e);let l=t.components;l!==null&&uD(e,l,0);let f=t.viewQuery;if(f!==null&&Df(2,f,r),!o)if(u){let p=t.viewCheckHooks;p!==null&&su(e,p)}else{let p=t.viewHooks;p!==null&&au(e,p,2),qh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Hh]){for(let p of e[Hh])p();e[Hh]=null}o||(e[K]&=-73)}catch(u){throw Rs(e),u}finally{c!==null&&(rI(c,s),Gx(c)),pp()}}function Yx(t){return t.type!==2}function aD(t,e){for(let n=wE(t);n!==null;n=EE(n))for(let r=at;r<n.length;r++){let i=n[r];cD(i,e)}}function Jx(t){for(let e=wE(t);e!==null;e=EE(e)){if(!(e[K]&sp.HasTransplantedViews))continue;let n=e[to];for(let r=0;r<n.length;r++){let i=n[r],o=i[Xe];BR(i)}}}function Zx(t,e,n){let r=fr(e,t);cD(r,n)}function cD(t,e){up(t)&&Cf(t,e)}function Cf(t,e){let r=t[J],i=t[K],o=t[Gr],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&wh(o)),o&&(o.dirty=!1),t[K]&=-9217,s)Qx(r,t,r.template,t[st]);else if(i&8192){aD(t,1);let c=r.components;c!==null&&uD(t,c,1)}}function uD(t,e,n){for(let r=0;r<e.length;r++)Zx(t,e[r],n)}function Op(t){for(t[Yt].changeDetectionScheduler?.notify();t;){t[K]|=64;let e=Ms(t);if(xR(t)&&!e)return t;t=e}return null}var Zr=class{get rootNodes(){let e=this._lView,n=e[J];return Du(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[st]}set context(e){this._lView[st]=e}get destroyed(){return(this._lView[K]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Xe];if(kn(e)){let n=e[gu],r=n?n.indexOf(this):-1;r>-1&&(xs(e,r),fu(n,r))}this._attachedToViewContainer=!1}Lu(this._lView[J],this._lView)}onDestroy(e){Yw(this._lView,e)}markForCheck(){Op(this._cdRefInjectingView||this._lView)}detach(){this._lView[K]&=-129}reattach(){hf(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,sD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,NE(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e,hf(this._lView)}},Ps=(()=>{class t{static{this.__NG_ELEMENT_ID__=tN}}return t})(),Xx=Ps,eN=class extends Xx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Hu(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Zr(i)}};function tN(){return kp(gt(),pe())}function kp(t,e){return t.type&4?new eN(e,t,so(t,e)):null}var Oz=new RegExp(`^(\\d+)*(${OM}|${PM})*(.*)`);var nN=()=>null;function Os(t,e){return nN(t,e)}var Cu=class{},bf=class{},bu=class{};function rN(t){let e=Error(`No component factory found for ${It(t)}.`);return e[iN]=t,e}var iN="ngComponent";var Tf=class{resolveComponentFactory(e){throw rN(e)}},zu=(()=>{class t{static{this.NULL=new Tf}}return t})(),ks=class{},Vn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>oN()}}return t})();function oN(){let t=pe(),e=gt(),n=fr(e.index,t);return(Hr(n)?n:t)[$e]}var sN=(()=>{class t{static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>null})}}return t})(),Qh={};var ZI=new Set;function qs(t){ZI.has(t)||(ZI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function XI(...t){}function aN(){let t=typeof An.requestAnimationFrame=="function",e=An[t?"requestAnimationFrame":"setTimeout"],n=An[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var we=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ze(!1),this.onMicrotaskEmpty=new ze(!1),this.onStable=new ze(!1),this.onError=new ze(!1),typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=aN().nativeRequestAnimationFrame,lN(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,cN,XI,XI);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},cN={};function Fp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function uN(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(An,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Sf(t),t.isCheckStableRunning=!0,Fp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Sf(t))}function lN(t){let e=()=>{uN(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,c)=>{if(dN(c))return n.invokeTask(i,o,s,c);try{return ew(t),n.invokeTask(i,o,s,c)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),tw(t)}},onInvoke:(n,r,i,o,s,c,u)=>{try{return ew(t),n.invoke(i,o,s,c,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),tw(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Sf(t),Fp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Sf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ew(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function tw(t){t._nesting--,Fp(t)}function dN(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Ki=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ki||{}),hN={destroy(){}};function Gu(t,e){!e&&RR(Gu);let n=e?.injector??k(At);if(!zM(n))return hN;qs("NgAfterNextRender");let r=n.get(Vp),i=r.handler??=new Rf,o=e?.phase??Ki.MixedReadWrite,s=()=>{i.unregister(u),c()},c=n.get(wp).onDestroy(s),u=Pn(n,()=>new Af(o,()=>{s(),t()}));return i.register(u),{destroy:s}}var Af=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=k(we),this.errorHandler=k(ln,{optional:!0}),k(Cu,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Rf=class{constructor(){this.executingCallbacks=!1,this.buckets={[Ki.EarlyRead]:new Set,[Ki.Write]:new Set,[Ki.MixedReadWrite]:new Set,[Ki.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Vp=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Mf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=MI(i,c);else if(o==2){let u=c,l=e[++s];r=MI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Tu=class extends zu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ar(e);return new no(n,this.ngModule)}};function nw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function fN(t){let e=t.toLowerCase();return e==="svg"?kR:e==="math"?FR:null}var xf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Pu(r);let i=this.injector.get(e,Qh,r);return i!==Qh||n===Qh?i:this.parentInjector.get(e,n,r)}},no=class extends bu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=nw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return nw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=fR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=fe(null);try{i=i||this.ngModule;let s=i instanceof wt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new xf(e,s):e,u=c.get(ks,null);if(u===null)throw new $(407,!1);let l=c.get(sN,null),f=c.get(Vp,null),p=c.get(Cu,null),y={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:p},I=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",M=r?yx(I,r,this.componentDef.encapsulation,c):xE(I,A,fN(A)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let O=null;M!==null&&(O=bp(M,c,!0));let X=xp(0,null,null,1,0,null,null,null,null,null,null),z=ju(null,X,null,R,null,null,y,I,c,null,O);fp(z);let he,Me;try{let ne=this.componentDef,E,m=null;ne.findHostDirectiveDefs?(E=[],m=new Map,ne.findHostDirectiveDefs(ne,E,m),E.push(ne)):E=[ne];let v=pN(z,M),w=gN(v,M,ne,E,z,y,I);Me=cp(X,Et),M&&vN(I,ne,M,r),n!==void 0&&_N(Me,this.ngContentSelectors,n),he=yN(w,ne,E,m,z,[IN]),Pp(X,z,null)}finally{pp()}return new Nf(this.componentType,he,so(Me,z),z,Me)}finally{fe(o)}}},Nf=class extends bf{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Zr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Np(o[J],o,i,e,n),this.previousInputValues.set(e,n);let s=fr(this._tNode.index,o);Op(s)}}get injector(){return new qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function pN(t,e){let n=t[J],r=Et;return t[r]=e,Bu(n,r,2,"#host",null)}function gN(t,e,n,r,i,o,s){let c=i[J];mN(r,t,e,s);let u=null;e!==null&&(u=bp(e,i[eo]));let l=o.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=ju(i,GE(n),null,f,i[t.index],t,o,l,null,null,u);return c.firstCreatePass&&Ef(c,t,r.length-1),$u(i,p),i[t.index]=p}function mN(t,e,n,r){for(let i of t)e.mergedAttrs=Cs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Mf(e,e.mergedAttrs,!0),n!==null&&VE(r,n,e))}function yN(t,e,n,r,i,o){let s=gt(),c=i[J],u=Lt(s,i);QE(c,i,s,n,null,r);for(let f=0;f<n.length;f++){let p=s.directiveStart+f,y=Yr(i,c,p,s);Jr(y,i)}YE(c,i,s),u&&Jr(u,i);let l=Yr(i,c,s.directiveStart+s.componentOffset,s);if(t[st]=i[st]=l,o!==null)for(let f of o)f(l,e);return HE(c,s,i),l}function vN(t,e,n,r){if(r)af(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=pR(e.selectors[0]);i&&af(t,n,i),o&&o.length>0&&FE(t,n,o.join(" "))}}function _N(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function IN(){let t=gt();vp(pe()[J],t)}var ao=(()=>{class t{static{this.__NG_ELEMENT_ID__=wN}}return t})();function wN(){let t=gt();return dD(t,pe())}var EN=ao,lD=class extends EN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return so(this._hostTNode,this._hostLView)}get injector(){return new qr(this._hostTNode,this._hostLView)}get parentInjector(){let e=_p(this._hostTNode,this._hostLView);if(cE(e)){let n=vu(e,this._hostLView),r=yu(e),i=n[J].data[r+8];return new qr(i,n)}else return new qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=rw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-at}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Os(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,Ns(this._hostTNode,s)),c}createComponent(e,n,r,i,o){let s=e&&!MR(e),c;if(s)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new no(ar(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let M=(s?l:this.parentInjector).get(wt,null);M&&(o=M)}let f=ar(u.componentType??{}),p=Os(this._lContainer,f?.id??null),y=p?.firstChild??null,I=u.create(l,i,y,o);return this.insertImpl(I.hostView,c,Ns(this._hostTNode,p)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(jR(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Xe],l=new lD(u,u[Xt],u[Xe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return qu(s,i,o,r),e.attachToViewContainerRef(),Ew(Yh(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=rw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=xs(this._lContainer,n);r&&(fu(Yh(this._lContainer),n),Lu(r[J],r))}detach(e){let n=this._adjustIndex(e,-1),r=xs(this._lContainer,n);return r&&fu(Yh(this._lContainer),n)!=null?new Zr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function rw(t){return t[gu]}function Yh(t){return t[gu]||(t[gu]=[])}function dD(t,e){let n,r=e[t.index];return kn(r)?n=r:(n=JE(r,e,null,t),e[t.index]=n,$u(e,n)),CN(n,e,t,r),new lD(n,t,e)}function DN(t,e){let n=t[$e],r=n.createComment(""),i=Lt(e,t),o=Ap(n,i);return Eu(n,o,r,ox(n,i),!1),r}var CN=SN,bN=()=>!1;function TN(t,e,n){return bN(t,e,n)}function SN(t,e,n,r){if(t[Wr])return;let i;n.type&8?i=un(r):i=DN(e,n),t[Wr]=i}var Pf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Of=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Lp(e,n).matches!==null&&this.queries[n].setDirty()}},kf=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=kN(e):this.predicate=e}},Ff=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Vf=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,AN(n,o)),this.matchTNodeWithReadOption(e,n,cu(n,e,o,!1,!1))}else r===Ps?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,cu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Rt||i===ao||i===Ps&&n.type&4)this.addMatch(n.index,-2);else{let o=cu(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function AN(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function RN(t,e){return t.type&11?so(t,e):t.type&4?kp(t,e):null}function MN(t,e,n,r){return n===-1?RN(e,t):n===-2?xN(t,e,r):Yr(t,t[J],n,e)}function xN(t,e,n){if(n===Rt)return so(e,t);if(n===Ps)return kp(e,t);if(n===ao)return dD(e,t)}function hD(t,e,n,r){let i=e[Rn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,c=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)c.push(null);else{let f=o[l];c.push(MN(e,f,s[u+1],n.metadata.read))}}i.matches=c}return i.matches}function Lf(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=hD(t,e,i,n);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)r.push(s[c/2]);else{let l=o[c+1],f=e[-u];for(let p=at;p<f.length;p++){let y=f[p];y[Bs]===y[Xe]&&Lf(y[J],y,l,r)}if(f[to]!==null){let p=f[to];for(let y=0;y<p.length;y++){let I=p[y];Lf(I[J],I,l,r)}}}}}return r}function NN(t,e){return t[Rn].queries[e].queryList}function PN(t,e,n){let r=new _f((n&4)===4);return Ix(t,e,r,r.destroy),(e[Rn]??=new Of).queries.push(new Pf(r))-1}function ON(t,e,n,r){let i=ct();if(i.firstCreatePass){let o=gt();FN(i,new kf(e,n,r),o.index),VN(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return PN(i,pe(),n)}function kN(t){return t.split(",").map(e=>e.trim())}function FN(t,e,n){t.queries===null&&(t.queries=new Ff),t.queries.track(new Vf(e,n))}function VN(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Lp(t,e){return t.queries.getByIndex(e)}function LN(t,e){let n=t[J],r=Lp(n,e);return r.crossesNgTemplate?Lf(n,t,e,[]):hD(n,t,r,e)}function UN(t){return typeof t=="function"&&t[Ih]!==void 0}function fD(t){return UN(t)&&typeof t.set=="function"}function jN(t){return Object.getPrototypeOf(t.prototype).constructor}function en(t){let e=jN(t.type),n=!0,r=[t];for(;e;){let i;if(cr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=ru(t.inputs),s.inputTransforms=ru(t.inputTransforms),s.declaredInputs=ru(t.declaredInputs),s.outputs=ru(t.outputs);let c=i.hostBindings;c&&zN(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&HN(t,u),l&&qN(t,l),BN(t,i),PA(t.outputs,i.outputs),cr(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===en&&(n=!1)}}e=Object.getPrototypeOf(e)}$N(r)}function BN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function $N(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Cs(i.hostAttrs,n=Cs(n,i.hostAttrs))}}function ru(t){return t===Ji?{}:t===Vt?[]:t}function HN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function qN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function zN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Up(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var ur=class{},Fs=class{};var Uf=class extends ur{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Tu(this);let i=Nw(e);this._bootstrapComponents=ME(i.bootstrap),this._r3Injector=yE(e,n,[{provide:ur,useValue:this},{provide:zu,useValue:this.componentFactoryResolver},...r],It(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},jf=class extends Fs{constructor(e){super(),this.moduleType=e}create(e){return new Uf(this.moduleType,e,[])}};var Su=class extends ur{constructor(e){super(),this.componentFactoryResolver=new Tu(this),this.instance=null;let n=new bs([...e.providers,{provide:ur,useValue:this},{provide:zu,useValue:this.componentFactoryResolver}],e.parent||op(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Wu(t,e,n=null){return new Su({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Ku=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Je(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function pD(t,e,n){return t[e]=n}function GN(t,e){return t[e]}function mr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function WN(t){return(t.flags&32)===32}function KN(t,e,n,r,i,o,s,c,u){let l=e.consts,f=Bu(e,t,4,s||null,mu(l,c));KE(e,n,f,mu(l,u)),vp(e,f);let p=f.tView=xp(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function Vs(t,e,n,r,i,o,s,c){let u=pe(),l=ct(),f=t+Et,p=l.firstCreatePass?KN(f,l,u,e,n,r,i,o,s):l.data[f];$s(p,!1);let y=QN(l,u,p,t);mp()&&Rp(l,u,y,p),Jr(y,u);let I=JE(y,u,y,p);return u[f]=I,$u(u,I),TN(I,p,u),ap(p)&&qE(l,u,p),s!=null&&zE(u,p,c),Vs}var QN=YN;function YN(t,e,n,r){return yp(!0),e[$e].createComment("")}function co(t,e,n,r){let i=pe(),o=oo();if(mr(i,o,e)){let s=ct(),c=gp();kx(c,i,t,e,n,r)}return co}function JN(t,e,n,r){return mr(t,oo(),n)?e+Nu(n)+r:gr}function iu(t,e){return t<<17|e<<2}function Xr(t){return t>>17&32767}function ZN(t){return(t&2)==2}function XN(t,e){return t&131071|e<<17}function Bf(t){return t|2}function ro(t){return(t&131068)>>2}function Jh(t,e){return t&-131069|e<<2}function eP(t){return(t&1)===1}function $f(t){return t|1}function tP(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=Xr(s),u=ro(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||js(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let y=Xr(t[c+1]);t[r+1]=iu(y,c),y!==0&&(t[y+1]=Jh(t[y+1],r)),t[c+1]=XN(t[c+1],r)}else t[r+1]=iu(c,0),c!==0&&(t[c+1]=Jh(t[c+1],r)),c=r;else t[r+1]=iu(u,0),c===0?c=r:t[u+1]=Jh(t[u+1],r),u=r;l&&(t[r+1]=Bf(t[r+1])),iw(t,f,r,!0),iw(t,f,r,!1),nP(e,f,t,r,o),s=iu(c,u),o?e.classBindings=s:e.styleBindings=s}function nP(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&js(o,e)>=0&&(n[r+1]=$f(n[r+1]))}function iw(t,e,n,r){let i=t[n+1],o=e===null,s=r?Xr(i):ro(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];rP(u,e)&&(c=!0,t[s+1]=r?$f(l):Bf(l)),s=r?Xr(l):ro(l)}c&&(t[n+1]=r?Bf(i):$f(i))}function rP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?js(t,e)>=0:!1}function tn(t,e,n){let r=pe(),i=oo();if(mr(r,i,e)){let o=ct(),s=gp();WE(o,s,r,t,e,r[$e],n,!1)}return tn}function ow(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Np(t,n,o[s],s,r)}function Qu(t,e){return iP(t,e,null,!0),Qu}function iP(t,e,n,r){let i=pe(),o=ct(),s=eM(2);if(o.firstUpdatePass&&sP(o,t,s,r),e!==gr&&mr(i,s,e)){let c=o.data[ni()];dP(o,c,i,i[$e],t,i[s+1]=hP(e,n),r,s)}}function oP(t,e){return e>=t.expandoStartIndex}function sP(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ni()],s=oP(t,n);fP(o,r)&&e===null&&!s&&(e=!1),e=aP(i,o,e,r),tP(i,o,e,n,s,r)}}function aP(t,e,n,r){let i=iM(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Zh(null,t,e,n,r),n=Ls(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Zh(i,t,e,n,r),o===null){let u=cP(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Zh(null,t,e,u[1],r),u=Ls(u,e.attrs,r),uP(t,e,r,u))}else o=lP(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function cP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ro(r)!==0)return t[Xr(r)]}function uP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Xr(i)]=r}function lP(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ls(r,s,n)}return Ls(r,e.attrs,n)}function Zh(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=Ls(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Ls(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),tR(t,s,n?!0:e[++o]))}return t===void 0?null:t}function dP(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=eP(l)?sw(u,e,n,i,ro(l),s):void 0;if(!Au(f)){Au(o)||ZN(l)&&(o=sw(u,null,n,i,c,s));let p=Ww(ni(),n);hx(r,s,p,i,o)}}function sw(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,y=n[i+1];y===gr&&(y=p?Vt:void 0);let I=p?Bh(y,r):f===r?y:void 0;if(l&&!Au(I)&&(I=Bh(u,r)),Au(I)&&(c=I,s))return c;let A=t[i+1];i=s?Xr(A):ro(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Bh(u,r))}return c}function Au(t){return t!==void 0}function hP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=It(Hs(t)))),t}function fP(t,e){return(t.flags&(e?8:16))!==0}var Hf=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Xh(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function pP(t,e,n){let r,i,o=0,s=t.length-1;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let u=t.at(o),l=e[o],f=Xh(o,u,o,l,n);if(f!==0){f<0&&t.updateValue(o,l),o++;continue}let p=t.at(s),y=e[c],I=Xh(s,p,c,y,n);if(I!==0){I<0&&t.updateValue(s,y),s--,c--;continue}let A=n(o,u),M=n(s,p),R=n(o,l);if(Object.is(R,M)){let O=n(c,y);Object.is(O,A)?(t.swap(o,s),t.updateValue(s,y),c--,s--):t.move(s,o),t.updateValue(o,l),o++;continue}if(r??=new Ru,i??=cw(t,o,s,n),qf(t,r,o,R))t.updateValue(o,l),o++,s++;else if(i.has(R))r.set(A,t.detach(o)),s--;else{let O=t.create(o,e[o]);t.attach(o,O),o++,s++}}for(;o<=c;)aw(t,r,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&o<=s;){let l=t.at(o),f=u.value,p=Xh(o,l,o,f,n);if(p!==0)p<0&&t.updateValue(o,f),o++,u=c.next();else{r??=new Ru,i??=cw(t,o,s,n);let y=n(o,f);if(qf(t,r,o,y))t.updateValue(o,f),o++,s++,u=c.next();else if(!i.has(y))t.attach(o,t.create(o,f)),o++,s++,u=c.next();else{let I=n(o,l);r.set(I,t.detach(o)),s--}}}for(;!u.done;)aw(t,r,n,t.length,u.value),u=c.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}function qf(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function aw(t,e,n,r,i){if(qf(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function cw(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Ru=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function gD(t,e,n){qs("NgControlFlow");let r=pe(),i=oo(),o=Kf(r,Et+t),s=0;if(mr(r,i,e)){let c=fe(null);try{if(rD(o,s),e!==-1){let u=Qf(r[J],Et+e),l=Os(o,u.tView.ssrId),f=Hu(r,u,n,{dehydratedView:l});qu(o,f,s,Ns(u,l))}}finally{fe(c)}}else{let c=nD(o,s);c!==void 0&&(c[st]=n)}}var zf=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-at}};var Gf=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function mD(t,e,n,r,i,o,s,c,u,l,f,p,y){qs("NgControlFlow");let I=u!==void 0,A=pe(),M=c?s.bind(A[Jt][st]):s,R=new Gf(I,M);A[Et+t]=R,Vs(t+1,e,n,r,i,o),I&&Vs(t+2,u,l,f,p,y)}var Wf=class extends Hf{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-at}at(e){return this.getLView(e)[st].$implicit}attach(e,n){let r=n[Ts];this.needsIndexUpdate||=e!==this.length,qu(this.lContainer,n,e,Ns(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,gP(this.lContainer,e)}create(e,n){let r=Os(this.lContainer,this.templateTNode.tView.ssrId);return Hu(this.hostLView,this.templateTNode,new zf(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Lu(e[J],e)}updateValue(e,n){this.getLView(e)[st].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[st].$index=e}getLView(e){return mP(this.lContainer,e)}};function yD(t){let e=fe(null),n=ni();try{let r=pe(),i=r[J],o=r[n];if(o.liveCollection===void 0){let c=n+1,u=Kf(r,c),l=Qf(i,c);o.liveCollection=new Wf(u,r,l)}else o.liveCollection.reset();let s=o.liveCollection;if(pP(s,t,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let c=oo(),u=s.length===0;if(mr(r,c,u)){let l=n+2,f=Kf(r,l);if(u){let p=Qf(i,l),y=Os(f,p.tView.ssrId),I=Hu(r,p,void 0,{dehydratedView:y});qu(f,I,0,Ns(p,y))}else rD(f,0)}}}finally{fe(e)}}function Kf(t,e){return t[e]}function gP(t,e){return xs(t,e)}function mP(t,e){return nD(t,e)}function Qf(t,e){return cp(t,e)}function yP(t,e,n,r,i,o){let s=e.consts,c=mu(s,i),u=Bu(e,t,2,r,c);return KE(e,n,u,mu(s,o)),u.attrs!==null&&Mf(u,u.attrs,!1),u.mergedAttrs!==null&&Mf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function F(t,e,n,r){let i=pe(),o=ct(),s=Et+t,c=i[$e],u=o.firstCreatePass?yP(s,o,i,e,n,r):o.data[s],l=vP(o,i,u,c,e,t);i[s]=l;let f=ap(u);return $s(u,!0),VE(c,l,u),!WN(u)&&mp()&&Rp(o,i,l,u),qR()===0&&Jr(l,i),zR(),f&&(qE(o,i,u),HE(o,u,i)),r!==null&&zE(i,u),F}function V(){let t=gt();Xw()?JR():(t=t.parent,$s(t,!1));let e=t;KR(e)&&QR(),GR();let n=ct();return n.firstCreatePass&&(vp(n,t),$w(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&dM(e)&&ow(n,e,pe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&hM(e)&&ow(n,e,pe(),e.stylesWithoutHost,!1),V}function Ee(t,e,n,r){return F(t,e,n,r),V(),Ee}var vP=(t,e,n,r,i,o)=>(yp(!0),xE(r,i,aM()));function Yu(){return pe()}var Mu="en-US";var _P=Mu;function IP(t){typeof t=="string"&&(_P=t.toLowerCase().replace(/_/g,"-"))}function Ut(t,e,n,r){let i=pe(),o=ct(),s=gt();return vD(o,i,i[$e],s,t,e,r),Ut}function wP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Ss],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function vD(t,e,n,r,i,o,s){let c=ap(r),l=t.firstCreatePass&&eD(t),f=e[st],p=XE(e),y=!0;if(r.type&3||s){let M=Lt(r,e),R=s?s(M):M,O=p.length,X=s?he=>s(un(he[r.index])):r.index,z=null;if(!s&&c&&(z=wP(t,e,i,r.index)),z!==null){let he=z.__ngLastListenerFn__||z;he.__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,y=!1}else{o=lw(r,e,f,o,!1);let he=n.listen(R,i,o);p.push(o,he),l&&l.push(i,X,O,O+1)}}else o=lw(r,e,f,o,!1);let I=r.outputs,A;if(y&&I!==null&&(A=I[i])){let M=A.length;if(M)for(let R=0;R<M;R+=2){let O=A[R],X=A[R+1],Me=e[O][X].subscribe(o),ne=p.length;p.push(o,Me),l&&l.push(i,r.index,ne,-(ne+1))}}}function uw(t,e,n,r){let i=fe(null);try{return sn(6,e,n),n(r)!==!1}catch(o){return tD(t,o),!1}finally{sn(7,e,n),fe(i)}}function lw(t,e,n,r,i){return function o(s){if(s===Function)return r;let c=t.componentOffset>-1?fr(t.index,e):e;Op(c);let u=uw(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=uw(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function ri(t=1){return sM(t)}function _D(t,e,n,r){ON(t,e,n,r)}function ID(t){let e=pe(),n=ct(),r=eE();hp(r+1);let i=Lp(n,r);if(t.dirty&&UR(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=LN(e,r);t.reset(o,bM),t.notifyOnChanges()}return!0}return!1}function wD(){return NN(pe(),eE())}function EP(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function jp(t){let e=ZR();return Kw(e,Et+t)}function B(t,e=""){let n=pe(),r=ct(),i=t+Et,o=r.firstCreatePass?Bu(r,i,1,e,null):r.data[i],s=DP(r,n,o,e,t);n[i]=s,mp()&&Rp(r,n,s,o),$s(o,!1)}var DP=(t,e,n,r,i)=>(yp(!0),WM(e[$e],r));function ii(t,e,n){let r=pe(),i=JN(r,t,e,n);return i!==gr&&Ux(r,ni(),i),ii}function oi(t,e,n){fD(e)&&(e=e());let r=pe(),i=oo();if(mr(r,i,e)){let o=ct(),s=gp();WE(o,s,r,t,e,r[$e],n,!1)}return oi}function uo(t,e){let n=fD(t);return n&&t.set(e),n}function si(t,e){let n=pe(),r=ct(),i=gt();return vD(r,n,n[$e],i,t,e),si}function CP(t,e,n){let r=ct();if(r.firstCreatePass){let i=cr(t);Yf(n,r.data,r.blueprint,i,!0),Yf(e,r.data,r.blueprint,i,!1)}}function Yf(t,e,n,r,i){if(t=pt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Yf(t[o],e,n,r,i);else{let o=ct(),s=pe(),c=gt(),u=Xi(t)?t:pt(t.provide),l=Lw(t),f=c.providerIndexes&1048575,p=c.directiveStart,y=c.providerIndexes>>20;if(Xi(t)||!t.multi){let I=new Qr(l,i,re),A=tf(u,e,i?f:f+y,p);A===-1?(gf(Iu(c,s),o,u),ef(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),s.push(I)):(n[A]=I,s[A]=I)}else{let I=tf(u,e,f+y,p),A=tf(u,e,f,f+y),M=I>=0&&n[I],R=A>=0&&n[A];if(i&&!R||!i&&!M){gf(Iu(c,s),o,u);let O=SP(i?TP:bP,n.length,i,r,l);!i&&R&&(n[A].providerFactory=O),ef(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=ED(n[i?A:I],l,!i&&r);ef(o,t,I>-1?I:A,O)}!i&&r&&R&&n[A].componentProviders++}}}function ef(t,e,n,r){let i=Xi(e),o=ER(e);if(i||o){let u=(o?pt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function ED(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function tf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function bP(t,e,n,r){return Jf(this.multi,[])}function TP(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=Yr(n,n[J],this.providerFactory.index,r);o=c.slice(0,s),Jf(i,o);for(let u=s;u<c.length;u++)o.push(c[u])}else o=[],Jf(i,o);return o}function Jf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function SP(t,e,n,r,i){let o=new Qr(t,n,re);return o.multi=[],o.index=e,o.componentProviders=0,ED(o,i,r&&!n),o}function ai(t,e=[]){return n=>{n.providersResolver=(r,i)=>CP(r,i?i(t):t,e)}}var AP=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=kw(!1,n.type),i=r.length>0?Wu([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=H({token:t,providedIn:"environment",factory:()=>new t(Y(wt))})}}return t})();function Le(t){qs("NgStandalone"),t.getStandaloneInjector=e=>e.get(AP).getOrCreateStandaloneInjector(t)}function zs(t,e,n){let r=dp()+t,i=pe();return i[r]===gr?pD(i,r,n?e.call(n):e()):GN(i,r)}function Gs(t,e,n,r){return DD(pe(),dp(),t,e,n,r)}function RP(t,e){let n=t[e];return n===gr?void 0:n}function DD(t,e,n,r,i,o){let s=e+n;return mr(t,s,i)?pD(t,s+1,o?r.call(o,i):r(i)):RP(t,s+1)}function CD(t,e){let n=ct(),r,i=t+Et;n.firstCreatePass?(r=MP(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=zr(r.type,!0)),s,c=_t(re);try{let u=_u(!1),l=o();return _u(u),EP(n,pe(),i,l),l}finally{_t(c)}}function MP(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function bD(t,e,n){let r=t+Et,i=pe(),o=Kw(i,r);return xP(i,r)?DD(i,dp(),e,o.transform,n,o):o.transform(n)}function xP(t,e){return t[J].data[e].pure}var xn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},TD=new xn("17.3.12"),Ju=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var SD=new W("");function ci(t){return!!t&&typeof t.then=="function"}function AD(t){return!!t&&typeof t.subscribe=="function"}var Zu=new W(""),RD=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=k(Zu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(ci(o))n.push(o);else if(AD(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Xu=new W("");function NP(){oI(()=>{throw new $(600,!1)})}function PP(t){return t.isBoundToModule}function OP(t,e,n){try{let r=n();return ci(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ws=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(vE),this.afterRenderEffectManager=k(Vp),this.externalTestViews=new Set,this.beforeRender=new ot,this.afterTick=new ot,this.componentTypes=[],this.components=[],this.isStable=k(Ku).hasPendingTasks.pipe(oe(n=>!n)),this._injector=k(wt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof bu;if(!this._injector.get(RD).done){let y=!i&&xw(n),I=!1;throw new $(405,I)}let s;i?s=n:s=this._injector.get(zu).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let c=PP(s)?void 0:this._injector.get(ur),u=r||s.selector,l=s.create(At.NULL,[],u,c),f=l.location.nativeElement,p=l.injector.get(SD,null);return p?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),nf(this.components,l),p?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new $(101,!1);let r=fe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,fe(r)}}detectChangesInAttachedViews(n){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===oD)throw new $(103,!1);if(n){let o=r===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:c}of this._views)kP(s,o,c)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Zf(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Zf(o))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;nf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Xu,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>nf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function nf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kP(t,e,n){!e&&!Zf(t)||FP(t,n,e)}function Zf(t){return lp(t)}function FP(t,e,n){let r;n?(r=0,t[K]|=1024):t[K]&64?r=0:r=1,sD(t,e,r)}var Xf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},el=(()=>{class t{compileModuleSync(n){return new jf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Nw(n),o=ME(i.declarations).reduce((s,c)=>{let u=ar(c);return u&&s.push(new no(u)),s},[]);return new Xf(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var VP=(()=>{class t{constructor(){this.zone=k(we),this.applicationRef=k(Ws)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function LP(t){return[{provide:we,useFactory:t},{provide:Zi,multi:!0,useFactory:()=>{let e=k(VP,{optional:!0});return()=>e.initialize()}},{provide:Zi,multi:!0,useFactory:()=>{let e=k($P);return()=>{e.initialize()}}},{provide:vE,useFactory:UP}]}function UP(){let t=k(we),e=k(ln);return n=>t.runOutsideAngular(()=>e.handleError(n))}function jP(t){let e=LP(()=>new we(BP(t)));return hr([[],e])}function BP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var $P=(()=>{class t{constructor(){this.subscription=new Oe,this.initialized=!1,this.zone=k(we),this.pendingTasks=k(Ku)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function HP(){return typeof $localize<"u"&&$localize.locale||Mu}var Bp=new W("",{providedIn:"root",factory:()=>k(Bp,ae.Optional|ae.SkipSelf)||HP()});var MD=new W("");var lu=null;function qP(t=[],e){return At.create({name:e,providers:[{provide:Ou,useValue:"platform"},{provide:MD,useValue:new Set([()=>lu=null])},...t]})}function zP(t=[]){if(lu)return lu;let e=qP(t);return lu=e,NP(),GP(e),e}function GP(t){t.get(Dp,null)?.forEach(n=>n())}var yr=(()=>{class t{static{this.__NG_ELEMENT_ID__=WP}}return t})();function WP(t){return KP(gt(),pe(),(t&16)===16)}function KP(t,e,n){if(Fu(t)&&!n){let r=fr(t.index,e);return new Zr(r,r)}else if(t.type&47){let r=e[Jt];return new Zr(r,e)}return null}function xD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=zP(r),o=[jP(),...n||[]],c=new Su({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(we);return u.run(()=>{c.resolveInjectorInitializers();let l=c.get(ln,null),f;u.runOutsideAngular(()=>{f=u.onError.subscribe({next:I=>{l.handleError(I)}})});let p=()=>c.destroy(),y=i.get(MD);return y.add(p),c.onDestroy(()=>{f.unsubscribe(),y.delete(p)}),OP(l,u,()=>{let I=c.get(RD);return I.runInitializers(),I.donePromise.then(()=>{let A=c.get(Bp,Mu);IP(A||Mu);let M=c.get(Ws);return e!==void 0&&M.bootstrap(e),M})})})}catch(e){return Promise.reject(e)}}function vr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ND(t){let e=ar(t);if(!e)return null;let n=new no(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var FD=null;function Un(){return FD}function VD(t){FD??=t}var tl=class{};var Dt=new W(""),zp=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>k(QP),providedIn:"platform"})}}return t})(),LD=new W(""),QP=(()=>{class t extends zp{constructor(){super(),this._doc=k(Dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Un().getBaseHref(this._doc)}onPopState(n){let r=Un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Gp(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function PD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ln(t){return t&&t[0]!=="?"?"?"+t:t}var jn=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>k(Wp),providedIn:"root"})}}return t})(),UD=new W(""),Wp=(()=>{class t extends jn{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(Dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Gp(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ln(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Ln(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Ln(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(Y(zp),Y(UD,8))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),jD=(()=>{class t extends jn{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Gp(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Ln(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Ln(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(Y(zp),Y(UD,8))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),lo=(()=>{class t{constructor(n){this._subject=new ze,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=ZP(PD(OD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ln(r))}normalize(n){return t.stripTrailingSlash(JP(this._basePath,OD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ln(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ln(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Ln}static{this.joinWithSlash=Gp}static{this.stripTrailingSlash=PD}static{this.\u0275fac=function(r){return new(r||t)(Y(jn))}}static{this.\u0275prov=H({token:t,factory:()=>YP(),providedIn:"root"})}}return t})();function YP(){return new lo(Y(jn))}function JP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function OD(t){return t.replace(/\/index.html$/,"")}function ZP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function BD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var $p=/\s+/,kD=[],rl=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=kD,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split($p):kD}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split($p):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split($p).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(re(Rt),re(Vn))}}static{this.\u0275dir=He({type:t,selectors:[["","ngClass",""]],inputs:{klass:[Ze.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var $D=(()=>{class t{transform(n){return JSON.stringify(n,null,2)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Aw({name:"json",type:t,pure:!1,standalone:!0})}}return t})();var Ks=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=dr({type:t})}static{this.\u0275inj=lr({})}}return t})(),Kp="browser",XP="server";function eO(t){return t===Kp}function Qp(t){return t===XP}var HD=(()=>{class t{static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>eO(k(dn))?new Hp(k(Dt),window):new qp})}}return t})(),Hp=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=tO(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function tO(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var qp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},nl=class{};var Xp=class extends tl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},eg=class t extends Xp{static makeCurrent(){VD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=nO();return n==null?null:rO(n)}resetBaseElement(){Qs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return BD(document.cookie,e)}},Qs=null;function nO(){return Qs=Qs||document.querySelector("base"),Qs?Qs.getAttribute("href"):null}function rO(t){return new URL(t,document.baseURI).pathname}var iO=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),tg=new W(""),WD=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(Y(tg),Y(we))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),il=class{constructor(e){this._doc=e}},Jp="ng-app-id",KD=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Qp(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Jp}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Jp),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Jp,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(Y(Dt),Y(Ep),Y(Cp,8),Y(dn))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),Zp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rg=/%COMP%/g,QD="%COMP%",oO=`_nghost-${QD}`,sO=`_ngcontent-${QD}`,aO=!0,cO=new W("",{providedIn:"root",factory:()=>aO});function uO(t){return sO.replace(rg,t)}function lO(t){return oO.replace(rg,t)}function YD(t,e){return e.map(n=>n.replace(rg,t))}var qD=(()=>{class t{constructor(n,r,i,o,s,c,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Qp(c),this.defaultRenderer=new Ys(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===cn.ShadowDom&&(r=Ce(L({},r),{encapsulation:cn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof ol?i.applyToHost(n):i instanceof Js&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case cn.Emulated:o=new ol(u,l,r,this.appId,f,s,c,p);break;case cn.ShadowDom:return new ng(u,l,n,r,s,c,this.nonce,p);default:o=new Js(u,l,r,f,s,c,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(Y(WD),Y(KD),Y(Ep),Y(cO),Y(Dt),Y(dn),Y(we),Y(Cp))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),Ys=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Zp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(zD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(zD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Zp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Zp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Mn.DashCase|Mn.Important)?e.style.setProperty(n,r,i&Mn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Mn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Un().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function zD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ng=class extends Ys{constructor(e,n,r,i,o,s,c,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=YD(i.id,i.styles);for(let f of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Js=class extends Ys{constructor(e,n,r,i,o,s,c,u){super(e,o,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?YD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ol=class extends Js{constructor(e,n,r,i,o,s,c,u){let l=i+"-"+r.id;super(e,n,r,o,s,c,u,l),this.contentAttr=uO(l),this.hostAttr=lO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},dO=(()=>{class t extends il{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(Y(Dt))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),GD=["alt","control","meta","shift"],hO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},pO=(()=>{class t extends il{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Un().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),GD.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=hO[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),GD.forEach(s=>{if(s!==i){let c=fO[s];c(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(Y(Dt))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();function JD(t,e){return xD(L({rootComponent:t},gO(e)))}function gO(t){return{appProviders:[...IO,...t?.providers??[]],platformProviders:_O}}function mO(){eg.makeCurrent()}function yO(){return new ln}function vO(){return CE(document),document}var _O=[{provide:dn,useValue:Kp},{provide:Dp,useValue:mO,multi:!0},{provide:Dt,useFactory:vO,deps:[]}];var IO=[{provide:Ou,useValue:"root"},{provide:ln,useFactory:yO,deps:[]},{provide:tg,useClass:dO,multi:!0,deps:[Dt,we,dn]},{provide:tg,useClass:pO,multi:!0,deps:[Dt]},qD,KD,WD,{provide:ks,useExisting:qD},{provide:nl,useClass:iO,deps:[]},[]];var ZD=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(Y(Dt))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ie="primary",fa=Symbol("RouteTitle"),cg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function mo(t){return new cg(t)}function EO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(s.startsWith(":"))i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function DO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!hn(t[n],e[n]))return!1;return!0}function hn(t,e){let n=t?ug(t):void 0,r=e?ug(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!aC(t[i],e[i]))return!1;return!0}function ug(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function aC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function cC(t){return t.length>0?t[t.length-1]:null}function Er(t){return Fh(t)?t:ci(t)?Ae(Promise.resolve(t)):G(t)}var CO={exact:lC,subset:dC},uC={exact:bO,subset:TO,ignored:()=>!0};function XD(t,e,n){return CO[n.paths](t.root,e.root,n.matrixParams)&&uC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function bO(t,e){return hn(t,e)}function lC(t,e,n){if(!li(t.segments,e.segments)||!cl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!lC(t.children[r],e.children[r],n))return!1;return!0}function TO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>aC(t[n],e[n]))}function dC(t,e,n){return hC(t,e,e.segments,n)}function hC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!li(i,n)||e.hasChildren()||!cl(i,n,r))}else if(t.segments.length===n.length){if(!li(t.segments,n)||!cl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!dC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!li(t.segments,i)||!cl(t.segments,i,r)||!t.children[ie]?!1:hC(t.children[ie],e,o,r)}}function cl(t,e,n){return e.every((r,i)=>uC[n](t[i].parameters,r.parameters))}var _r=class{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=mo(this.queryParams),this._queryParamMap}toString(){return RO.serialize(this)}},Ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ul(this)}},ui=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=mo(this.parameters),this._parameterMap}toString(){return pC(this)}};function SO(t,e){return li(t,e)&&t.every((n,r)=>hn(n.parameters,e[r].parameters))}function li(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function AO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ie&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ie&&(n=n.concat(e(i,r)))}),n}var pa=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>new ia,providedIn:"root"})}}return t})(),ia=class{parse(e){let n=new dg(e);return new _r(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Zs(e.root,!0)}`,r=NO(e.queryParams),i=typeof e.fragment=="string"?`#${MO(e.fragment)}`:"";return`${n}${r}${i}`}},RO=new ia;function ul(t){return t.segments.map(e=>pC(e)).join("/")}function Zs(t,e){if(!t.hasChildren())return ul(t);if(e){let n=t.children[ie]?Zs(t.children[ie],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ie&&r.push(`${i}:${Zs(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=AO(t,(r,i)=>i===ie?[Zs(t.children[ie],!1)]:[`${i}:${Zs(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ie]!=null?`${ul(t)}/${n[0]}`:`${ul(t)}/(${n.join("//")})`}}function fC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sl(t){return fC(t).replace(/%3B/gi,";")}function MO(t){return encodeURI(t)}function lg(t){return fC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ll(t){return decodeURIComponent(t)}function eC(t){return ll(t.replace(/\+/g,"%20"))}function pC(t){return`${lg(t.path)}${xO(t.parameters)}`}function xO(t){return Object.entries(t).map(([e,n])=>`;${lg(e)}=${lg(n)}`).join("")}function NO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${sl(n)}=${sl(i)}`).join("&"):`${sl(n)}=${sl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var PO=/^[^\/()?;#]+/;function ig(t){let e=t.match(PO);return e?e[0]:""}var OO=/^[^\/()?;=#]+/;function kO(t){let e=t.match(OO);return e?e[0]:""}var FO=/^[^=?&#]+/;function VO(t){let e=t.match(FO);return e?e[0]:""}var LO=/^[^&#]+/;function UO(t){let e=t.match(LO);return e?e[0]:""}var dg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new Ie(e,n)),r}parseSegment(){let e=ig(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new ui(ll(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=kO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ig(this.remaining);i&&(r=i,this.capture(r))}e[ll(n)]=ll(r)}parseQueryParam(e){let n=VO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=UO(this.remaining);s&&(r=s,this.capture(r))}let i=eC(n),o=eC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ig(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ie);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ie]:new Ie([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function gC(t){return t.segments.length>0?new Ie([],{[ie]:t}):t}function mC(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=mC(i);if(r===ie&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ie(t.segments,e);return jO(n)}function jO(t){if(t.numberOfChildren===1&&t.children[ie]){let e=t.children[ie];return new Ie(t.segments.concat(e.segments),e.children)}return t}function yo(t){return t instanceof _r}function BO(t,e,n=null,r=null){let i=yC(t);return vC(i,e,n,r)}function yC(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let c=new Ie(o.url,s);return o===t&&(e=c),c}let r=n(t.root),i=gC(r);return e??i}function vC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return og(i,i,i,n,r);let o=$O(e);if(o.toRoot())return og(i,i,new Ie([],{}),n,r);let s=HO(o,i,t),c=s.processChildren?ta(s.segmentGroup,s.index,o.commands):IC(s.segmentGroup,s.index,o.commands);return og(i,s.segmentGroup,c,n,r)}function dl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function oa(t){return typeof t=="object"&&t!=null&&t.outlets}function og(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;t===e?s=n:s=_C(t,e,n);let c=gC(mC(s));return new _r(c,o,i)}function _C(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=_C(o,e,n)}),new Ie(t.segments,r)}var hl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&dl(r[0]))throw new $(4003,!1);let i=r.find(oa);if(i&&i!==cC(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function $O(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new hl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new hl(n,e,r)}var po=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function HO(t,e,n){if(t.isAbsolute)return new po(e,!0,0);if(!n)return new po(e,!1,NaN);if(n.parent===null)return new po(n,!0,0);let r=dl(t.commands[0])?0:1,i=n.segments.length-1+r;return qO(n,i,t.numberOfDoubleDots)}function qO(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new po(r,!1,i-o)}function zO(t){return oa(t[0])?t[0].outlets:{[ie]:t}}function IC(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return ta(t,e,n);let r=GO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ie(t.segments.slice(0,r.pathIndex),{});return o.children[ie]=new Ie(t.segments.slice(r.pathIndex),t.children),ta(o,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?hg(t,e,n):r.match?ta(t,0,i):hg(t,e,n)}function ta(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=zO(n),i={};if(Object.keys(r).some(o=>o!==ie)&&t.children[ie]&&t.numberOfChildren===1&&t.children[ie].segments.length===0){let o=ta(t.children[ie],e,n);return new Ie(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=IC(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(t.segments,i)}}function GO(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],c=n[r];if(oa(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!nC(u,l,s))return o;r+=2}else{if(!nC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function hg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(oa(o)){let u=WO(o.outlets);return new Ie(r,u)}if(i===0&&dl(n[0])){let u=t.segments[e];r.push(new ui(u.path,tC(n[0]))),i++;continue}let s=oa(o)?o.outlets[ie]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&dl(c)?(r.push(new ui(s,tC(c))),i+=2):(r.push(new ui(s,{})),i++)}return new Ie(r,{})}function WO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=hg(new Ie([],{}),0,r))}),e}function tC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function nC(t,e,n){return t==n.path&&hn(e,n.parameters)}var na="imperative",We=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(We||{}),jt=class{constructor(e,n){this.id=e,this.url=n}},vo=class extends jt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=We.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},nn=class extends jt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=We.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(xt||{}),fl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(fl||{}),Ir=class extends jt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},wr=class extends jt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationSkipped}},sa=class extends jt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=We.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pl=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fg=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pg=class extends jt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=We.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},gg=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mg=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yg=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},vg=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},_g=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ig=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wg=class{constructor(e){this.snapshot=e,this.type=We.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Eg=class{constructor(e){this.snapshot=e,this.type=We.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gl=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=We.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},aa=class{},ca=class{constructor(e){this.url=e}};var Dg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ga,this.attachRef=null}},ga=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Dg,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ml=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Cg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Cg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=bg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return bg(e,this._root).map(n=>n.value)}};function Cg(t,e){if(t===e.value)return e;for(let n of e.children){let r=Cg(t,n);if(r)return r}return null}function bg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=bg(t,n);if(r.length)return r.unshift(e),r}return[]}var Mt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function fo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var yl=class extends ml{constructor(e,n){super(e),this.snapshot=n,kg(this,e)}toString(){return this.snapshot.toString()}};function wC(t){let e=KO(t),n=new Je([new ui("",{})]),r=new Je({}),i=new Je({}),o=new Je({}),s=new Je(""),c=new fn(n,r,o,s,i,ie,t,e.root);return c.snapshot=e.root,new yl(new Mt(c,[]),e)}function KO(t){let e={},n={},r={},i="",o=new ua([],e,r,i,n,ie,t,null,{});return new vl("",new Mt(o,[]))}var fn=class{constructor(e,n,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(oe(l=>l[fa]))??G(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>mo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>mo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Og(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),t.params),data:L(L({},e.data),t.data),resolve:L(L(L(L({},t.data),e.data),i?.data),t._resolvedData)}:r={params:L({},t.params),data:L({},t.data),resolve:L(L({},t.data),t._resolvedData??{})},i&&DC(i)&&(r.resolve[fa]=i.title),r}var ua=class{get title(){return this.data?.[fa]}constructor(e,n,r,i,o,s,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=mo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=mo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},vl=class extends ml{constructor(e,n){super(n),this.url=e,kg(this,n)}toString(){return EC(this._root)}};function kg(t,e){e.value._routerState=t,e.children.forEach(n=>kg(t,n))}function EC(t){let e=t.children.length>0?` { ${t.children.map(EC).join(", ")} } `:"";return`${t.value}${e}`}function sg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),hn(e.params,n.params)||t.paramsSubject.next(n.params),DO(e.url,n.url)||t.urlSubject.next(n.url),hn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Tg(t,e){let n=hn(t.params,e.params)&&SO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Tg(t.parent,e.parent))}function DC(t){return typeof t.title=="string"||t.title===null}var Fg=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new ze,this.deactivateEvents=new ze,this.attachEvents=new ze,this.detachEvents=new ze,this.parentContexts=k(ga),this.location=k(ao),this.changeDetector=k(yr),this.environmentInjector=k(wt),this.inputBinder=k(El,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Sg(n,c,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=He({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Fn]})}}return t})(),Sg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===fn?this.route:e===ga?this.childContexts:this.parent.get(e,n)}},El=new W(""),rC=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Is([r.queryParams,r.params,r.data]).pipe(Ft(([o,s,c],u)=>(c=L(L(L({},o),s),c),u===0?G(c):Promise.resolve(c)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=ND(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:c}of s.inputs)n.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();function QO(t,e,n){let r=la(t,e._root,n?n._root:void 0);return new yl(r,e)}function la(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=YO(t,e,n);return new Mt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>la(t,c)),s}}let r=JO(e.value),i=e.children.map(o=>la(t,o));return new Mt(r,i)}}function YO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return la(t,r,i);return la(t,r)})}function JO(t){return new fn(new Je(t.url),new Je(t.params),new Je(t.queryParams),new Je(t.fragment),new Je(t.data),t.outlet,t.component,t)}var CC="ngNavigationCancelingError";function bC(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=yo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=TC(!1,xt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function TC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[CC]=!0,n.cancellationCode=e,n}function ZO(t){return SC(t)&&yo(t.url)}function SC(t){return!!t&&t[CC]}var XO=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ve({type:t,selectors:[["ng-component"]],standalone:!0,features:[Le],decls:1,vars:0,template:function(r,i){r&1&&Ee(0,"router-outlet")},dependencies:[Fg],encapsulation:2})}}return t})();function ek(t,e){return t.providers&&!t._injector&&(t._injector=Wu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Vg(t){let e=t.children&&t.children.map(Vg),n=e?Ce(L({},t),{children:e}):L({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=XO),n}function pn(t){return t.outlet||ie}function tk(t,e){let n=t.filter(r=>pn(r)===e);return n.push(...t.filter(r=>pn(r)!==e)),n}function ma(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var nk=(t,e,n,r)=>oe(i=>(new Ag(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Ag=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),sg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=fo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=fo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=fo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=fo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Eg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ig(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(sg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),sg(c.route.value),this.activateChildRoutes(e,null,s.children)}else{let c=ma(i.snapshot);s.attachRef=null,s.route=i,s.injector=c,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},_l=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},go=class{constructor(e,n){this.component=e,this.route=n}};function rk(t,e,n){let r=t._root,i=e?e._root:null;return Xs(r,i,n,[r.value])}function ik(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function wo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!pw(t)?t:e.get(t):r}function Xs(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=fo(e);return t.children.forEach(s=>{ok(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>ra(c,n.getContext(s),i)),i}function ok(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=sk(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new _l(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Xs(t,e,c?c.children:null,r,i):Xs(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new go(c.outlet.component,s))}else s&&ra(e,c,i),i.canActivateChecks.push(new _l(r)),o.component?Xs(t,null,c?c.children:null,r,i):Xs(t,null,n,r,i);return i}function sk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!li(t.url,e.url);case"pathParamsOrQueryParamsChange":return!li(t.url,e.url)||!hn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tg(t,e)||!hn(t.queryParams,e.queryParams);case"paramsChange":default:return!Tg(t,e)}}function ra(t,e,n){let r=fo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ra(s,e.children.getContext(o),n):ra(s,null,n):ra(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new go(e.outlet.component,i)):n.canDeactivateChecks.push(new go(null,i)):n.canDeactivateChecks.push(new go(null,i))}function ya(t){return typeof t=="function"}function ak(t){return typeof t=="boolean"}function ck(t){return t&&ya(t.canLoad)}function uk(t){return t&&ya(t.canActivate)}function lk(t){return t&&ya(t.canActivateChild)}function dk(t){return t&&ya(t.canDeactivate)}function hk(t){return t&&ya(t.canMatch)}function AC(t){return t instanceof Tn||t?.name==="EmptyError"}var al=Symbol("INITIAL_VALUE");function _o(){return Ft(t=>Is(t.map(e=>e.pipe(Sn(1),Xc(al)))).pipe(oe(e=>{for(let n of e)if(n!==!0){if(n===al)return al;if(n===!1||n instanceof _r)return n}return!0}),St(e=>e!==al),Sn(1)))}function fk(t,e){return Fe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?G(Ce(L({},n),{guardsResult:!0})):pk(s,r,i,t).pipe(Fe(c=>c&&ak(c)?gk(r,o,t,e):G(c)),oe(c=>Ce(L({},n),{guardsResult:c})))})}function pk(t,e,n,r){return Ae(t).pipe(Fe(i=>Ik(i.component,i.route,n,e,r)),on(i=>i!==!0,!0))}function gk(t,e,n,r){return Ae(e).pipe($r(i=>Hi(yk(i.route.parent,r),mk(i.route,r),_k(t,i.path,n),vk(t,i.route,n))),on(i=>i!==!0,!0))}function mk(t,e){return t!==null&&e&&e(new wg(t)),G(!0)}function yk(t,e){return t!==null&&e&&e(new _g(t)),G(!0)}function vk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(o=>Yc(()=>{let s=ma(e)??n,c=wo(o,s),u=uk(c)?c.canActivate(e,t):Pn(s,()=>c(e,t));return Er(u).pipe(on())}));return G(i).pipe(_o())}function _k(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>ik(s)).filter(s=>s!==null).map(s=>Yc(()=>{let c=s.guards.map(u=>{let l=ma(s.node)??n,f=wo(u,l),p=lk(f)?f.canActivateChild(r,t):Pn(l,()=>f(r,t));return Er(p).pipe(on())});return G(c).pipe(_o())}));return G(o).pipe(_o())}function Ik(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(c=>{let u=ma(e)??i,l=wo(c,u),f=dk(l)?l.canDeactivate(t,e,n,r):Pn(u,()=>l(t,e,n,r));return Er(f).pipe(on())});return G(s).pipe(_o())}function wk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let o=i.map(s=>{let c=wo(s,t),u=ck(c)?c.canLoad(e,n):Pn(t,()=>c(e,n));return Er(u)});return G(o).pipe(_o(),RC(r))}function RC(t){return xc(Be(e=>{if(yo(e))throw bC(t,e)}),oe(e=>e===!0))}function Ek(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let o=i.map(s=>{let c=wo(s,t),u=hk(c)?c.canMatch(e,n):Pn(t,()=>c(e,n));return Er(u)});return G(o).pipe(_o(),RC(r))}var da=class{constructor(e){this.segmentGroup=e||null}},Il=class extends Error{constructor(e){super(),this.urlTree=e}};function ho(t){return $i(new da(t))}function Dk(t){return $i(new $(4e3,!1))}function Ck(t){return $i(TC(!1,xt.GuardRejected))}var Rg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[ie])return Dk(e.redirectTo);i=i.children[ie]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Il(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new _r(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new Ie(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Mg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bk(t,e,n,r,i){let o=Lg(t,e,n);return o.matched?(r=ek(e,r),Ek(r,e,n,i).pipe(oe(s=>s===!0?o:L({},Mg)))):G(o)}function Lg(t,e,n){if(e.path==="**")return Tk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?L({},Mg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||EO)(n,t,e);if(!i)return L({},Mg);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Tk(t){return{matched:!0,parameters:t.length>0?cC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function iC(t,e,n,r){return n.length>0&&Rk(t,n,r)?{segmentGroup:new Ie(e,Ak(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&Mk(t,n,r)?{segmentGroup:new Ie(t.segments,Sk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function Sk(t,e,n,r){let i={};for(let o of n)if(Dl(t,e,o)&&!r[pn(o)]){let s=new Ie([],{});i[pn(o)]=s}return L(L({},r),i)}function Ak(t,e){let n={};n[ie]=e;for(let r of t)if(r.path===""&&pn(r)!==ie){let i=new Ie([],{});n[pn(r)]=i}return n}function Rk(t,e,n){return n.some(r=>Dl(t,e,r)&&pn(r)!==ie)}function Mk(t,e,n){return n.some(r=>Dl(t,e,r))}function Dl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function xk(t,e,n,r){return pn(t)!==r&&(r===ie||!Dl(e,n,t))?!1:Lg(e,t,n).matched}function Nk(t,e,n){return e.length===0&&!t.children[n]}var xg=class{};function Pk(t,e,n,r,i,o,s="emptyOnly"){return new Ng(t,e,n,r,i,s,o).recognize()}var Ok=31,Ng=class{constructor(e,n,r,i,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Rg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=iC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(n=>{let r=new ua([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,{},ie,this.rootComponentType,null,{}),i=new Mt(r,n),o=new vl("",i),s=BO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ie).pipe(rr(r=>{if(r instanceof Il)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof da?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Og(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(oe(o=>o instanceof Mt?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Ae(i).pipe($r(o=>{let s=r.children[o],c=tk(n,o);return this.processSegmentGroup(e,c,s,o)}),Zc((o,s)=>(o.push(...s),o)),ir(null),Uh(),Fe(o=>{if(o===null)return ho(r);let s=MC(o);return kk(s),G(s)}))}processSegment(e,n,r,i,o,s){return Ae(n).pipe($r(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s).pipe(rr(u=>{if(u instanceof da)return G(null);throw u}))),on(c=>!!c),rr(c=>{if(AC(c))return Nk(r,i,o)?G(new xg):ho(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,c){return xk(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):ho(i):ho(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:c,consumedSegments:u,positionalParamSegments:l,remainingSegments:f}=Lg(n,i,o);if(!c)return ho(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ok&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(Fe(y=>this.processSegment(e,r,n,y.concat(f),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=bk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Ft(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ft(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:f,remainingSegments:p,parameters:y}=c,I=new ua(f,y,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Vk(r),pn(r),r.component??r._loadedComponent??null,r,Lk(r)),{segmentGroup:A,slicedSegments:M}=iC(n,f,p,u);if(M.length===0&&A.hasChildren())return this.processChildren(l,u,A).pipe(oe(O=>O===null?null:new Mt(I,O)));if(u.length===0&&M.length===0)return G(new Mt(I,[]));let R=pn(r)===o;return this.processSegment(l,u,A,M,R?ie:o,!0).pipe(oe(O=>new Mt(I,O instanceof Mt?[O]:[])))}))):ho(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?G({routes:n._loadedRoutes,injector:n._loadedInjector}):wk(e,n,r,this.urlSerializer).pipe(Fe(i=>i?this.configLoader.loadChildren(e,n).pipe(Be(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Ck(n))):G({routes:[],injector:e})}};function kk(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}function Fk(t){let e=t.value.routeConfig;return e&&e.path===""}function MC(t){let e=[],n=new Set;for(let r of t){if(!Fk(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=MC(r.children);e.push(new Mt(r.value,i))}return e.filter(r=>!n.has(r))}function Vk(t){return t.data||{}}function Lk(t){return t.resolve||{}}function Uk(t,e,n,r,i,o){return Fe(s=>Pk(t,e,n,r,s.extractedUrl,i,o).pipe(oe(({state:c,tree:u})=>Ce(L({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function jk(t,e){return Fe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of xC(u))s.add(l);let c=0;return Ae(s).pipe($r(u=>o.has(u)?Bk(u,r,t,e):(u.data=Og(u,u.parent,t).resolve,G(void 0))),Be(()=>c++),qi(1),Fe(u=>c===s.size?G(n):Tt))})}function xC(t){let e=t.children.map(n=>xC(n)).flat();return[t,...e]}function Bk(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!DC(i)&&(o[fa]=i.title),$k(o,t,e,r).pipe(oe(s=>(t._resolvedData=s,t.data=Og(t,t.parent,n).resolve,null)))}function $k(t,e,n,r){let i=ug(t);if(i.length===0)return G({});let o={};return Ae(i).pipe(Fe(s=>Hk(t[s],e,n,r).pipe(on(),Be(c=>{o[s]=c}))),qi(1),Lh(o),rr(s=>AC(s)?Tt:$i(s)))}function Hk(t,e,n,r){let i=ma(e)??r,o=wo(t,i),s=o.resolve?o.resolve(e,n):Pn(i,()=>o(e,n));return Er(s)}function ag(t){return Ft(e=>{let n=t(e);return n?Ae(n).pipe(oe(()=>e)):G(e)})}var NC=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ie);return r}getResolvedTitleForRoute(n){return n.data[fa]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>k(qk),providedIn:"root"})}}return t})(),qk=(()=>{class t extends NC{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(Y(ZD))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),va=new W("",{providedIn:"root",factory:()=>({})}),ha=new W(""),Ug=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(el)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return G(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Er(n.loadComponent()).pipe(oe(PC),Be(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ws(()=>{this.componentLoaders.delete(n)})),i=new Li(r,()=>new ot).pipe(Vi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=zk(r,this.compiler,n,this.onLoadEndListener).pipe(ws(()=>{this.childrenLoaders.delete(r)})),s=new Li(o,()=>new ot).pipe(Vi());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function zk(t,e,n,r){return Er(t.loadChildren()).pipe(oe(PC),Fe(i=>i instanceof Fs||Array.isArray(i)?G(i):Ae(e.compileModuleAsync(i))),oe(i=>{r&&r(t);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(ha,[],{optional:!0,self:!0}).flat()),{routes:s.map(Vg),injector:o}}))}function Gk(t){return t&&typeof t=="object"&&"default"in t}function PC(t){return Gk(t)?t.default:t}var jg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>k(Wk),providedIn:"root"})}}return t})(),Wk=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),OC=new W(""),kC=new W("");function Kk(t,e,n){let r=t.get(kC),i=t.get(Dt);return t.get(we).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),c=i.startViewTransition(()=>(o(),Qk(t))),{onViewTransitionCreated:u}=r;return u&&Pn(t,()=>u({transition:c,from:e,to:n})),s})}function Qk(t){return new Promise(e=>{Gu(e,{injector:t})})}var Bg=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ot,this.transitionAbortSubject=new ot,this.configLoader=k(Ug),this.environmentInjector=k(wt),this.urlSerializer=k(pa),this.rootContexts=k(ga),this.location=k(lo),this.inputBindingEnabled=k(El,{optional:!0})!==null,this.titleStrategy=k(NC),this.options=k(va,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(jg),this.createViewTransition=k(OC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null;let n=i=>this.events.next(new yg(i)),r=i=>this.events.next(new vg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Ce(L(L({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Je({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:na,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(St(o=>o.id!==0),oe(o=>Ce(L({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ft(o=>{let s=!1,c=!1;return G(o).pipe(Ft(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",xt.SupersededByNewNavigation),Tt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Ce(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&f!=="reload"){let p="";return this.events.next(new wr(u.id,this.urlSerializer.serialize(u.rawUrl),p,fl.IgnoredSameUrlNavigation)),u.resolve(null),Tt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return G(u).pipe(Ft(p=>{let y=this.transitions?.getValue();return this.events.next(new vo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?Tt:Promise.resolve(p)}),Uk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Be(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Ce(L({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new pl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:y,source:I,restoredState:A,extras:M}=u,R=new vo(p,this.urlSerializer.serialize(y),I,A);this.events.next(R);let O=wC(this.rootComponentType).snapshot;return this.currentTransition=o=Ce(L({},u),{targetSnapshot:O,urlAfterRedirects:y,extras:Ce(L({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,G(o)}else{let p="";return this.events.next(new wr(u.id,this.urlSerializer.serialize(u.extractedUrl),p,fl.IgnoredByUrlHandlingStrategy)),u.resolve(null),Tt}}),Be(u=>{let l=new fg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),oe(u=>(this.currentTransition=o=Ce(L({},u),{guards:rk(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),fk(this.environmentInjector,u=>this.events.next(u)),Be(u=>{if(o.guardsResult=u.guardsResult,yo(u.guardsResult))throw bC(this.urlSerializer,u.guardsResult);let l=new pg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),St(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",xt.GuardRejected),!1)),ag(u=>{if(u.guards.canActivateChecks.length)return G(u).pipe(Be(l=>{let f=new gg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),Ft(l=>{let f=!1;return G(l).pipe(jk(this.paramsInheritanceStrategy,this.environmentInjector),Be({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",xt.NoDataFromResolver)}}))}),Be(l=>{let f=new mg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),ag(u=>{let l=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(Be(y=>{f.component=y}),oe(()=>{})));for(let y of f.children)p.push(...l(y));return p};return Is(l(u.targetSnapshot.root)).pipe(ir(null),Sn(1))}),ag(()=>this.afterPreactivation()),Ft(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,f=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return f?Ae(f).pipe(oe(()=>o)):G(o)}),oe(u=>{let l=QO(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=Ce(L({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Be(()=>{this.events.next(new aa)}),nk(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Sn(1),Be({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),jh(this.transitionAbortSubject.pipe(Be(u=>{throw u}))),ws(()=>{!s&&!c&&this.cancelNavigationTransition(o,"",xt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),rr(u=>{if(c=!0,SC(u))this.events.next(new Ir(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),ZO(u)?this.events.next(new ca(u.url)):o.resolve(!1);else{this.events.next(new sa(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return Tt}))}))}cancelNavigationTransition(n,r,i){let o=new Ir(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Yk(t){return t!==na}var Jk=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>k(Zk),providedIn:"root"})}}return t})(),Pg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Zk=(()=>{class t extends Pg{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pr(t)))(i||t)}})()}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),FC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>k(Xk),providedIn:"root"})}}return t})(),Xk=(()=>{class t extends FC{constructor(){super(...arguments),this.location=k(lo),this.urlSerializer=k(pa),this.options=k(va,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(jg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new _r,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=wC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof vo)this.stateMemento=this.createStateMemento();else if(n instanceof wr)this.rawUrlTree=r.initialUrl;else if(n instanceof pl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof aa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Ir&&(n.code===xt.GuardRejected||n.code===xt.NoDataFromResolver)?this.restoreHistory(r):n instanceof sa?this.restoreHistory(r,!0):n instanceof nn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=L(L({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=L(L({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pr(t)))(i||t)}})()}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ea=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ea||{});function VC(t,e){t.events.pipe(St(n=>n instanceof nn||n instanceof Ir||n instanceof sa||n instanceof wr),oe(n=>n instanceof nn||n instanceof wr?ea.COMPLETE:(n instanceof Ir?n.code===xt.Redirect||n.code===xt.SupersededByNewNavigation:!1)?ea.REDIRECTING:ea.FAILED),St(n=>n!==ea.REDIRECTING),Sn(1)).subscribe(()=>{e()})}function e1(t){throw t}var t1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},n1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Bt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=k(Ju),this.stateManager=k(FC),this.options=k(va,{optional:!0})||{},this.pendingTasks=k(Ku),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Bg),this.urlSerializer=k(pa),this.location=k(lo),this.urlHandlingStrategy=k(jg),this._events=new ot,this.errorHandler=this.options.errorHandler||e1,this.navigated=!1,this.routeReuseStrategy=k(Jk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(ha,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(El,{optional:!0}),this.eventsSubscription=new Oe,this.isNgZoneEnabled=k(we)instanceof we&&we.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Ir&&r.code!==xt.Redirect&&r.code!==xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof nn)this.navigated=!0;else if(r instanceof ca){let s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Yk(i.source)};this.scheduleNavigation(s,na,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}i1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),na,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Vg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(c){case"merge":f=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=yC(y)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),p=this.currentUrlTree.root}return vC(p,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=yo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,na,null,r)}navigate(n,r={skipLocationChange:!1}){return r1(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=L({},t1):r===!1?i=L({},n1):i=r,yo(n))return XD(this.currentUrlTree,n,i);let o=this.parseUrl(n);return XD(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,y)=>{c=p,u=y});let f=this.pendingTasks.add();return VC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function r1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function i1(t){return!(t instanceof aa)&&!(t instanceof ca)}var Io=(()=>{class t{constructor(n,r,i,o,s,c){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ot,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof nn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:AE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(re(Bt),re(fn),Ip("tabindex"),re(Vn),re(Rt),re(jn))}}static{this.\u0275dir=He({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Ut("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&co("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ze.HasDecoratorInputTransform,"preserveFragment","preserveFragment",vr],skipLocationChange:[Ze.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",vr],replaceUrl:[Ze.HasDecoratorInputTransform,"replaceUrl","replaceUrl",vr],routerLink:"routerLink"},standalone:!0,features:[Up,Fn]})}}return t})(),LC=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ze,this.routerEventsSubscription=n.events.subscribe(c=>{c instanceof nn&&this.update()})}ngAfterContentInit(){G(this.links.changes,G(null)).pipe(nr()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ae(n).pipe(nr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=o1(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static{this.\u0275fac=function(r){return new(r||t)(re(Bt),re(Rt),re(Vn),re(yr),re(Io,8))}}static{this.\u0275dir=He({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&_D(o,Io,5),r&2){let s;ID(s=wD())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Fn]})}}return t})();function o1(t){return!!t.paths}var wl=class{};var s1=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(St(n=>n instanceof nn),$r(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Wu(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,c=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Ae(i).pipe(nr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=G(null);let o=i.pipe(Fe(s=>s===null?G(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ae([o,s]).pipe(nr())}else return o})}static{this.\u0275fac=function(r){return new(r||t)(Y(Bt),Y(el),Y(wt),Y(wl),Y(Ug))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),UC=new W(""),a1=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=k(wt),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof vo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof nn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof wr&&n.code===fl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof gl&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>T(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),Gu(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new gl(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){UE()}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();function jC(t,...e){return hr([{provide:ha,multi:!0,useValue:t},[],{provide:fn,useFactory:BC,deps:[Bt]},{provide:Xu,multi:!0,useFactory:$C},e.map(n=>n.\u0275providers)])}function BC(t){return t.routerState.root}function _a(t,e){return{\u0275kind:t,\u0275providers:e}}function $C(){let t=k(At);return e=>{let n=t.get(Ws);if(e!==n.components[0])return;let r=t.get(Bt),i=t.get(HC);t.get($g)===1&&r.initialNavigation(),t.get(qC,null,ae.Optional)?.setUpPreloading(),t.get(UC,null,ae.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var HC=new W("",{factory:()=>new ot}),$g=new W("",{providedIn:"root",factory:()=>1});function c1(){return _a(2,[{provide:$g,useValue:0},{provide:Zu,multi:!0,deps:[At],useFactory:e=>{let n=e.get(LD,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Bt),o=e.get(HC);VC(i,()=>{r(!0)}),e.get(Bg).afterPreactivation=()=>(r(!0),o.closed?G(void 0):o),i.initialNavigation()}))}}])}function u1(){return _a(3,[{provide:Zu,multi:!0,useFactory:()=>{let e=k(Bt);return()=>{e.setUpLocationChangeListener()}}},{provide:$g,useValue:2}])}var qC=new W("");function l1(t){return _a(0,[{provide:qC,useExisting:s1},{provide:wl,useExisting:t}])}function d1(){return _a(8,[rC,{provide:El,useExisting:rC}])}function h1(t){let e=[{provide:OC,useValue:Kk},{provide:kC,useValue:L({skipNextTransition:!!t?.skipInitialTransition},t)}];return _a(9,e)}var oC=new W("ROUTER_FORROOT_GUARD"),f1=[lo,{provide:pa,useClass:ia},Bt,ga,{provide:fn,useFactory:BC,deps:[Bt]},Ug,[]],Cl=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[f1,[],{provide:ha,multi:!0,useValue:n},{provide:oC,useFactory:y1,deps:[[Bt,new Zt,new ww]]},{provide:va,useValue:r||{}},r?.useHash?g1():m1(),p1(),r?.preloadingStrategy?l1(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?v1(r):[],r?.bindToComponentInputs?d1().\u0275providers:[],r?.enableViewTransitions?h1().\u0275providers:[],_1()]}}static forChild(n){return{ngModule:t,providers:[{provide:ha,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(Y(oC,8))}}static{this.\u0275mod=dr({type:t})}static{this.\u0275inj=lr({})}}return t})();function p1(){return{provide:UC,useFactory:()=>{let t=k(HD),e=k(we),n=k(va),r=k(Bg),i=k(pa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new a1(i,r,t,e,n)}}}function g1(){return{provide:jn,useClass:jD}}function m1(){return{provide:jn,useClass:Wp}}function y1(t){return"guarded"}function v1(t){return[t.initialNavigation==="disabled"?u1().\u0275providers:[],t.initialNavigation==="enabledBlocking"?c1().\u0275providers:[]]}var sC=new W("");function _1(){return[{provide:sC,useFactory:$C},{provide:Xu,multi:!0,useExisting:sC}]}var GC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ve({type:t,selectors:[["app-home"]],standalone:!0,features:[Le],decls:46,vars:0,consts:[[1,"container","my-5"],[1,"row","g-4"],[1,"col-md-6"],[1,"card","dashboard-card","pink"],[1,"card-body"],[1,"progress"],[1,"progress-bar",2,"width","60%"],[1,"float-end"],[1,"card","dashboard-card","blue"],[1,"progress-bar",2,"width","70%"],[1,"card","dashboard-card","green"],[1,"card","dashboard-card","orange"]],template:function(r,i){r&1&&(F(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h6"),B(6,"New Orders"),V(),F(7,"h2"),B(8,"3,243"),V(),F(9,"div",5),Ee(10,"div",6),V(),F(11,"small",7),B(12,"12.5% \u2191"),V()()()(),F(13,"div",2)(14,"div",8)(15,"div",4)(16,"h6"),B(17,"Customers"),V(),F(18,"h2"),B(19,"15.07k"),V(),F(20,"div",5),Ee(21,"div",9),V(),F(22,"small",7),B(23,"9.23% \u2191"),V()()()(),F(24,"div",2)(25,"div",10)(26,"div",4)(27,"h6"),B(28,"Ticket Resolved"),V(),F(29,"h2"),B(30,"578"),V(),F(31,"div",5),Ee(32,"div",6),V(),F(33,"small",7),B(34,"10% \u2191"),V()()()(),F(35,"div",2)(36,"div",11)(37,"div",4)(38,"h6"),B(39,"Revenue Today"),V(),F(40,"h2"),B(41,"$11.61k"),V(),F(42,"div",5),Ee(43,"div",6),V(),F(44,"small",7),B(45,"2.5% \u2191"),V()()()()()())},styles:[".dashboard-card[_ngcontent-%COMP%]{color:#fff;border-radius:12px;border:none}.dashboard-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700}.progress[_ngcontent-%COMP%]{height:8px;background-color:#ffffff40;border-radius:10px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;border-radius:10px;background:linear-gradient(to right,#ffffffe6,#fff9)}.pink[_ngcontent-%COMP%]{background:linear-gradient(to right,#7b1fa2,#e91e63)}.blue[_ngcontent-%COMP%]{background:linear-gradient(to right,#2c3e50,#3498db)}.green[_ngcontent-%COMP%]{background:linear-gradient(to right,#1b5e20,#66bb6a)}.orange[_ngcontent-%COMP%]{background:linear-gradient(to right,#a65c00,#fbc02d)}"]})}}return t})();var eb=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(re(Vn),re(Rt))}}static{this.\u0275dir=He({type:t})}}return t})(),tb=(()=>{class t extends eb{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pr(t)))(i||t)}})()}static{this.\u0275dir=He({type:t,features:[en]})}}return t})(),zg=new W(""),I1={provide:zg,useExisting:Nn(()=>Ca),multi:!0},Ca=(()=>{class t extends tb{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pr(t)))(i||t)}})()}static{this.\u0275dir=He({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&Ut("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[ai([I1]),en]})}}return t})(),w1={provide:zg,useExisting:Nn(()=>Co),multi:!0};function E1(){let t=Un()?Un().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var D1=new W(""),Co=(()=>{class t extends eb{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!E1())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(re(Vn),re(Rt),re(D1,8))}}static{this.\u0275dir=He({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ut("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ai([w1]),en]})}}return t})();function nb(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var xl=new W(""),rb=new W("");function C1(t){return nb(t.value)?{required:!0}:null}function b1(t){if(!t)return Hg;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(nb(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Hg(t){return null}function ib(t){return t!=null}function ob(t){return ci(t)?Ae(t):t}function sb(t){let e={};return t.forEach(n=>{e=n!=null?L(L({},e),n):e}),Object.keys(e).length===0?null:e}function ab(t,e){return e.map(n=>n(t))}function T1(t){return!t.validate}function cb(t){return t.map(e=>T1(e)?e:n=>e.validate(n))}function S1(t){if(!t)return null;let e=t.filter(ib);return e.length==0?null:function(n){return sb(ab(n,e))}}function Gg(t){return t!=null?S1(cb(t)):null}function A1(t){if(!t)return null;let e=t.filter(ib);return e.length==0?null:function(n){let r=ab(n,e).map(ob);return Vh(r).pipe(oe(sb))}}function Wg(t){return t!=null?A1(cb(t)):null}function WC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function R1(t){return t._rawValidators}function M1(t){return t._rawAsyncValidators}function qg(t){return t?Array.isArray(t)?t:[t]:[]}function Tl(t,e){return Array.isArray(t)?t.includes(e):t===e}function KC(t,e){let n=qg(e);return qg(t).forEach(i=>{Tl(n,i)||n.push(i)}),n}function QC(t,e){return qg(e).filter(n=>!Tl(t,n))}var Sl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Gg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Wg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Do=class extends Sl{get formDirective(){return null}get path(){return null}},Da=class extends Sl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Al=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},x1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},d3=Ce(L({},x1),{"[class.ng-submitted]":"isSubmitted"}),Nl=(()=>{class t extends Al{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(re(Da,2))}}static{this.\u0275dir=He({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Qu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[en]})}}return t})(),Pl=(()=>{class t extends Al{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(re(Do,10))}}static{this.\u0275dir=He({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Qu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[en]})}}return t})();var Ia="VALID",bl="INVALID",Eo="PENDING",wa="DISABLED";function ub(t){return(Ol(t)?t.validators:t)||null}function N1(t){return Array.isArray(t)?Gg(t):t||null}function lb(t,e){return(Ol(e)?e.asyncValidators:t)||null}function P1(t){return Array.isArray(t)?Wg(t):t||null}function Ol(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function O1(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[n])throw new $(1001,"")}function k1(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new $(1002,"")})}var Rl=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ia}get invalid(){return this.status===bl}get pending(){return this.status==Eo}get disabled(){return this.status===wa}get enabled(){return this.status!==wa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(KC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(KC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(QC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(QC(e,this._rawAsyncValidators))}hasValidator(e){return Tl(this._rawValidators,e)}hasAsyncValidator(e){return Tl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Eo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=wa,this.errors=null,this._forEachChild(r=>{r.disable(Ce(L({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ce(L({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ia,this._forEachChild(r=>{r.enable(Ce(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ce(L({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ia||this.status===Eo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wa:Ia}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Eo,this._hasOwnPendingAsyncValidator=!0;let n=ob(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ze,this.statusChanges=new ze}_calculateStatus(){return this._allControlsDisabled()?wa:this.errors?bl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Eo)?Eo:this._anyControlsHaveStatus(bl)?bl:Ia}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ol(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=N1(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=P1(this._rawAsyncValidators)}},Ml=class extends Rl{constructor(e,n,r){super(ub(n),lb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){k1(this,!0,e),Object.keys(e).forEach(r=>{O1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Kg=new W("CallSetDisabledState",{providedIn:"root",factory:()=>Qg}),Qg="always";function F1(t,e){return[...e.path,t]}function db(t,e,n=Qg){hb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),L1(t,e),j1(t,e),U1(t,e),V1(t,e)}function YC(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function V1(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function hb(t,e){let n=R1(t);e.validator!==null?t.setValidators(WC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=M1(t);e.asyncValidator!==null?t.setAsyncValidators(WC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();YC(e._rawValidators,i),YC(e._rawAsyncValidators,i)}function L1(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&fb(t,e)})}function U1(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&fb(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function fb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function j1(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function B1(t,e){t==null,hb(t,e)}function $1(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function H1(t){return Object.getPrototypeOf(t.constructor)===tb}function q1(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function z1(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Co?n=o:H1(o)?r=o:i=o}),i||r||n||null}var G1={provide:Do,useExisting:Nn(()=>ba)},Ea=Promise.resolve(),ba=(()=>{class t extends Do{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ze,this.form=new Ml({},Gg(n),Wg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ea.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),db(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ea.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ea.then(()=>{let r=this._findContainer(n.path),i=new Ml({});B1(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ea.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ea.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,q1(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(re(xl,10),re(rb,10),re(Kg,8))}}static{this.\u0275dir=He({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ut("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[Ze.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ai([G1]),en]})}}return t})();function JC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ZC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var W1=class extends Rl{constructor(e=null,n,r){super(ub(n),lb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ol(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ZC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){JC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){JC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ZC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var K1={provide:Da,useExisting:Nn(()=>Ta)},XC=Promise.resolve(),Ta=(()=>{class t extends Da{constructor(n,r,i,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this.control=new W1,this._registered=!1,this.name="",this.update=new ze,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=z1(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),$1(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){db(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){XC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&vr(r);XC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?F1(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(re(Do,9),re(xl,10),re(rb,10),re(zg,10),re(yr,8),re(Kg,8))}}static{this.\u0275dir=He({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ze.None,"disabled","isDisabled"],model:[Ze.None,"ngModel","model"],options:[Ze.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ai([K1]),en,Fn]})}}return t})(),kl=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=He({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var pb=(()=>{class t{constructor(){this._validator=Hg}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Hg,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=He({type:t,features:[Fn]})}}return t})();var Q1={provide:xl,useExisting:Nn(()=>Yg),multi:!0};var Yg=(()=>{class t extends pb{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=vr,this.createValidator=n=>C1}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pr(t)))(i||t)}})()}static{this.\u0275dir=He({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&co("required",i._enabled?"":null)},inputs:{required:"required"},features:[ai([Q1]),en]})}}return t})();var Y1={provide:xl,useExisting:Nn(()=>Jg),multi:!0},Jg=(()=>{class t extends pb{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=n=>n,this.createValidator=n=>b1(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pr(t)))(i||t)}})()}static{this.\u0275dir=He({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&co("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[ai([Y1]),en]})}}return t})();var J1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=dr({type:t})}static{this.\u0275inj=lr({})}}return t})();var Fl=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Kg,useValue:n.callSetDisabledState??Qg}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=dr({type:t})}static{this.\u0275inj=lr({imports:[J1]})}}return t})();var yb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Z1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},vb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,y=(c&15)<<2|l>>6,I=l&63;u||(I=64,s||(y=64)),r.push(n[f],n[p],n[y],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Z1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Xg;let y=o<<2|c>>4;if(r.push(y),l!==64){let I=c<<4&240|l>>2;if(r.push(I),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Xg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},X1=function(t){let e=yb(t);return vb.encodeByteArray(e,!0)},Sa=function(t){return X1(t).replace(/\./g,"")},tm=function(t){try{return vb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function eF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var tF=()=>eF().__FIREBASE_DEFAULTS__,nF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&tm(t[1]);return e&&JSON.parse(e)},Ll=()=>{try{return tF()||nF()||rF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_b=t=>{var e,n;return(n=(e=Ll())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ib=t=>{let e=_b(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nm=()=>{var t;return(t=Ll())===null||t===void 0?void 0:t.config},wb=t=>{var e;return(e=Ll())===null||e===void 0?void 0:e[`_${t}`]};var Vl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Eb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sa(JSON.stringify(n)),Sa(JSON.stringify(s)),""].join(".")}function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Db(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function iF(){var t;let e=(t=Ll())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Cb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Tb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Sb(){return!iF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rm(){try{return typeof indexedDB=="object"}catch{return!1}}function Ab(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var oF="FirebaseError",$t=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bn.prototype.create)}},Bn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?sF(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new $t(i,c,r)}};function sF(t,e){return t.replace(aF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var aF=/\{\$([^}]+)}/g;function bo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(mb(o)&&mb(s)){if(!bo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function mb(t){return t!==null&&typeof t=="object"}function im(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rb(t,e){let n=new em(t,e);return n.subscribe.bind(n)}var em=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Zg),i.error===void 0&&(i.error=Zg),i.complete===void 0&&(i.complete=Zg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function cF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zg(){}var p3=4*60*60*1e3;function yt(t){return t&&t._delegate?t._delegate:t}var Ht=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var di="[DEFAULT]";var om=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Vl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lF(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return T(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function uF(t){return t===di?void 0:t}function lF(t){return t.instantiationMode==="EAGER"}var Ul=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new om(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var dF=[],le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{}),hF={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},fF=le.INFO,pF={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},gF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=pF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Dr=class{constructor(e){this.name=e,this._logLevel=fF,this._logHandler=gF,this._userLogHandler=null,dF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var mF=(t,e)=>e.some(n=>t instanceof n),Mb,xb;function yF(){return Mb||(Mb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vF(){return xb||(xb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Nb=new WeakMap,am=new WeakMap,Pb=new WeakMap,sm=new WeakMap,um=new WeakMap;function _F(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(gn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Nb.set(n,t)}).catch(()=>{}),um.set(e,t),e}function IF(t){if(am.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});am.set(t,e)}var cm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return am.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Pb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ob(t){cm=t(cm)}function wF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(jl(this),e,...n);return Pb.set(r,e.sort?e.sort():[e]),gn(r)}:vF().includes(t)?function(...e){return t.apply(jl(this),e),gn(Nb.get(this))}:function(...e){return gn(t.apply(jl(this),e))}}function EF(t){return typeof t=="function"?wF(t):(t instanceof IDBTransaction&&IF(t),mF(t,yF())?new Proxy(t,cm):t)}function gn(t){if(t instanceof IDBRequest)return _F(t);if(sm.has(t))return sm.get(t);let e=EF(t);return e!==t&&(sm.set(t,e),um.set(e,t)),e}var jl=t=>um.get(t);function Fb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=gn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(gn(s.result),u.oldVersion,u.newVersion,gn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var DF=["get","getKey","getAll","getAllKeys","count"],CF=["put","add","delete","clear"],lm=new Map;function kb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=CF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DF.includes(n)))return;let o=function(s,...c){return T(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return lm.set(e,o),o}Ob(t=>Ce(L({},t),{get:(e,n,r)=>kb(e,n)||t.get(e,n,r),has:(e,n)=>!!kb(e,n)||t.has(e,n)}));var hm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function bF(t){let e=t.getComponent();return e?.type==="VERSION"}var fm="@firebase/app",Vb="0.10.13";var $n=new Dr("@firebase/app"),TF="@firebase/app-compat",SF="@firebase/analytics-compat",AF="@firebase/analytics",RF="@firebase/app-check-compat",MF="@firebase/app-check",xF="@firebase/auth",NF="@firebase/auth-compat",PF="@firebase/database",OF="@firebase/data-connect",kF="@firebase/database-compat",FF="@firebase/functions",VF="@firebase/functions-compat",LF="@firebase/installations",UF="@firebase/installations-compat",jF="@firebase/messaging",BF="@firebase/messaging-compat",$F="@firebase/performance",HF="@firebase/performance-compat",qF="@firebase/remote-config",zF="@firebase/remote-config-compat",GF="@firebase/storage",WF="@firebase/storage-compat",KF="@firebase/firestore",QF="@firebase/vertexai-preview",YF="@firebase/firestore-compat",JF="firebase",ZF="10.14.1";var pm="[DEFAULT]",XF={[fm]:"fire-core",[TF]:"fire-core-compat",[AF]:"fire-analytics",[SF]:"fire-analytics-compat",[MF]:"fire-app-check",[RF]:"fire-app-check-compat",[xF]:"fire-auth",[NF]:"fire-auth-compat",[PF]:"fire-rtdb",[OF]:"fire-data-connect",[kF]:"fire-rtdb-compat",[FF]:"fire-fn",[VF]:"fire-fn-compat",[LF]:"fire-iid",[UF]:"fire-iid-compat",[jF]:"fire-fcm",[BF]:"fire-fcm-compat",[$F]:"fire-perf",[HF]:"fire-perf-compat",[qF]:"fire-rc",[zF]:"fire-rc-compat",[GF]:"fire-gcs",[WF]:"fire-gcs-compat",[KF]:"fire-fst",[YF]:"fire-fst-compat",[QF]:"fire-vertex","fire-js":"fire-js",[JF]:"fire-js-all"};var Aa=new Map,eV=new Map,gm=new Map;function Lb(t,e){try{t.container.addComponent(e)}catch(n){$n.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function br(t){let e=t.name;if(gm.has(e))return $n.debug(`There were multiple attempts to register component ${e}.`),!1;gm.set(e,t);for(let n of Aa.values())Lb(n,t);for(let n of eV.values())Lb(n,t);return!0}function _m(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function To(t){return t.settings!==void 0}var tV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new Bn("app","Firebase",tV);var mm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}};var So=ZF;function Im(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:pm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Cr.create("bad-app-name",{appName:String(i)});if(n||(n=nm()),!n)throw Cr.create("no-options");let o=Aa.get(i);if(o){if(bo(n,o.options)&&bo(r,o.config))return o;throw Cr.create("duplicate-app",{appName:i})}let s=new Ul(i);for(let u of gm.values())s.addComponent(u);let c=new mm(n,r,s);return Aa.set(i,c),c}function Ma(t=pm){let e=Aa.get(t);if(!e&&t===pm&&nm())return Im();if(!e)throw Cr.create("no-app",{appName:t});return e}function Bl(){return Array.from(Aa.values())}function Ke(t,e,n){var r;let i=(r=XF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$n.warn(c.join(" "));return}br(new Ht(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var nV="firebase-heartbeat-database",rV=1,Ra="firebase-heartbeat-store",dm=null;function $b(){return dm||(dm=Fb(nV,rV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ra)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cr.create("idb-open",{originalErrorMessage:t.message})})),dm}function iV(t){return T(this,null,function*(){try{let n=(yield $b()).transaction(Ra),r=yield n.objectStore(Ra).get(Hb(t));return yield n.done,r}catch(e){if(e instanceof $t)$n.warn(e.message);else{let n=Cr.create("idb-get",{originalErrorMessage:e?.message});$n.warn(n.message)}}})}function Ub(t,e){return T(this,null,function*(){try{let r=(yield $b()).transaction(Ra,"readwrite");yield r.objectStore(Ra).put(e,Hb(t)),yield r.done}catch(n){if(n instanceof $t)$n.warn(n.message);else{let r=Cr.create("idb-set",{originalErrorMessage:n?.message});$n.warn(r.message)}}})}function Hb(t){return`${t.name}!${t.options.appId}`}var oV=1024,sV=30*24*60*60*1e3,ym=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new vm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return T(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=jb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=sV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){$n.warn(r)}})}getHeartbeatsHeader(){return T(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=jb(),{heartbeatsToSend:r,unsentEntries:i}=aV(this._heartbeatsCache.heartbeats),o=Sa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return $n.warn(n),""}})}};function jb(){return new Date().toISOString().substring(0,10)}function aV(t,e=oV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Bb(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Bb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var vm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return rm()?Ab().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield iV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ub(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ub(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Bb(t){return Sa(JSON.stringify({version:2,heartbeats:t})).length}function cV(t){br(new Ht("platform-logger",e=>new hm(e),"PRIVATE")),br(new Ht("heartbeat",e=>new ym(e),"PRIVATE")),Ke(fm,Vb,t),Ke(fm,Vb,"esm2017"),Ke("fire-js","")}cV("");var uV="firebase",lV="10.14.1";Ke(uV,lV,"app");var Ro=new xn("ANGULARFIRE2_VERSION");function Em(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Na=(t,e)=>{let n=e?[e]:Bl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},xa=class{constructor(){return Na(dV)}},dV="app-check";function Ao(){}var $l=class{zone;delegate;constructor(e,n=Oh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},wm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ao,{},Ao,Ao)),n.pipe(Be({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Pa=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new $l(Zone.current)),this.insideAngular=n.run(()=>new $l(Zone.current,Ph)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Y(we))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Hl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function hV(t){return Hl().ngZone.runOutsideAngular(()=>t())}function hi(t){return Hl().ngZone.run(()=>t())}function fV(t){return pV(Hl())(t)}function pV(t){return function(n){return n=n.lift(new wm(t.ngZone)),n.pipe(tr(t.outsideAngular),er(t.insideAngular))}}var gV=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),hi(()=>t.apply(void 0,r))},qt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=hi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ao,{},Ao,Ao))),r[o]=gV(r[o],n));let i=hV(()=>t.apply(this,r));if(!e)if(i instanceof ce){let o=Hl();return i.pipe(tr(o.outsideAngular),er(o.insideAngular))}else return hi(()=>i);return i instanceof ce?i.pipe(fV):i instanceof Promise?hi(()=>new Promise((o,s)=>i.then(c=>hi(()=>o(c)),c=>hi(()=>s(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:hi(()=>i)};var fi=class{constructor(e){return e}},Oa=class{constructor(){return Bl()}};function mV(t){return t&&t.length===1?t[0]:new fi(Ma())}var Dm=new W("angularfire2._apps"),yV={provide:fi,useFactory:mV,deps:[[new Zt,Dm]]},vV={provide:Oa,deps:[[new Zt,Dm]]};function _V(t){return(e,n)=>{let r=n.get(dn);Ke("angularfire",Ro.full,"core"),Ke("angularfire",Ro.full,"app"),Ke("angular",TD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new fi(i)}}function qb(t,...e){return hr([yV,vV,{provide:Dm,useFactory:_V(t),multi:!0,deps:[we,At,Pa,...e]}])}var zb=qt(Im,!0);function Xb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var e0=Xb,t0=new Bn("auth","Firebase",Xb());var Wl=new Dr("@firebase/auth");function wV(t,...e){Wl.logLevel<=le.WARN&&Wl.warn(`Auth (${So}): ${t}`,...e)}function zl(t,...e){Wl.logLevel<=le.ERROR&&Wl.error(`Auth (${So}): ${t}`,...e)}function Gb(t,...e){throw km(t,...e)}function Om(t,...e){return km(t,...e)}function n0(t,e,n){let r=Object.assign(Object.assign({},e0()),{[e]:n});return new Bn("auth","Firebase",r).create(e,{appName:t.name})}function Gl(t){return n0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function km(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return t0.create(t,...e)}function _e(t,e,...n){if(!t)throw km(e,...n)}function ka(t){let e="INTERNAL ASSERTION FAILED: "+t;throw zl(e),new Error(e)}function Kl(t,e){t||ka(e)}function EV(){return Wb()==="http:"||Wb()==="https:"}function Wb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function DV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EV()||bb()||"connection"in navigator)?navigator.onLine:!0}function CV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var gi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kl(n>e,"Short delay should be less than long delay!"),this.isMobile=Db()||Tb()}get(){return DV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function bV(t,e){Kl(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ql=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ka("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ka("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ka("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var TV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var SV=new gi(3e4,6e4);function r0(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Xl(o,s,c,u){return T(this,arguments,function*(t,e,n,r,i={}){return i0(t,i,()=>T(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=im(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let I=Object.assign({method:e,headers:y},l);return Cb()||(I.referrerPolicy="no-referrer"),Ql.fetch()(o0(t,t.config.apiHost,n,p),I)}))})}function i0(t,e,n){return T(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},TV),e);try{let i=new Tm(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw ql(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ql(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw ql(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw ql(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw n0(t,f,l);Gb(t,f)}}catch(i){if(i instanceof $t)throw i;Gb(t,"network-request-failed",{message:String(i)})}})}function o0(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?bV(t.config,i):`${t.config.apiScheme}://${i}`}var Tm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Om(this.auth,"network-request-failed")),SV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ql(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Om(t,e,r);return i.customData._tokenResponse=n,i}function AV(t,e){return T(this,null,function*(){return Xl(t,"POST","/v1/accounts:delete",e)})}function s0(t,e){return T(this,null,function*(){return Xl(t,"POST","/v1/accounts:lookup",e)})}function Fa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Fm(t,e=!1){return T(this,null,function*(){let n=yt(t),r=yield n.getIdToken(e),i=a0(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Fa(Cm(i.auth_time)),issuedAtTime:Fa(Cm(i.iat)),expirationTime:Fa(Cm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Cm(t){return Number(t)*1e3}function a0(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zl("JWT malformed, contained fewer than 3 sections"),null;try{let i=tm(n);return i?JSON.parse(i):(zl("Failed to decode base64 JWT payload"),null)}catch(i){return zl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Kb(t){let e=a0(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Sm(t,e,n=!1){return T(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof $t&&RV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function RV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Am=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),n)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var La=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fa(this.lastLoginAt),this.creationTime=Fa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Yl(t){return T(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Sm(t,s0(n,{idToken:r}));_e(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?c0(o.providerUserInfo):[],c=MV(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new La(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function Vm(t){return T(this,null,function*(){let e=yt(t);yield Yl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function MV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function c0(t){return t.map(e=>{var{providerId:n}=e,r=kh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function xV(t,e){return T(this,null,function*(){let n=yield i0(t,{},()=>T(this,null,function*(){let r=im({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=o0(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Ql.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function NV(t,e){return T(this,null,function*(){return Xl(t,"POST","/v2/accounts:revokeToken",r0(t,e))})}var Va=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Kb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");let n=Kb(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return T(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return T(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield xV(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(_e(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ka("not implemented")}};function Tr(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ua=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=kh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Am(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new La(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return T(this,null,function*(){let n=yield Sm(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Fm(this,e)}reload(){return Vm(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return T(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Yl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){if(To(this.auth.app))return Promise.reject(Gl(this.auth));let e=yield this.getIdToken();return yield Sm(this,AV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,I=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,M=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,X=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:z,emailVerified:he,isAnonymous:Me,providerData:ne,stsTokenManager:E}=n;_e(z&&E,e,"internal-error");let m=Va.fromJSON(this.name,E);_e(typeof z=="string",e,"internal-error"),Tr(p,e.name),Tr(y,e.name),_e(typeof he=="boolean",e,"internal-error"),_e(typeof Me=="boolean",e,"internal-error"),Tr(I,e.name),Tr(A,e.name),Tr(M,e.name),Tr(R,e.name),Tr(O,e.name),Tr(X,e.name);let v=new t({uid:z,auth:e,email:y,emailVerified:he,displayName:p,isAnonymous:Me,photoURL:A,phoneNumber:I,tenantId:M,stsTokenManager:m,createdAt:O,lastLoginAt:X});return ne&&Array.isArray(ne)&&(v.providerData=ne.map(w=>Object.assign({},w))),R&&(v._redirectEventId=R),v}static _fromIdTokenResponse(e,n,r=!1){return T(this,null,function*(){let i=new Va;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Yl(o),o})}static _fromGetAccountInfoResponse(e,n,r){return T(this,null,function*(){let i=n.users[0];_e(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?c0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Va;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new La(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var Qb=new Map;function pi(t){Kl(t instanceof Function,"Expected a class definition");let e=Qb.get(t);return e?(Kl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Qb.set(t,e),e)}var PV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(n,r){return T(this,null,function*(){this.storage[n]=r})}_get(n){return T(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return T(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Rm=PV;function bm(t,e,n){return`firebase:${t}:${e}:${n}`}var Jl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=bm(this.userKey,i.apiKey,o),this.fullPersistenceKey=bm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return T(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ua._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return T(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return T(this,null,function*(){if(!n.length)return new t(pi(Rm),e,r);let i=(yield Promise.all(n.map(l=>T(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||pi(Rm),s=bm(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(s);if(f){let p=Ua._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(l=>T(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function Yb(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UV(e))return"Blackberry";if(jV(e))return"Webos";if(kV(e))return"Safari";if((e.includes("chrome/")||FV(e))&&!e.includes("edge/"))return"Chrome";if(LV(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function OV(t=Nt()){return/firefox\//i.test(t)}function kV(t=Nt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FV(t=Nt()){return/crios\//i.test(t)}function VV(t=Nt()){return/iemobile/i.test(t)}function LV(t=Nt()){return/android/i.test(t)}function UV(t=Nt()){return/blackberry/i.test(t)}function jV(t=Nt()){return/webos/i.test(t)}function u0(t,e=[]){let n;switch(t){case"Browser":n=Yb(Nt());break;case"Worker":n=`${Yb(Nt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${r}`}var Mm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return T(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function BV(n){return T(this,arguments,function*(t,e={}){return Xl(t,"GET","/v2/passwordPolicy",r0(t,e))})}var $V=6,xm=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:$V,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Nm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zl(this),this.idTokenSubscription=new Zl(this),this.beforeStateQueue=new Mm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Jl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return T(this,null,function*(){try{let n=yield s0(this,{idToken:e}),r=yield Ua._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return T(this,null,function*(){var n;if(To(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return T(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return T(this,null,function*(){try{yield Yl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=CV()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return T(this,null,function*(){if(To(this.app))return Promise.reject(Gl(this));let n=e?yt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return T(this,null,function*(){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return To(this.app)?Promise.reject(Gl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return To(this.app)?Promise.reject(Gl(this)):this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(pi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let e=yield BV(this),n=new xm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return T(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield NV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return T(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return T(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&pi(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=yield Jl.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return T(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return T(this,null,function*(){if(e===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return T(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return T(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&wV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function HV(t){return yt(t)}var Zl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Rb(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var qV={loadJS(){return T(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zV(t){qV=t}function GV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function WV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(pi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var d9=GV("rcb"),h9=new gi(3e4,6e4);var f9=new gi(2e3,1e4);var p9=10*60*1e3;var g9=new gi(3e4,6e4);var m9=new gi(5e3,15e3);var y9=encodeURIComponent("fac");var Jb="@firebase/auth",Zb="1.7.9";var Pm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function KV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QV(t){br(new Ht("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;_e(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u0(t)},l=new Nm(r,i,o,u);return WV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),br(new Ht("auth-internal",e=>{let n=HV(e.getProvider("auth").getImmediate());return(r=>new Pm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ke(Jb,Zb,KV(t)),Ke(Jb,Zb,"esm2017")}var YV=5*60,v9=wb("authIdTokenMaxAge")||YV;function JV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}zV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Om("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",JV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QV("Browser");var YL="auth";var ed=class{constructor(){return Na(YL)}};var l0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},d0={};var Sr,Lm;(function(){var t;function e(E,m){function v(){}v.prototype=m.prototype,E.D=m.prototype,E.prototype=new v,E.prototype.constructor=E,E.C=function(w,D,b){for(var _=Array(arguments.length-2),Dn=2;Dn<arguments.length;Dn++)_[Dn-2]=arguments[Dn];return m.prototype[D].apply(w,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,m,v){v||(v=0);var w=Array(16);if(typeof m=="string")for(var D=0;16>D;++D)w[D]=m.charCodeAt(v++)|m.charCodeAt(v++)<<8|m.charCodeAt(v++)<<16|m.charCodeAt(v++)<<24;else for(D=0;16>D;++D)w[D]=m[v++]|m[v++]<<8|m[v++]<<16|m[v++]<<24;m=E.g[0],v=E.g[1],D=E.g[2];var b=E.g[3],_=m+(b^v&(D^b))+w[0]+3614090360&4294967295;m=v+(_<<7&4294967295|_>>>25),_=b+(D^m&(v^D))+w[1]+3905402710&4294967295,b=m+(_<<12&4294967295|_>>>20),_=D+(v^b&(m^v))+w[2]+606105819&4294967295,D=b+(_<<17&4294967295|_>>>15),_=v+(m^D&(b^m))+w[3]+3250441966&4294967295,v=D+(_<<22&4294967295|_>>>10),_=m+(b^v&(D^b))+w[4]+4118548399&4294967295,m=v+(_<<7&4294967295|_>>>25),_=b+(D^m&(v^D))+w[5]+1200080426&4294967295,b=m+(_<<12&4294967295|_>>>20),_=D+(v^b&(m^v))+w[6]+2821735955&4294967295,D=b+(_<<17&4294967295|_>>>15),_=v+(m^D&(b^m))+w[7]+4249261313&4294967295,v=D+(_<<22&4294967295|_>>>10),_=m+(b^v&(D^b))+w[8]+1770035416&4294967295,m=v+(_<<7&4294967295|_>>>25),_=b+(D^m&(v^D))+w[9]+2336552879&4294967295,b=m+(_<<12&4294967295|_>>>20),_=D+(v^b&(m^v))+w[10]+4294925233&4294967295,D=b+(_<<17&4294967295|_>>>15),_=v+(m^D&(b^m))+w[11]+2304563134&4294967295,v=D+(_<<22&4294967295|_>>>10),_=m+(b^v&(D^b))+w[12]+1804603682&4294967295,m=v+(_<<7&4294967295|_>>>25),_=b+(D^m&(v^D))+w[13]+4254626195&4294967295,b=m+(_<<12&4294967295|_>>>20),_=D+(v^b&(m^v))+w[14]+2792965006&4294967295,D=b+(_<<17&4294967295|_>>>15),_=v+(m^D&(b^m))+w[15]+1236535329&4294967295,v=D+(_<<22&4294967295|_>>>10),_=m+(D^b&(v^D))+w[1]+4129170786&4294967295,m=v+(_<<5&4294967295|_>>>27),_=b+(v^D&(m^v))+w[6]+3225465664&4294967295,b=m+(_<<9&4294967295|_>>>23),_=D+(m^v&(b^m))+w[11]+643717713&4294967295,D=b+(_<<14&4294967295|_>>>18),_=v+(b^m&(D^b))+w[0]+3921069994&4294967295,v=D+(_<<20&4294967295|_>>>12),_=m+(D^b&(v^D))+w[5]+3593408605&4294967295,m=v+(_<<5&4294967295|_>>>27),_=b+(v^D&(m^v))+w[10]+38016083&4294967295,b=m+(_<<9&4294967295|_>>>23),_=D+(m^v&(b^m))+w[15]+3634488961&4294967295,D=b+(_<<14&4294967295|_>>>18),_=v+(b^m&(D^b))+w[4]+3889429448&4294967295,v=D+(_<<20&4294967295|_>>>12),_=m+(D^b&(v^D))+w[9]+568446438&4294967295,m=v+(_<<5&4294967295|_>>>27),_=b+(v^D&(m^v))+w[14]+3275163606&4294967295,b=m+(_<<9&4294967295|_>>>23),_=D+(m^v&(b^m))+w[3]+4107603335&4294967295,D=b+(_<<14&4294967295|_>>>18),_=v+(b^m&(D^b))+w[8]+1163531501&4294967295,v=D+(_<<20&4294967295|_>>>12),_=m+(D^b&(v^D))+w[13]+2850285829&4294967295,m=v+(_<<5&4294967295|_>>>27),_=b+(v^D&(m^v))+w[2]+4243563512&4294967295,b=m+(_<<9&4294967295|_>>>23),_=D+(m^v&(b^m))+w[7]+1735328473&4294967295,D=b+(_<<14&4294967295|_>>>18),_=v+(b^m&(D^b))+w[12]+2368359562&4294967295,v=D+(_<<20&4294967295|_>>>12),_=m+(v^D^b)+w[5]+4294588738&4294967295,m=v+(_<<4&4294967295|_>>>28),_=b+(m^v^D)+w[8]+2272392833&4294967295,b=m+(_<<11&4294967295|_>>>21),_=D+(b^m^v)+w[11]+1839030562&4294967295,D=b+(_<<16&4294967295|_>>>16),_=v+(D^b^m)+w[14]+4259657740&4294967295,v=D+(_<<23&4294967295|_>>>9),_=m+(v^D^b)+w[1]+2763975236&4294967295,m=v+(_<<4&4294967295|_>>>28),_=b+(m^v^D)+w[4]+1272893353&4294967295,b=m+(_<<11&4294967295|_>>>21),_=D+(b^m^v)+w[7]+4139469664&4294967295,D=b+(_<<16&4294967295|_>>>16),_=v+(D^b^m)+w[10]+3200236656&4294967295,v=D+(_<<23&4294967295|_>>>9),_=m+(v^D^b)+w[13]+681279174&4294967295,m=v+(_<<4&4294967295|_>>>28),_=b+(m^v^D)+w[0]+3936430074&4294967295,b=m+(_<<11&4294967295|_>>>21),_=D+(b^m^v)+w[3]+3572445317&4294967295,D=b+(_<<16&4294967295|_>>>16),_=v+(D^b^m)+w[6]+76029189&4294967295,v=D+(_<<23&4294967295|_>>>9),_=m+(v^D^b)+w[9]+3654602809&4294967295,m=v+(_<<4&4294967295|_>>>28),_=b+(m^v^D)+w[12]+3873151461&4294967295,b=m+(_<<11&4294967295|_>>>21),_=D+(b^m^v)+w[15]+530742520&4294967295,D=b+(_<<16&4294967295|_>>>16),_=v+(D^b^m)+w[2]+3299628645&4294967295,v=D+(_<<23&4294967295|_>>>9),_=m+(D^(v|~b))+w[0]+4096336452&4294967295,m=v+(_<<6&4294967295|_>>>26),_=b+(v^(m|~D))+w[7]+1126891415&4294967295,b=m+(_<<10&4294967295|_>>>22),_=D+(m^(b|~v))+w[14]+2878612391&4294967295,D=b+(_<<15&4294967295|_>>>17),_=v+(b^(D|~m))+w[5]+4237533241&4294967295,v=D+(_<<21&4294967295|_>>>11),_=m+(D^(v|~b))+w[12]+1700485571&4294967295,m=v+(_<<6&4294967295|_>>>26),_=b+(v^(m|~D))+w[3]+2399980690&4294967295,b=m+(_<<10&4294967295|_>>>22),_=D+(m^(b|~v))+w[10]+4293915773&4294967295,D=b+(_<<15&4294967295|_>>>17),_=v+(b^(D|~m))+w[1]+2240044497&4294967295,v=D+(_<<21&4294967295|_>>>11),_=m+(D^(v|~b))+w[8]+1873313359&4294967295,m=v+(_<<6&4294967295|_>>>26),_=b+(v^(m|~D))+w[15]+4264355552&4294967295,b=m+(_<<10&4294967295|_>>>22),_=D+(m^(b|~v))+w[6]+2734768916&4294967295,D=b+(_<<15&4294967295|_>>>17),_=v+(b^(D|~m))+w[13]+1309151649&4294967295,v=D+(_<<21&4294967295|_>>>11),_=m+(D^(v|~b))+w[4]+4149444226&4294967295,m=v+(_<<6&4294967295|_>>>26),_=b+(v^(m|~D))+w[11]+3174756917&4294967295,b=m+(_<<10&4294967295|_>>>22),_=D+(m^(b|~v))+w[2]+718787259&4294967295,D=b+(_<<15&4294967295|_>>>17),_=v+(b^(D|~m))+w[9]+3951481745&4294967295,E.g[0]=E.g[0]+m&4294967295,E.g[1]=E.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+b&4294967295}r.prototype.u=function(E,m){m===void 0&&(m=E.length);for(var v=m-this.blockSize,w=this.B,D=this.h,b=0;b<m;){if(D==0)for(;b<=v;)i(this,E,b),b+=this.blockSize;if(typeof E=="string"){for(;b<m;)if(w[D++]=E.charCodeAt(b++),D==this.blockSize){i(this,w),D=0;break}}else for(;b<m;)if(w[D++]=E[b++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=m},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var m=1;m<E.length-8;++m)E[m]=0;var v=8*this.o;for(m=E.length-8;m<E.length;++m)E[m]=v&255,v/=256;for(this.u(E),E=Array(16),m=v=0;4>m;++m)for(var w=0;32>w;w+=8)E[v++]=this.g[m]>>>w&255;return E};function o(E,m){var v=c;return Object.prototype.hasOwnProperty.call(v,E)?v[E]:v[E]=m(E)}function s(E,m){this.h=m;for(var v=[],w=!0,D=E.length-1;0<=D;D--){var b=E[D]|0;w&&b==m||(v[D]=b,w=!1)}this.g=v}var c={};function u(E){return-128<=E&&128>E?o(E,function(m){return new s([m|0],0>m?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var m=[],v=1,w=0;E>=v;w++)m[w]=E/v|0,v*=4294967296;return new s(m,0)}function f(E,m){if(E.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(E.charAt(0)=="-")return R(f(E.substring(1),m));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(m,8)),w=p,D=0;D<E.length;D+=8){var b=Math.min(8,E.length-D),_=parseInt(E.substring(D,D+b),m);8>b?(b=l(Math.pow(m,b)),w=w.j(b).add(l(_))):(w=w.j(v),w=w.add(l(_)))}return w}var p=u(0),y=u(1),I=u(16777216);t=s.prototype,t.m=function(){if(M(this))return-R(this).m();for(var E=0,m=1,v=0;v<this.g.length;v++){var w=this.i(v);E+=(0<=w?w:4294967296+w)*m,m*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(M(this))return"-"+R(this).toString(E);for(var m=l(Math.pow(E,6)),v=this,w="";;){var D=he(v,m).g;v=O(v,D.j(m));var b=((0<v.g.length?v.g[0]:v.h)>>>0).toString(E);if(v=D,A(v))return b+w;for(;6>b.length;)b="0"+b;w=b+w}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var m=0;m<E.g.length;m++)if(E.g[m]!=0)return!1;return!0}function M(E){return E.h==-1}t.l=function(E){return E=O(this,E),M(E)?-1:A(E)?0:1};function R(E){for(var m=E.g.length,v=[],w=0;w<m;w++)v[w]=~E.g[w];return new s(v,~E.h).add(y)}t.abs=function(){return M(this)?R(this):this},t.add=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],w=0,D=0;D<=m;D++){var b=w+(this.i(D)&65535)+(E.i(D)&65535),_=(b>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);w=_>>>16,b&=65535,_&=65535,v[D]=_<<16|b}return new s(v,v[v.length-1]&-2147483648?-1:0)};function O(E,m){return E.add(R(m))}t.j=function(E){if(A(this)||A(E))return p;if(M(this))return M(E)?R(this).j(R(E)):R(R(this).j(E));if(M(E))return R(this.j(R(E)));if(0>this.l(I)&&0>E.l(I))return l(this.m()*E.m());for(var m=this.g.length+E.g.length,v=[],w=0;w<2*m;w++)v[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<E.g.length;D++){var b=this.i(w)>>>16,_=this.i(w)&65535,Dn=E.i(D)>>>16,Xo=E.i(D)&65535;v[2*w+2*D]+=_*Xo,X(v,2*w+2*D),v[2*w+2*D+1]+=b*Xo,X(v,2*w+2*D+1),v[2*w+2*D+1]+=_*Dn,X(v,2*w+2*D+1),v[2*w+2*D+2]+=b*Dn,X(v,2*w+2*D+2)}for(w=0;w<m;w++)v[w]=v[2*w+1]<<16|v[2*w];for(w=m;w<2*m;w++)v[w]=0;return new s(v,0)};function X(E,m){for(;(E[m]&65535)!=E[m];)E[m+1]+=E[m]>>>16,E[m]&=65535,m++}function z(E,m){this.g=E,this.h=m}function he(E,m){if(A(m))throw Error("division by zero");if(A(E))return new z(p,p);if(M(E))return m=he(R(E),m),new z(R(m.g),R(m.h));if(M(m))return m=he(E,R(m)),new z(R(m.g),m.h);if(30<E.g.length){if(M(E)||M(m))throw Error("slowDivide_ only works with positive integers.");for(var v=y,w=m;0>=w.l(E);)v=Me(v),w=Me(w);var D=ne(v,1),b=ne(w,1);for(w=ne(w,2),v=ne(v,2);!A(w);){var _=b.add(w);0>=_.l(E)&&(D=D.add(v),b=_),w=ne(w,1),v=ne(v,1)}return m=O(E,D.j(m)),new z(D,m)}for(D=p;0<=E.l(m);){for(v=Math.max(1,Math.floor(E.m()/m.m())),w=Math.ceil(Math.log(v)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),b=l(v),_=b.j(m);M(_)||0<_.l(E);)v-=w,b=l(v),_=b.j(m);A(b)&&(b=y),D=D.add(b),E=O(E,_)}return new z(D,E)}t.A=function(E){return he(this,E).h},t.and=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],w=0;w<m;w++)v[w]=this.i(w)&E.i(w);return new s(v,this.h&E.h)},t.or=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],w=0;w<m;w++)v[w]=this.i(w)|E.i(w);return new s(v,this.h|E.h)},t.xor=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],w=0;w<m;w++)v[w]=this.i(w)^E.i(w);return new s(v,this.h^E.h)};function Me(E){for(var m=E.g.length+1,v=[],w=0;w<m;w++)v[w]=E.i(w)<<1|E.i(w-1)>>>31;return new s(v,E.h)}function ne(E,m){var v=m>>5;m%=32;for(var w=E.g.length-v,D=[],b=0;b<w;b++)D[b]=0<m?E.i(b+v)>>>m|E.i(b+v+1)<<32-m:E.i(b+v);return new s(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Lm=d0.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Sr=d0.Integer=s}).apply(typeof l0<"u"?l0:typeof self<"u"?self:typeof window<"u"?window:{});var td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hn={};var Um,JL,Mo,jm,ja,nd,Bm,$m,Hm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof td=="object"&&td];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var C=a[g];if(!(C in h))break e;h=h[C]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,C={next:function(){if(!g&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),a.apply(d,C)}}return function(){return a.apply(d,arguments)}}function y(a,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function I(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,C,S){for(var P=Array(arguments.length-2),be=2;be<arguments.length;be++)P[be-2]=arguments[be];return d.prototype[C].apply(g,P)}}function M(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function R(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let C=a.length||0,S=g.length||0;a.length=C+S;for(let P=0;P<S;P++)a[C+P]=g[P]}else a.push(g)}}class O{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function X(a){return/^[\s\xa0]*$/.test(a)}function z(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function he(a){return he[" "](a),a}he[" "]=function(){};var Me=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function ne(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function E(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let h,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(h in g)a[h]=g[h];for(let S=0;S<v.length;S++)h=v[S],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function D(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function b(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Kd;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Dn{constructor(){this.h=this.g=null}add(d,h){let g=Xo.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var Xo=new O(()=>new ES,a=>a.reset());class ES{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let es,ts=!1,Kd=new Dn,Jv=()=>{let a=c.Promise.resolve(void 0);es=()=>{a.then(DS)}};var DS=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){b(h)}var d=Xo;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}ts=!1};function Qn(){this.s=this.s,this.C=this.C}Qn.prototype.s=!1,Qn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Qn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var CS=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function ns(a,d){if(tt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Me){e:{try{he(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:bS[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ns.aa.h.call(this)}}A(ns,tt);var bS={2:"touch",3:"pen",4:"mouse"};ns.prototype.h=function(){ns.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var rs="closure_listenable_"+(1e6*Math.random()|0),TS=0;function SS(a,d,h,g,C){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=C,this.key=++TS,this.da=this.fa=!1}function uc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function lc(a){this.src=a,this.g={},this.h=0}lc.prototype.add=function(a,d,h,g,C){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var P=Yd(a,d,g,C);return-1<P?(d=a[P],h||(d.fa=!1)):(d=new SS(d,this.src,S,!!g,C),d.fa=h,a.push(d)),d};function Qd(a,d){var h=d.type;if(h in a.g){var g=a.g[h],C=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=C)&&Array.prototype.splice.call(g,C,1),S&&(uc(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Yd(a,d,h,g){for(var C=0;C<a.length;++C){var S=a[C];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==g)return C}return-1}var Jd="closure_lm_"+(1e6*Math.random()|0),Zd={};function Zv(a,d,h,g,C){if(g&&g.once)return e_(a,d,h,g,C);if(Array.isArray(d)){for(var S=0;S<d.length;S++)Zv(a,d[S],h,g,C);return null}return h=nh(h),a&&a[rs]?a.K(d,h,l(g)?!!g.capture:!!g,C):Xv(a,d,h,!1,g,C)}function Xv(a,d,h,g,C,S){if(!d)throw Error("Invalid event type");var P=l(C)?!!C.capture:!!C,be=eh(a);if(be||(a[Jd]=be=new lc(a)),h=be.add(d,h,g,P,S),h.proxy)return h;if(g=AS(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)CS||(C=P),C===void 0&&(C=!1),a.addEventListener(d.toString(),g,C);else if(a.attachEvent)a.attachEvent(n_(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function AS(){function a(h){return d.call(a.src,a.listener,h)}let d=RS;return a}function e_(a,d,h,g,C){if(Array.isArray(d)){for(var S=0;S<d.length;S++)e_(a,d[S],h,g,C);return null}return h=nh(h),a&&a[rs]?a.L(d,h,l(g)?!!g.capture:!!g,C):Xv(a,d,h,!0,g,C)}function t_(a,d,h,g,C){if(Array.isArray(d))for(var S=0;S<d.length;S++)t_(a,d[S],h,g,C);else g=l(g)?!!g.capture:!!g,h=nh(h),a&&a[rs]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=Yd(S,h,g,C),-1<h&&(uc(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=eh(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Yd(d,h,g,C)),(h=-1<a?d[a]:null)&&Xd(h))}function Xd(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[rs])Qd(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(n_(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=eh(d))?(Qd(h,a),h.h==0&&(h.src=null,d[Jd]=null)):uc(a)}}}function n_(a){return a in Zd?Zd[a]:Zd[a]="on"+a}function RS(a,d){if(a.da)a=!0;else{d=new ns(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&Xd(a),a=h.call(g,d)}return a}function eh(a){return a=a[Jd],a instanceof lc?a:null}var th="__closure_events_fn_"+(1e9*Math.random()>>>0);function nh(a){return typeof a=="function"?a:(a[th]||(a[th]=function(d){return a.handleEvent(d)}),a[th])}function nt(){Qn.call(this),this.i=new lc(this),this.M=this,this.F=null}A(nt,Qn),nt.prototype[rs]=!0,nt.prototype.removeEventListener=function(a,d,h,g){t_(this,a,d,h,g)};function ht(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new tt(d,a);else if(d instanceof tt)d.target=d.target||a;else{var C=d;d=new tt(g,a),w(d,C)}if(C=!0,h)for(var S=h.length-1;0<=S;S--){var P=d.g=h[S];C=dc(P,g,!0,d)&&C}if(P=d.g=a,C=dc(P,g,!0,d)&&C,C=dc(P,g,!1,d)&&C,h)for(S=0;S<h.length;S++)P=d.g=h[S],C=dc(P,g,!1,d)&&C}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)uc(h[g]);delete a.g[d],a.h--}}this.F=null},nt.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},nt.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function dc(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,S=0;S<d.length;++S){var P=d[S];if(P&&!P.da&&P.capture==h){var be=P.listener,Ye=P.ha||P.src;P.fa&&Qd(a.i,P),C=be.call(Ye,g)!==!1&&C}}return C&&!g.defaultPrevented}function r_(a,d,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function i_(a){a.g=r_(()=>{a.g=null,a.i&&(a.i=!1,i_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class MS extends Qn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:i_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(a){Qn.call(this),this.h=a,this.g={}}A(is,Qn);var o_=[];function s_(a){ne(a.g,function(d,h){this.g.hasOwnProperty(h)&&Xd(d)},a),a.g={}}is.prototype.N=function(){is.aa.N.call(this),s_(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rh=c.JSON.stringify,xS=c.JSON.parse,NS=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function ih(){}ih.prototype.h=null;function a_(a){return a.h||(a.h=a.i())}function c_(){}var os={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oh(){tt.call(this,"d")}A(oh,tt);function sh(){tt.call(this,"c")}A(sh,tt);var Or={},u_=null;function hc(){return u_=u_||new nt}Or.La="serverreachability";function l_(a){tt.call(this,Or.La,a)}A(l_,tt);function ss(a){let d=hc();ht(d,new l_(d))}Or.STAT_EVENT="statevent";function d_(a,d){tt.call(this,Or.STAT_EVENT,a),this.stat=d}A(d_,tt);function ft(a){let d=hc();ht(d,new d_(d,a))}Or.Ma="timingevent";function h_(a,d){tt.call(this,Or.Ma,a),this.size=d}A(h_,tt);function as(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function cs(){this.g=!0}cs.prototype.xa=function(){this.g=!1};function PS(a,d,h,g,C,S){a.info(function(){if(a.g)if(S)for(var P="",be=S.split("&"),Ye=0;Ye<be.length;Ye++){var ye=be[Ye].split("=");if(1<ye.length){var rt=ye[0];ye=ye[1];var it=rt.split("_");P=2<=it.length&&it[1]=="type"?P+(rt+"="+ye+"&"):P+(rt+"=redacted&")}}else P=null;else P=S;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+h+`
`+P})}function OS(a,d,h,g,C,S,P){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+h+`
`+S+" "+P})}function Ai(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+FS(a,h)+(g?" "+g:"")})}function kS(a,d){a.info(function(){return"TIMEOUT: "+d})}cs.prototype.info=function(){};function FS(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var S=C[0];if(S!="noop"&&S!="stop"&&S!="close")for(var P=1;P<C.length;P++)C[P]=""}}}}return rh(h)}catch{return d}}var fc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},f_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ah;function pc(){}A(pc,ih),pc.prototype.g=function(){return new XMLHttpRequest},pc.prototype.i=function(){return{}},ah=new pc;function Yn(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new p_}function p_(){this.i=null,this.g="",this.h=!1}var g_={},ch={};function uh(a,d,h){a.L=1,a.v=vc(Cn(d)),a.m=h,a.P=!0,m_(a,null)}function m_(a,d){a.F=Date.now(),gc(a),a.A=Cn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),M_(h.i,"t",g),a.C=0,h=a.j.J,a.h=new p_,a.g=K_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new MS(y(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(o_[0]=C.toString()),C=o_);for(var S=0;S<C.length;S++){var P=Zv(h,C[S],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),ss(),PS(a.i,a.u,a.A,a.l,a.R,a.m)}Yn.prototype.ca=function(a){a=a.target;let d=this.M;d&&bn(a)==3?d.j():this.Y(a)},Yn.prototype.Y=function(a){try{if(a==this.g)e:{let it=bn(this.g);var d=this.g.Ba();let xi=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||V_(this.g)))){this.J||it!=4||d==7||(d==8||0>=xi?ss(3):ss(2)),lh(this);var h=this.g.Z();this.X=h;t:if(y_(this)){var g=V_(this.g);a="";var C=g.length,S=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kr(this),us(this);var P="";break t}this.h.i=new c.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(S&&d==C-1)});g.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,OS(this.i,this.u,this.A,this.l,this.R,it,h),this.o){if(this.T&&!this.K){t:{if(this.g){var be,Ye=this.g;if((be=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(be)){var ye=be;break t}}ye=null}if(h=ye)Ai(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dh(this,h);else{this.o=!1,this.s=3,ft(12),kr(this),us(this);break e}}if(this.P){h=!0;let Gt;for(;!this.J&&this.C<P.length;)if(Gt=VS(this,P),Gt==ch){it==4&&(this.s=4,ft(14),h=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==g_){this.s=4,ft(15),Ai(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else Ai(this.i,this.l,Gt,null),dh(this,Gt);if(y_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||P.length!=0||this.h.h||(this.s=1,ft(16),h=!1),this.o=this.o&&h,!h)Ai(this.i,this.l,P,"[Invalid Chunked Response]"),kr(this),us(this);else if(0<P.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),yh(rt),rt.M=!0,ft(11))}}else Ai(this.i,this.l,P,null),dh(this,P);it==4&&kr(this),this.o&&!this.J&&(it==4?q_(this.j,this):(this.o=!1,gc(this)))}else eA(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),kr(this),us(this)}}}catch{}finally{}};function y_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function VS(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?ch:(h=Number(d.substring(h,g)),isNaN(h)?g_:(g+=1,g+h>d.length?ch:(d=d.slice(g,g+h),a.C=g+h,d)))}Yn.prototype.cancel=function(){this.J=!0,kr(this)};function gc(a){a.S=Date.now()+a.I,v_(a,a.I)}function v_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=as(y(a.ba,a),d)}function lh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Yn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(kS(this.i,this.A),this.L!=2&&(ss(),ft(17)),kr(this),this.s=2,us(this)):v_(this,this.S-a)};function us(a){a.j.G==0||a.J||q_(a.j,a)}function kr(a){lh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,s_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function dh(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||hh(h.h,a))){if(!a.K&&hh(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Dc(h),wc(h);else break e;mh(h),ft(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=as(y(h.Za,h),6e3));if(1>=w_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Vr(h,11)}else if((a.K||h.g==a)&&Dc(h),!X(d))for(C=h.Da.g.parse(d),d=0;d<C.length;d++){let ye=C[d];if(h.T=ye[0],ye=ye[1],h.G==2)if(ye[0]=="c"){h.K=ye[1],h.ia=ye[2];let rt=ye[3];rt!=null&&(h.la=rt,h.j.info("VER="+h.la));let it=ye[4];it!=null&&(h.Aa=it,h.j.info("SVER="+h.Aa));let xi=ye[5];xi!=null&&typeof xi=="number"&&0<xi&&(g=1.5*xi,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Gt=a.g;if(Gt){let bc=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bc){var S=g.h;S.g||bc.indexOf("spdy")==-1&&bc.indexOf("quic")==-1&&bc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(fh(S,S.h),S.h=null))}if(g.D){let vh=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;vh&&(g.ya=vh,Se(g.I,g.D,vh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var P=a;if(g.qa=W_(g,g.J?g.ia:null,g.W),P.K){E_(g.h,P);var be=P,Ye=g.L;Ye&&(be.I=Ye),be.B&&(lh(be),gc(be)),g.g=P}else $_(g);0<h.i.length&&Ec(h)}else ye[0]!="stop"&&ye[0]!="close"||Vr(h,7);else h.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Vr(h,7):gh(h):ye[0]!="noop"&&h.l&&h.l.ta(ye),h.v=0)}}ss(4)}catch{}}var LS=class{constructor(a,d){this.g=a,this.map=d}};function __(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function I_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function w_(a){return a.h?1:a.g?a.g.size:0}function hh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function fh(a,d){a.g?a.g.add(d):a.h=d}function E_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}__.prototype.cancel=function(){if(this.i=D_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function D_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return M(a.i)}function US(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function jS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function C_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=jS(a),g=US(a),C=g.length,S=0;S<C;S++)d.call(void 0,g[S],h&&h[S],a)}var b_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BS(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),C=null;if(0<=g){var S=a[h].substring(0,g);C=a[h].substring(g+1)}else S=a[h];d(S,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Fr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Fr){this.h=a.h,mc(this,a.j),this.o=a.o,this.g=a.g,yc(this,a.s),this.l=a.l;var d=a.i,h=new hs;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),T_(this,h),this.m=a.m}else a&&(d=String(a).match(b_))?(this.h=!1,mc(this,d[1]||"",!0),this.o=ls(d[2]||""),this.g=ls(d[3]||"",!0),yc(this,d[4]),this.l=ls(d[5]||"",!0),T_(this,d[6]||"",!0),this.m=ls(d[7]||"")):(this.h=!1,this.i=new hs(null,this.h))}Fr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(ds(d,S_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(ds(d,S_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(ds(h,h.charAt(0)=="/"?qS:HS,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",ds(h,GS)),a.join("")};function Cn(a){return new Fr(a)}function mc(a,d,h){a.j=h?ls(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function yc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function T_(a,d,h){d instanceof hs?(a.i=d,WS(a.i,a.h)):(h||(d=ds(d,zS)),a.i=new hs(d,a.h))}function Se(a,d,h){a.i.set(d,h)}function vc(a){return Se(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ls(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ds(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,$S),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function $S(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var S_=/[#\/\?@]/g,HS=/[#\?:]/g,qS=/[#\?]/g,zS=/[#\?@]/g,GS=/#/g;function hs(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Jn(a){a.g||(a.g=new Map,a.h=0,a.i&&BS(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=hs.prototype,t.add=function(a,d){Jn(this),this.i=null,a=Ri(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function A_(a,d){Jn(a),d=Ri(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function R_(a,d){return Jn(a),d=Ri(a,d),a.g.has(d)}t.forEach=function(a,d){Jn(this),this.g.forEach(function(h,g){h.forEach(function(C){a.call(d,C,g,this)},this)},this)},t.na=function(){Jn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let C=a[g];for(let S=0;S<C.length;S++)h.push(d[g])}return h},t.V=function(a){Jn(this);let d=[];if(typeof a=="string")R_(this,a)&&(d=d.concat(this.g.get(Ri(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return Jn(this),this.i=null,a=Ri(this,a),R_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function M_(a,d,h){A_(a,d),0<h.length&&(a.i=null,a.g.set(Ri(a,d),M(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let S=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var C=S;P[g]!==""&&(C+="="+encodeURIComponent(String(P[g]))),a.push(C)}}return this.i=a.join("&")};function Ri(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function WS(a,d){d&&!a.j&&(Jn(a),a.i=null,a.g.forEach(function(h,g){var C=g.toLowerCase();g!=C&&(A_(this,g),M_(this,C,h))},a)),a.j=d}function KS(a,d){let h=new cs;if(c.Image){let g=new Image;g.onload=I(Zn,h,"TestLoadImage: loaded",!0,d,g),g.onerror=I(Zn,h,"TestLoadImage: error",!1,d,g),g.onabort=I(Zn,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=I(Zn,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function QS(a,d){let h=new cs,g=new AbortController,C=setTimeout(()=>{g.abort(),Zn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(S=>{clearTimeout(C),S.ok?Zn(h,"TestPingServer: ok",!0,d):Zn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Zn(h,"TestPingServer: error",!1,d)})}function Zn(a,d,h,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(h)}catch{}}function YS(){this.g=new NS}function JS(a,d,h){let g=h||"";try{C_(a,function(C,S){let P=C;l(C)&&(P=rh(C)),d.push(g+S+"="+encodeURIComponent(P))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function fs(a){this.l=a.Ub||null,this.j=a.eb||!1}A(fs,ih),fs.prototype.g=function(){return new _c(this.l,this.j)},fs.prototype.i=function(a){return function(){return a}}({});function _c(a,d){nt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(_c,nt),t=_c.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,gs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,gs(this)),this.g&&(this.readyState=3,gs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;x_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function x_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?ps(this):gs(this),this.readyState==3&&x_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,ps(this))},t.Qa=function(a){this.g&&(this.response=a,ps(this))},t.ga=function(){this.g&&ps(this)};function ps(a){a.readyState=4,a.l=null,a.j=null,a.v=null,gs(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function gs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(_c.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function N_(a){let d="";return ne(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function ph(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=N_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Se(a,d,h))}function xe(a){nt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(xe,nt);var ZS=/^https?$/i,XS=["POST","PUT"];t=xe.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ah.g(),this.v=this.o?a_(this.o):a_(ah),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){P_(this,S);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)h.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())h.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(XS,d,void 0))||g||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,P]of h)this.g.setRequestHeader(S,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{F_(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){P_(this,S)}};function P_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,O_(a),Ic(a)}function O_(a){a.A||(a.A=!0,ht(a,"complete"),ht(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ht(this,"complete"),ht(this,"abort"),Ic(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ic(this,!0)),xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?k_(this):this.bb())},t.bb=function(){k_(this)};function k_(a){if(a.h&&typeof s<"u"&&(!a.v[1]||bn(a)!=4||a.Z()!=2)){if(a.u&&bn(a)==4)r_(a.Ea,0,a);else if(ht(a,"readystatechange"),bn(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=P===0){var C=String(a.D).match(b_)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),g=!ZS.test(C?C.toLowerCase():"")}h=g}if(h)ht(a,"complete"),ht(a,"success");else{a.m=6;try{var S=2<bn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",O_(a)}}finally{Ic(a)}}}}function Ic(a,d){if(a.g){F_(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ht(a,"ready");try{h.onreadystatechange=g}catch{}}}function F_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function bn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),xS(d)}};function V_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function eA(a){let d={};a=(a.g&&2<=bn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(X(a[g]))continue;var h=D(a[g]);let C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[C]||[];d[C]=S,S.push(h)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function L_(a){this.Aa=0,this.i=[],this.j=new cs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ms("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ms("baseRetryDelayMs",5e3,a),this.cb=ms("retryDelaySeedMs",1e4,a),this.Wa=ms("forwardChannelMaxRetries",2,a),this.wa=ms("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new __(a&&a.concurrentRequestLimit),this.Da=new YS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=L_.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){ft(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=W_(this,null,this.W),Ec(this)};function gh(a){if(U_(a),a.G==3){var d=a.U++,h=Cn(a.I);if(Se(h,"SID",a.K),Se(h,"RID",d),Se(h,"TYPE","terminate"),ys(a,h),d=new Yn(a,a.j,d),d.L=2,d.v=vc(Cn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=K_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),gc(d)}G_(a)}function wc(a){a.g&&(yh(a),a.g.cancel(),a.g=null)}function U_(a){wc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Dc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Ec(a){if(!I_(a.h)&&!a.s){a.s=!0;var d=a.Ga;es||Jv(),ts||(es(),ts=!0),Kd.add(d,a),a.B=0}}function tA(a,d){return w_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=as(y(a.Ga,a,d),z_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new Yn(this,this.j,a),S=this.o;if(this.S&&(S?(S=m(S),w(S,this.S)):S=this.S),this.m!==null||this.O||(C.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=B_(this,C,d),h=Cn(this.I),Se(h,"RID",a),Se(h,"CVER",22),this.D&&Se(h,"X-HTTP-Session-Id",this.D),ys(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(N_(S)))+"&"+d:this.m&&ph(h,this.m,S)),fh(this.h,C),this.Ua&&Se(h,"TYPE","init"),this.P?(Se(h,"$req",d),Se(h,"SID","null"),C.T=!0,uh(C,h,null)):uh(C,h,d),this.G=2}}else this.G==3&&(a?j_(this,a):this.i.length==0||I_(this.h)||j_(this))};function j_(a,d){var h;d?h=d.l:h=a.U++;let g=Cn(a.I);Se(g,"SID",a.K),Se(g,"RID",h),Se(g,"AID",a.T),ys(a,g),a.m&&a.o&&ph(g,a.m,a.o),h=new Yn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=B_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),fh(a.h,h),uh(h,g,d)}function ys(a,d){a.H&&ne(a.H,function(h,g){Se(d,g,h)}),a.l&&C_({},function(h,g){Se(d,g,h)})}function B_(a,d,h){h=Math.min(a.i.length,h);var g=a.l?y(a.l.Na,a.l,a):null;e:{var C=a.i;let S=-1;for(;;){let P=["count="+h];S==-1?0<h?(S=C[0].g,P.push("ofs="+S)):S=0:P.push("ofs="+S);let be=!0;for(let Ye=0;Ye<h;Ye++){let ye=C[Ye].g,rt=C[Ye].map;if(ye-=S,0>ye)S=Math.max(0,C[Ye].g-100),be=!1;else try{JS(rt,P,"req"+ye+"_")}catch{g&&g(rt)}}if(be){g=P.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function $_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;es||Jv(),ts||(es(),ts=!0),Kd.add(d,a),a.v=0}}function mh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=as(y(a.Fa,a),z_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,H_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=as(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),wc(this),H_(this))};function yh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function H_(a){a.g=new Yn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Cn(a.qa);Se(d,"RID","rpc"),Se(d,"SID",a.K),Se(d,"AID",a.T),Se(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Se(d,"TO",a.ja),Se(d,"TYPE","xmlhttp"),ys(a,d),a.m&&a.o&&ph(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=vc(Cn(d)),h.m=null,h.P=!0,m_(h,a)}t.Za=function(){this.C!=null&&(this.C=null,wc(this),mh(this),ft(19))};function Dc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function q_(a,d){var h=null;if(a.g==d){Dc(a),yh(a),a.g=null;var g=2}else if(hh(a.h,d))h=d.D,E_(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var C=a.B;g=hc(),ht(g,new h_(g,h)),Ec(a)}else $_(a);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&tA(a,d)||g==2&&mh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),C){case 1:Vr(a,5);break;case 4:Vr(a,10);break;case 3:Vr(a,6);break;default:Vr(a,2)}}}function z_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Vr(a,d){if(a.j.info("Error code "+d),d==2){var h=y(a.fb,a),g=a.Xa;let C=!g;g=new Fr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||mc(g,"https"),vc(g),C?KS(g.toString(),h):QS(g.toString(),h)}else ft(2);a.G=0,a.l&&a.l.sa(d),G_(a),U_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function G_(a){if(a.G=0,a.ka=[],a.l){let d=D_(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function W_(a,d,h){var g=h instanceof Fr?Cn(h):new Fr(h);if(g.g!="")d&&(g.g=d+"."+g.g),yc(g,g.s);else{var C=c.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var S=new Fr(null);g&&mc(S,g),d&&(S.g=d),C&&yc(S,C),h&&(S.l=h),g=S}return h=a.D,d=a.ya,h&&d&&Se(g,h,d),Se(g,"VER",a.la),ys(a,g),g}function K_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new xe(new fs({eb:h})):new xe(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Q_(){}t=Q_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Cc(){}Cc.prototype.g=function(a,d){return new Ct(a,d)};function Ct(a,d){nt.call(this),this.g=new L_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!X(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!X(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Mi(this)}A(Ct,nt),Ct.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ct.prototype.close=function(){gh(this.g)},Ct.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=rh(a),a=h);d.i.push(new LS(d.Ya++,a)),d.G==3&&Ec(d)},Ct.prototype.N=function(){this.g.l=null,delete this.j,gh(this.g),delete this.g,Ct.aa.N.call(this)};function Y_(a){oh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(Y_,oh);function J_(){sh.call(this),this.status=1}A(J_,sh);function Mi(a){this.g=a}A(Mi,Q_),Mi.prototype.ua=function(){ht(this.g,"a")},Mi.prototype.ta=function(a){ht(this.g,new Y_(a))},Mi.prototype.sa=function(a){ht(this.g,new J_)},Mi.prototype.ra=function(){ht(this.g,"b")},Cc.prototype.createWebChannel=Cc.prototype.g,Ct.prototype.send=Ct.prototype.o,Ct.prototype.open=Ct.prototype.m,Ct.prototype.close=Ct.prototype.close,Hm=Hn.createWebChannelTransport=function(){return new Cc},$m=Hn.getStatEventTarget=function(){return hc()},Bm=Hn.Event=Or,nd=Hn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fc.NO_ERROR=0,fc.TIMEOUT=8,fc.HTTP_ERROR=6,ja=Hn.ErrorCode=fc,f_.COMPLETE="complete",jm=Hn.EventType=f_,c_.EventType=os,os.OPEN="a",os.CLOSE="b",os.ERROR="c",os.MESSAGE="d",nt.prototype.listen=nt.prototype.K,Mo=Hn.WebChannel=c_,JL=Hn.FetchXmlHttpFactory=fs,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,Um=Hn.XhrIo=xe}).apply(typeof td<"u"?td:typeof self<"u"?self:typeof window<"u"?window:{});var h0="@firebase/firestore";var Qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");var Jo="10.14.0";var _i=new Dr("@firebase/firestore");function Ba(){return _i.logLevel}function U(t,...e){if(_i.logLevel<=le.DEBUG){let n=e.map(bv);_i.debug(`Firestore (${Jo}): ${t}`,...n)}}function Gn(t,...e){if(_i.logLevel<=le.ERROR){let n=e.map(bv);_i.error(`Firestore (${Jo}): ${t}`,...n)}}function Vo(t,...e){if(_i.logLevel<=le.WARN){let n=e.map(bv);_i.warn(`Firestore (${Jo}): ${t}`,...n)}}function bv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Q(t="Unexpected state"){let e=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: `+t;throw Gn(e),new Error(e)}function De(t,e){t||Q()}function Z(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends $t{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var qn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ad=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Km=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}},Qm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Ym=class{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){De(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new qn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>T(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new ad(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Qe(e)}},Jm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Zm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Jm(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Xm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ey=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){De(this.o===void 0);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new Xm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function ZL(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var cd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=ZL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function ve(t,e){return t<e?-1:t>e?1:0}function Lo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var et=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new j(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var te=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new et(0,0))}static max(){return new t(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ud=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ne=class t extends ud{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new j(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},XL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ot=class t extends ud{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return XL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new j(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new j(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new j(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new j(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ne.fromString(e))}static fromName(e){return new t(Ne.fromString(e).popFirst(5))}static empty(){return new t(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ne(e.slice()))}};var ty=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};ty.UNKNOWN_ID=-1;function eU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new Ii(i,q.empty(),e)}function tU(t){return new Ii(t.readTime,t.key,-1)}var Ii=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(te.min(),q.empty(),-1)}static max(){return new t(te.max(),q.empty(),-1)}};function nU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}var rU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ny=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function oc(t){return T(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==rU)throw t;U("LocalStore","Unexpectedly lost primary lease")})}var N=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function iU(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sc(t){return t.name==="IndexedDbTransactionError"}var z0=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Ld(t){return t==null}function Wa(t){return t===0&&1/t==-1/0}function oU(t){return typeof t=="number"&&Number.isInteger(t)&&!Wa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var sU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_W=[...sU,"documentOverlays"],aU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cU=aU,uU=[...cU,"indexConfiguration","indexState","indexEntries"];var IW=[...uU,"globals"];function f0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function G0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pe=class t{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oo(this.root,e,this.comparator,!0)}},Oo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},yn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();let e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}};yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,o){return this}insert(e,n,r){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var lt=class t{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ld(this.data.getIterator())}getIteratorFrom(e){return new ld(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ld=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var zt=class t{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new t([])}unionWith(e){let n=new lt(Ot.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var dd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var dt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dd("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};dt.EMPTY_BYTE_STRING=new dt("");var lU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wn(t){if(De(!!t),typeof t=="string"){let e=0,n=lU.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(t.seconds),nanos:Re(t.nanos)}}function Re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mr(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}function Tv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Sv(t){let e=t.mapValue.fields.__previous_value__;return Tv(e)?Sv(e):e}function Ka(t){let e=Wn(t.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}var ry=class{constructor(e,n,r,i,o,s,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},hd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var rd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tv(t)?4:K0(t)?9007199254740991:W0(t)?10:11:Q()}function In(t,e){if(t===e)return!0;let n=wi(t);if(n!==wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ka(t).isEqual(Ka(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Wn(i.timestampValue),c=Wn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Mr(i.bytesValue).isEqual(Mr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Re(i.geoPointValue.latitude)===Re(o.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Re(i.integerValue)===Re(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Re(i.doubleValue),c=Re(o.doubleValue);return s===c?Wa(s)===Wa(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return Lo(t.arrayValue.values||[],e.arrayValue.values||[],In);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(f0(s)!==f0(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!In(s[u],c[u])))return!1;return!0}(t,e);default:return Q()}}function Qa(t,e){return(t.values||[]).find(n=>In(n,e))!==void 0}function Uo(t,e){if(t===e)return 0;let n=wi(t),r=wi(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Re(o.integerValue||o.doubleValue),u=Re(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return p0(t.timestampValue,e.timestampValue);case 4:return p0(Ka(t),Ka(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(o,s){let c=Mr(o),u=Mr(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=ve(c[l],u[l]);if(f!==0)return f}return ve(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=ve(Re(o.latitude),Re(s.latitude));return c!==0?c:ve(Re(o.longitude),Re(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return g0(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,f;let p=o.fields||{},y=s.fields||{},I=(c=p.value)===null||c===void 0?void 0:c.arrayValue,A=(u=y.value)===null||u===void 0?void 0:u.arrayValue,M=ve(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return M!==0?M:g0(I,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===rd.mapValue&&s===rd.mapValue)return 0;if(o===rd.mapValue)return 1;if(s===rd.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let y=ve(u[p],f[p]);if(y!==0)return y;let I=Uo(c[u[p]],l[f[p]]);if(I!==0)return I}return ve(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Q()}}function p0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);let n=Wn(t),r=Wn(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function g0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Uo(n[i],r[i]);if(o)return o}return ve(n.length,r.length)}function jo(t){return iy(t)}function iy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Wn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Mr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=iy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${iy(n.fields[s])}`;return i+"}"}(t.mapValue):Q()}function oy(t){return!!t&&"integerValue"in t}function Av(t){return!!t&&"arrayValue"in t}function m0(t){return!!t&&"nullValue"in t}function y0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function od(t){return!!t&&"mapValue"in t}function W0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ha(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return bi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ha(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ha(t.arrayValue.values[n]);return e}return Object.assign({},t)}function K0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Pt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!od(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ha(n)}setAll(e){let n=Ot.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=Ha(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());od(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return In(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];od(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bi(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Ha(this.value))}};function Q0(t){let e=[];return bi(t.fields,(n,r)=>{let i=new Ot([n]);if(od(r)){let o=Q0(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new zt(e)}var rn=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),Pt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),Pt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),Pt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Bo=class{constructor(e,n){this.position=e,this.inclusive=n}};function v0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),n.key):r=Uo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function _0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!In(t.position[n],e.position[n]))return!1;return!0}var $o=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function dU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var fd=class{},qe=class t extends fd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ay(e,n,r):n==="array-contains"?new ly(e,r):n==="in"?new dy(e,r):n==="not-in"?new hy(e,r):n==="array-contains-any"?new fy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cy(e,r):new uy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Uo(n,this.value)):n!==null&&wi(this.value)===wi(n)&&this.matchesComparison(Uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},wn=class t extends fd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Y0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Y0(t){return t.op==="and"}function J0(t){return hU(t)&&Y0(t)}function hU(t){for(let e of t.filters)if(e instanceof wn)return!1;return!0}function sy(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+jo(t.value);if(J0(t))return t.filters.map(e=>sy(e)).join(",");{let e=t.filters.map(n=>sy(n)).join(",");return`${t.op}(${e})`}}function Z0(t,e){return t instanceof qe?function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&In(r.value,i.value)}(t,e):t instanceof wn?function(r,i){return i instanceof wn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&Z0(s,i.filters[c]),!0):!1}(t,e):void Q()}function X0(t){return t instanceof qe?function(n){return`${n.field.canonicalString()} ${n.op} ${jo(n.value)}`}(t):t instanceof wn?function(n){return n.op.toString()+" {"+n.getFilters().map(X0).join(" ,")+"}"}(t):"Filter"}var ay=class extends qe{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},cy=class extends qe{constructor(e,n){super(e,"in",n),this.keys=eT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},uy=class extends qe{constructor(e,n){super(e,"not-in",n),this.keys=eT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function eT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var ly=class extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Av(n)&&Qa(n.arrayValue,this.value)}},dy=class extends qe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Qa(this.value.arrayValue,n)}},hy=class extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Qa(this.value.arrayValue,n)}},fy=class extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Av(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qa(this.value.arrayValue,r))}};var py=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function I0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new py(t,e,n,r,i,o,s)}function Rv(t){let e=Z(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jo(r)).join(",")),e.ue=n}return e.ue}function Mv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Z0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_0(t.startAt,e.startAt)&&_0(t.endAt,e.endAt)}function gy(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ho=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function fU(t,e,n,r,i,o,s,c){return new Ho(t,e,n,r,i,o,s,c)}function xv(t){return new Ho(t)}function w0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pU(t){return t.collectionGroup!==null}function qa(t){let e=Z(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new lt(Ot.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new $o(o,r))}),n.has(Ot.keyField().canonicalString())||e.ce.push(new $o(Ot.keyField(),r))}return e.ce}function vn(t){let e=Z(t);return e.le||(e.le=gU(e,qa(t))),e.le}function gU(t,e){if(t.limitType==="F")return I0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new $o(i.field,o)});let n=t.endAt?new Bo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bo(t.startAt.position,t.startAt.inclusive):null;return I0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function my(t,e,n){return new Ho(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ud(t,e){return Mv(vn(t),vn(e))&&t.limitType===e.limitType}function tT(t){return`${Rv(vn(t))}|lt:${t.limitType}`}function xo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>X0(i)).join(", ")}]`),Ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>jo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>jo(i)).join(",")),`Target(${r})`}(vn(t))}; limitType=${t.limitType})`}function jd(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of qa(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=v0(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,qa(r),i)||r.endAt&&!function(s,c,u){let l=v0(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,qa(r),i))}(t,e)}function mU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nT(t){return(e,n)=>{let r=!1;for(let i of qa(t)){let o=yU(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function yU(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?Uo(u,l):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}var xr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bi(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return G0(this.inner)}size(){return this.innerSize}};var vU=new Pe(q.comparator);function Kn(){return vU}var rT=new Pe(q.comparator);function $a(...t){let e=rT;for(let n of t)e=e.insert(n.key,n);return e}function iT(t){let e=rT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mi(){return za()}function oT(){return za()}function za(){return new xr(t=>t.toString(),(t,e)=>t.isEqual(e))}var _U=new Pe(q.comparator),IU=new lt(q.comparator);function de(...t){let e=IU;for(let n of t)e=e.add(n);return e}var wU=new lt(ve);function EU(){return wU}function Nv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wa(e)?"-0":e}}function sT(t){return{integerValue:""+t}}function DU(t,e){return oU(e)?sT(e):Nv(t,e)}var qo=class{constructor(){this._=void 0}};function CU(t,e,n){return t instanceof zo?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Tv(o)&&(o=Sv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ei?cT(t,e):t instanceof Di?uT(t,e):function(i,o){let s=aT(i,o),c=E0(s)+E0(i.Pe);return oy(s)&&oy(i.Pe)?sT(c):Nv(i.serializer,c)}(t,e)}function bU(t,e,n){return t instanceof Ei?cT(t,e):t instanceof Di?uT(t,e):n}function aT(t,e){return t instanceof Go?function(r){return oy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var zo=class extends qo{},Ei=class extends qo{constructor(e){super(),this.elements=e}};function cT(t,e){let n=lT(e);for(let r of t.elements)n.some(i=>In(i,r))||n.push(r);return{arrayValue:{values:n}}}var Di=class extends qo{constructor(e){super(),this.elements=e}};function uT(t,e){let n=lT(e);for(let r of t.elements)n=n.filter(i=>!In(i,r));return{arrayValue:{values:n}}}var Go=class extends qo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function E0(t){return Re(t.integerValue||t.doubleValue)}function lT(t){return Av(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function TU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ei&&i instanceof Ei||r instanceof Di&&i instanceof Di?Lo(r.elements,i.elements,In):r instanceof Go&&i instanceof Go?In(r.Pe,i.Pe):r instanceof zo&&i instanceof zo}(t.transform,e.transform)}var yy=class{constructor(e,n){this.version=e,this.transformResults=n}},zn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function sd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Wo=class{};function dT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ya(t.key,zn.none()):new Ci(t.key,t.data,zn.none());{let n=t.data,r=Pt.empty(),i=new lt(Ot.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new En(t.key,r,new zt(i.toArray()),zn.none())}}function SU(t,e,n){t instanceof Ci?function(i,o,s){let c=i.value.clone(),u=C0(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof En?function(i,o,s){if(!sd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=C0(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(hT(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ga(t,e,n,r){return t instanceof Ci?function(o,s,c,u){if(!sd(o.precondition,s))return c;let l=o.value.clone(),f=b0(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof En?function(o,s,c,u){if(!sd(o.precondition,s))return c;let l=b0(o.fieldTransforms,u,s),f=s.data;return f.setAll(hT(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,c){return sd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function AU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=aT(r.transform,i||null);o!=null&&(n===null&&(n=Pt.empty()),n.set(r.field,o))}return n||null}function D0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Lo(r,i,(o,s)=>TU(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ci=class extends Wo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},En=class extends Wo{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function hT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function C0(t,e,n){let r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,bU(s,c,n[i]))}return r}function b0(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,CU(o,s,e))}return r}var Ya=class extends Wo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},vy=class extends Wo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var _y=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&SU(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ga(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ga(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=oT();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=dT(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,(n,r)=>D0(n,r))&&Lo(this.baseMutations,e.baseMutations,(n,r)=>D0(n,r))}},Iy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=function(){return _U}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var wy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Ey=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ue,me;function RU(t){switch(t){default:return Q();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function fT(t){if(t===void 0)return Gn("GRPC error has no .code"),x.UNKNOWN;switch(t){case Ue.OK:return x.OK;case Ue.CANCELLED:return x.CANCELLED;case Ue.UNKNOWN:return x.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return x.INTERNAL;case Ue.UNAVAILABLE:return x.UNAVAILABLE;case Ue.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Ue.NOT_FOUND:return x.NOT_FOUND;case Ue.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Ue.ABORTED:return x.ABORTED;case Ue.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Ue.DATA_LOSS:return x.DATA_LOSS;default:return Q()}}(me=Ue||(Ue={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var T0=null;function MU(){return new TextEncoder}var xU=new Sr([4294967295,4294967295],0);function S0(t){let e=MU().encode(t),n=new Lm;return n.update(e),new Uint8Array(n.digest())}function A0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Sr([n,r],0),new Sr([i,o],0)]}var Dy=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yi(`Invalid padding: ${n}`);if(r<0)throw new yi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Sr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Sr.fromNumber(r)));return i.compare(xU)===1&&(i=new Sr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=S0(e),[r,i]=A0(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.Ie===0)return;let n=S0(e),[r,i]=A0(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},yi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var pd=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ja.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(te.min(),i,new Pe(ve),Kn(),de())}},Ja=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,de(),de(),de())}};var ko=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},gd=class{constructor(e,n){this.targetId=e,this.me=n}},md=class{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},yd=class{constructor(){this.fe=0,this.ge=M0(),this.pe=dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=de(),n=de(),r=de();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new Ja(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=M0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Cy=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Kn(),this.qe=R0(),this.Qe=new Pe(ve)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(gy(o))if(r===0){let s=new q(o.path);this.Ue(n,s,rn.newNoDocument(s,te.min()))}else De(r===1);else{let s=this.Ye(n);if(s!==r){let c=this.Ze(e),u=c?this.Xe(c,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}T0?.et(function(f,p,y,I,A){var M,R,O,X,z,he;let Me={localCacheCount:f,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},ne=p.unchangedNames;return ne&&(Me.bloomFilter={applied:A===0,hashCount:(M=ne?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(X=(O=(R=ne?.bits)===null||R===void 0?void 0:R.bitmap)===null||O===void 0?void 0:O.length)!==null&&X!==void 0?X:0,padding:(he=(z=ne?.bits)===null||z===void 0?void 0:z.padding)!==null&&he!==void 0?he:0,mightContain:E=>{var m;return(m=I?.mightContain(E))!==null&&m!==void 0&&m}}),Me}(s,e.me,this.Le.tt(),c,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=Mr(r).toUint8Array()}catch(u){if(u instanceof dd)return Vo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Dy(s,i,o)}catch(u){return Vo(u instanceof yi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&gy(c.target)){let u=new q(c.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,rn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=de();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new pd(e,n,this.Qe,this.ke,r);return this.ke=Kn(),this.qe=R0(),this.Qe=new Pe(ve),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new yd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new lt(ve),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new yd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function R0(){return new Pe(q.comparator)}function M0(){return new Pe(q.comparator)}var NU={asc:"ASCENDING",desc:"DESCENDING"},PU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OU={and:"AND",or:"OR"},by=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Ty(t,e){return t.useProto3Json||Ld(e)?e:{value:e}}function vd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kU(t,e){return vd(t,e.toTimestamp())}function _n(t){return De(!!t),te.fromTimestamp(function(n){let r=Wn(n);return new et(r.seconds,r.nanos)}(t))}function Pv(t,e){return Sy(t,e).canonicalString()}function Sy(t,e){let n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gT(t){let e=Ne.fromString(t);return De(IT(e)),e}function Ay(t,e){return Pv(t.databaseId,e.path)}function qm(t,e){let n=gT(e);if(n.get(1)!==t.databaseId.projectId)throw new j(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(yT(n))}function mT(t,e){return Pv(t.databaseId,e)}function FU(t){let e=gT(t);return e.length===4?Ne.emptyPath():yT(e)}function Ry(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yT(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function x0(t,e,n){return{name:Ay(t,e),fields:n.value.mapValue.fields}}function VU(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(De(f===void 0||typeof f=="string"),dt.fromBase64String(f||"")):(De(f===void 0||f instanceof Buffer||f instanceof Uint8Array),dt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let f=l.code===void 0?x.UNKNOWN:fT(l.code);return new j(f,l.message||"")}(s);n=new md(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=qm(t,r.document.name),o=_n(r.document.updateTime),s=r.document.createTime?_n(r.document.createTime):te.min(),c=new Pt({mapValue:{fields:r.document.fields}}),u=rn.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];n=new ko(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=qm(t,r.document),o=r.readTime?_n(r.readTime):te.min(),s=rn.newNoDocument(i,o),c=r.removedTargetIds||[];n=new ko([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=qm(t,r.document),o=r.removedTargetIds||[];n=new ko([],o,i,null)}else{if(!("filter"in e))return Q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Ey(i,o),c=r.targetId;n=new gd(c,s)}}return n}function LU(t,e){let n;if(e instanceof Ci)n={update:x0(t,e.key,e.value)};else if(e instanceof Ya)n={delete:Ay(t,e.key)};else if(e instanceof En)n={update:x0(t,e.key,e.data),updateMask:WU(e.fieldMask)};else{if(!(e instanceof vy))return Q();n={verify:Ay(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof zo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ei)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Di)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Go)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:kU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q()}(t,e.precondition)),n}function UU(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?_n(i.updateTime):_n(o);return s.isEqual(te.min())&&(s=_n(o)),new yy(s,i.transformResults||[])}(n,e))):[]}function jU(t,e){return{documents:[mT(t,e.path)]}}function BU(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mT(t,i);let o=function(l){if(l.length!==0)return _T(wn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(f=>function(y){return{field:No(y.field),direction:qU(y.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=Ty(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function $U(t){let e=FU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){De(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){let y=vT(p);return y instanceof wn&&J0(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(y=>function(A){return new $o(Po(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,Ld(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(p){let y=!!p.before,I=p.values||[];return new Bo(I,y)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let y=!p.before,I=p.values||[];return new Bo(I,y)}(n.endAt)),fU(e,i,s,o,c,"F",u,l)}function HU(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Po(n.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Po(n.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Po(n.unaryFilter.field);return qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Po(n.unaryFilter.field);return qe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return qe.create(Po(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wn.create(n.compositeFilter.filters.map(r=>vT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function qU(t){return NU[t]}function zU(t){return PU[t]}function GU(t){return OU[t]}function No(t){return{fieldPath:t.canonicalString()}}function Po(t){return Ot.fromServerFormat(t.fieldPath)}function _T(t){return t instanceof qe?function(n){if(n.op==="=="){if(y0(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NAN"}};if(m0(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y0(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NAN"}};if(m0(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(n.field),op:zU(n.op),value:n.value}}}(t):t instanceof wn?function(n){let r=n.getFilters().map(i=>_T(i));return r.length===1?r[0]:{compositeFilter:{op:GU(n.op),filters:r}}}(t):Q()}function WU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function IT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Za=class t{constructor(e,n,r,i,o=te.min(),s=te.min(),c=dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var My=class{constructor(e){this.ct=e}};function KU(t){let e=$U({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?my(e,e.limit,"L"):e}var _d=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Re(e.integerValue));else if("doubleValue"in e){let r=Re(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Wa(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Wn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Mr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?K0(e)?this.dt(n,Number.MAX_SAFE_INTEGER):W0(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Q()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Re(c)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),q.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};_d.vt=new _d;var xy=class{constructor(){this.un=new Ny}addToCollectionParentIndex(e,n){return this.un.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(Ii.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}},Ny=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(Ne.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(Ne.comparator)).toArray()}};var EW=new Uint8Array(0);var mn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(41943040,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);var Xa=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Py=class{constructor(){this.changes=new xr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Oy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var ky=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ga(r.mutation,i,zt.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){let i=mi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=$a();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=mi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=Kn(),s=za(),c=function(){return za()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof En)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),Ga(f.mutation,l,f.mutation.getFieldMask(),et.now())):s.set(l.key,zt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var p;return c.set(l,new Oy(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=za(),i=new Pe((s,c)=>s-c),o=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||zt.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||de()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=oT();f.forEach(y=>{if(!o.has(y)){let I=dT(n.get(y),r.get(y));I!==null&&p.set(y,I),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return N.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):N.resolve(mi()),c=-1,u=o;return s.next(l=>N.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?N.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,de())).next(f=>({batchId:c,changes:iT(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=$a();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=$a();return this.indexManager.getCollectionParents(e,o).next(c=>N.forEach(c,u=>{let l=function(p,y){return new Ho(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,rn.newInvalidDocument(f)))});let c=$a();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&Ga(f.mutation,l,zt.empty(),et.now()),jd(n,l)&&(c=c.insert(u,l))}),c})}};var Fy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return N.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_n(i.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:KU(i.bundledQuery),readTime:_n(i.readTime)}}(n)),N.resolve()}};var Vy=class{constructor(){this.overlays=new Pe(q.comparator),this.Ir=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){let r=mi();return N.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),N.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){let i=mi(),o=n.length+1,s=new q(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Pe((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=mi(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=mi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return N.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new wy(n,r));let o=this.Ir.get(n);o===void 0&&(o=de(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Ly=class{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,N.resolve()}};var ec=class{constructor(){this.Tr=new lt(je.Er),this.dr=new lt(je.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new je(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new je(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new q(new Ne([])),r=new je(n,e),i=new je(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new q(new Ne([])),r=new je(n,e),i=new je(n,e+1),o=de();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new je(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},je=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return q.comparator(e.key,n.key)||ve(e.wr,n.wr)}static Ar(e,n){return ve(e.wr,n.wr)||q.comparator(e.key,n.key)}};var Uy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new lt(je.Er)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new _y(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.br=this.br.add(new je(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return N.resolve(s)}lookupMutationBatch(e,n){return N.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new je(n,0),i=new je(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let c=this.Dr(s.wr);o.push(c)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(ve);return n.forEach(i=>{let o=new je(i,0),s=new je(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],c=>{r=r.add(c.wr)})}),N.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;q.isDocumentKey(o)||(o=o.child(""));let s=new je(new q(o),0),c=new lt(ve);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},s),N.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return N.forEach(n.mutations,i=>{let o=new je(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new je(n,0),i=this.br.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var jy=class{constructor(e){this.Mr=e,this.docs=function(){return new Pe(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let r=Kn();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():rn.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Kn(),s=n.path,c=new q(s.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||nU(tU(f),r)<=0||(i.has(f.key)||jd(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Q()}Or(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new By(this)}getSize(e){return N.resolve(this.size)}},By=class extends Py{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var $y=class{constructor(e){this.persistence=e,this.Nr=new xr(n=>Rv(n),Mv),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ec,this.targetCount=0,this.kr=Xa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),N.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Xa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.Kn(n),N.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),N.waitFor(o).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),N.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.Br.containsKey(n))}};var Hy=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new z0(0),this.Kr=!1,this.Kr=!0,this.$r=new Ly,this.referenceDelegate=e(this),this.Ur=new $y(this),this.indexManager=new xy,this.remoteDocumentCache=function(i){return new jy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new My(n),this.Gr=new Fy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Vy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Uy(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new qy(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return N.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},qy=class extends ny{constructor(e){super(),this.currentSequenceNumber=e}},zy=class t{constructor(e){this.persistence=e,this.Jr=new ec,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Q()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),N.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Xr,r=>{let i=q.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return N.or([()=>N.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Gy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=de(),i=de();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Wy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ky=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Sb()?8:iU(Nt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Wy;return this.Xi(e,n,s).next(c=>{if(o.result=c,this.zi)return this.es(e,n,s,c.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ba()<=le.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),N.resolve()):(Ba()<=le.DEBUG&&U("QueryEngine","Query:",xo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ba()<=le.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vn(n))):N.resolve())}Yi(e,n){if(w0(n))return N.resolve(null);let r=vn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=my(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=de(...o);return this.Ji.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,s,u.readTime)?this.Yi(e,my(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return w0(n)||i.isEqual(te.min())?N.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?N.resolve(null):(Ba()<=le.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xo(n)),this.rs(e,s,n,eU(i,-1)).next(c=>c))})}ts(e,n){let r=new lt(nT(e));return n.forEach((i,o)=>{jd(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Ba()<=le.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",xo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ii.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Qy=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Pe(ve),this._s=new xr(o=>Rv(o),Mv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ky(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function QU(t,e,n,r){return new Qy(t,e,n,r)}function wT(t,e){return T(this,null,function*(){let n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=de();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function YU(t,e){let n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let p=l.batch,y=p.keys(),I=N.resolve();return y.forEach(A=>{I=I.next(()=>f.getEntry(u,A)).next(M=>{let R=l.docVersions.get(A);De(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),f.addEntry(M)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=de();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ET(t){let e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function JU(t,e){let n=Z(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let c=[];e.targetChanges.forEach((f,p)=>{let y=i.get(p);if(!y)return;c.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,p)));let I=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?I=I.withResumeToken(dt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):f.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(f.resumeToken,r)),i=i.insert(p,I),function(M,R,O){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(y,I,f)&&c.push(n.Ur.updateTargetData(o,I))});let u=Kn(),l=de();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(ZU(o,s,e.documentUpdates).next(f=>{u=f.Ps,l=f.Is})),!r.isEqual(te.min())){let f=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return N.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function ZU(t,e,n){let r=de(),i=de();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Kn();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):U("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function XU(t,e){let n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function e2(t,e){let n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,N.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Za(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Yy(t,e,n){return T(this,null,function*(){let r=Z(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!sc(s))throw s;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function N0(t,e,n){let r=Z(t),i=te.min(),o=de();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,f){let p=Z(u),y=p._s.get(f);return y!==void 0?N.resolve(p.os.get(y)):p.Ur.getTargetData(l,f)}(r,s,vn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:te.min(),n?o:de())).next(c=>(t2(r,mU(e),c),{documents:c,Ts:o})))}function t2(t,e,n){let r=t.us.get(e)||te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Id=class{constructor(){this.activeTargetIds=EU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Jy=class{constructor(){this.so=new Id,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Id,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Zy=class{_o(e){}shutdown(){}};var wd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var id=null;function zm(){return id===null?id=function(){return 268435456+Math.round(2147483648*Math.random())}():id++,"0x"+id.toString(16)}var n2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Xy=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ut="WebChannelConnection",ev=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let c=zm(),u=this.xo(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(f=>(U("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw Vo("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,s,c){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=n2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=zm();return new Promise((s,c)=>{let u=new Um;u.setWithCredentials(!0),u.listenOnce(jm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ja.NO_ERROR:let f=u.getResponseJson();U(ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case ja.TIMEOUT:U(ut,`RPC '${e}' ${o} timed out`),c(new j(x.DEADLINE_EXCEEDED,"Request time out"));break;case ja.HTTP_ERROR:let p=u.getStatus();if(U(ut,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let I=y?.error;if(I&&I.status&&I.message){let A=function(R){let O=R.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(O)>=0?O:x.UNKNOWN}(I.status);c(new j(A,I.message))}else c(new j(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new j(x.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{U(ut,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);U(ut,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=zm(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Hm(),c=$m(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");U(ut,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u),y=!1,I=!1,A=new Xy({Io:R=>{I?U(ut,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(U(ut,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),U(ut,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,O,X)=>{R.listen(O,z=>{try{X(z)}catch(he){setTimeout(()=>{throw he},0)}})};return M(p,Mo.EventType.OPEN,()=>{I||(U(ut,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),M(p,Mo.EventType.CLOSE,()=>{I||(I=!0,U(ut,`RPC '${e}' stream ${i} transport closed`),A.So())}),M(p,Mo.EventType.ERROR,R=>{I||(I=!0,Vo(ut,`RPC '${e}' stream ${i} transport errored:`,R),A.So(new j(x.UNAVAILABLE,"The operation could not be completed")))}),M(p,Mo.EventType.MESSAGE,R=>{var O;if(!I){let X=R.data[0];De(!!X);let z=X,he=z.error||((O=z[0])===null||O===void 0?void 0:O.error);if(he){U(ut,`RPC '${e}' stream ${i} received error:`,he);let Me=he.status,ne=function(v){let w=Ue[v];if(w!==void 0)return fT(w)}(Me),E=he.message;ne===void 0&&(ne=x.INTERNAL,E="Unknown error status: "+Me+" with message "+he.message),I=!0,A.So(new j(ne,E)),p.close()}else U(ut,`RPC '${e}' stream ${i} received:`,X),A.bo(X)}}),M(c,Bm.STAT_EVENT,R=>{R.stat===nd.PROXY?U(ut,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===nd.NOPROXY&&U(ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function Gm(){return typeof document<"u"?document:null}function Bd(t){return new by(t,!0)}var Ed=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Dd=class{constructor(e,n,r,i,o,s,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ed(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return T(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return T(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return T(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Gn(n.toString()),Gn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new j(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>T(this,null,function*(){this.state=0,this.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},tv=class extends Dd{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=VU(this.serializer,e),r=function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?_n(s.readTime):te.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Ry(this.serializer),n.addTarget=function(o,s){let c,u=s.target;if(c=gy(u)?{documents:jU(o,u)}:{query:BU(o,u)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=pT(o,s.resumeToken);let l=Ty(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){c.readTime=vd(o,s.snapshotVersion.toTimestamp());let l=Ty(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=HU(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Ry(this.serializer),n.removeTarget=e,this.a_(n)}},nv=class extends Dd{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=UU(e.writeResults,e.commitTime),r=_n(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Ry(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>LU(this.serializer,r))};this.a_(n)}};var rv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new j(x.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Sy(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(x.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Lo(e,Sy(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(x.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},iv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Gn(n),this.D_=!1):U("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var ov=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>T(this,null,function*(){Ti(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(u){return T(this,null,function*(){let l=Z(u);l.L_.add(4),yield ac(l),l.q_.set("Unknown"),l.L_.delete(4),yield $d(l)})}(this))}))}),this.q_=new iv(r,i)}};function $d(t){return T(this,null,function*(){if(Ti(t))for(let e of t.B_)yield e(!0)})}function ac(t){return T(this,null,function*(){for(let e of t.B_)yield e(!1)})}function DT(t,e){let n=Z(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Vv(n)?Fv(n):Zo(n).r_()&&kv(n,e))}function Ov(t,e){let n=Z(t),r=Zo(n);n.N_.delete(e),r.r_()&&CT(n,e),n.N_.size===0&&(r.r_()?r.o_():Ti(n)&&n.q_.set("Unknown"))}function kv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zo(t).A_(e)}function CT(t,e){t.Q_.xe(e),Zo(t).R_(e)}function Fv(t){t.Q_=new Cy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Zo(t).start(),t.q_.v_()}function Vv(t){return Ti(t)&&!Zo(t).n_()&&t.N_.size>0}function Ti(t){return Z(t).L_.size===0}function bT(t){t.Q_=void 0}function r2(t){return T(this,null,function*(){t.q_.set("Online")})}function i2(t){return T(this,null,function*(){t.N_.forEach((e,n)=>{kv(t,e)})})}function o2(t,e){return T(this,null,function*(){bT(t),Vv(t)?(t.q_.M_(e),Fv(t)):t.q_.set("Unknown")})}function s2(t,e,n){return T(this,null,function*(){if(t.q_.set("Online"),e instanceof md&&e.state===2&&e.cause)try{yield function(i,o){return T(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.N_.delete(c),i.Q_.removeTarget(c))})}(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Cd(t,r)}else if(e instanceof ko?t.Q_.Ke(e):e instanceof gd?t.Q_.He(e):t.Q_.We(e),!n.isEqual(te.min()))try{let r=yield ET(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let c=o.Q_.rt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.N_.get(l);f&&o.N_.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.N_.get(u);if(!f)return;o.N_.set(u,f.withResumeToken(dt.EMPTY_BYTE_STRING,f.snapshotVersion)),CT(o,u);let p=new Za(f.target,u,l,f.sequenceNumber);kv(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){U("RemoteStore","Failed to raise snapshot:",r),yield Cd(t,r)}})}function Cd(t,e,n){return T(this,null,function*(){if(!sc(e))throw e;t.L_.add(1),yield ac(t),t.q_.set("Offline"),n||(n=()=>ET(t.localStore)),t.asyncQueue.enqueueRetryable(()=>T(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield $d(t)}))})}function TT(t,e){return e().catch(n=>Cd(t,n,e))}function Hd(t){return T(this,null,function*(){let e=Z(t),n=Nr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;a2(e);)try{let i=yield XU(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,c2(e,i)}catch(i){yield Cd(e,i)}ST(e)&&AT(e)})}function a2(t){return Ti(t)&&t.O_.length<10}function c2(t,e){t.O_.push(e);let n=Nr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function ST(t){return Ti(t)&&!Nr(t).n_()&&t.O_.length>0}function AT(t){Nr(t).start()}function u2(t){return T(this,null,function*(){Nr(t).p_()})}function l2(t){return T(this,null,function*(){let e=Nr(t);for(let n of t.O_)e.m_(n.mutations)})}function d2(t,e,n){return T(this,null,function*(){let r=t.O_.shift(),i=Iy.from(r,e,n);yield TT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Hd(t)})}function h2(t,e){return T(this,null,function*(){e&&Nr(t).V_&&(yield function(r,i){return T(this,null,function*(){if(function(s){return RU(s)&&s!==x.ABORTED}(i.code)){let o=r.O_.shift();Nr(r).s_(),yield TT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Hd(r)}})}(t,e)),ST(t)&&AT(t)})}function P0(t,e){return T(this,null,function*(){let n=Z(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let r=Ti(n);n.L_.add(3),yield ac(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield $d(n)})}function f2(t,e){return T(this,null,function*(){let n=Z(t);e?(n.L_.delete(2),yield $d(n)):e||(n.L_.add(2),yield ac(n),n.q_.set("Unknown"))})}function Zo(t){return t.K_||(t.K_=function(n,r,i){let o=Z(n);return o.w_(),new tv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:r2.bind(null,t),Ro:i2.bind(null,t),mo:o2.bind(null,t),d_:s2.bind(null,t)}),t.B_.push(e=>T(this,null,function*(){e?(t.K_.s_(),Vv(t)?Fv(t):t.q_.set("Unknown")):(yield t.K_.stop(),bT(t))}))),t.K_}function Nr(t){return t.U_||(t.U_=function(n,r,i){let o=Z(n);return o.w_(),new nv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:u2.bind(null,t),mo:h2.bind(null,t),f_:l2.bind(null,t),g_:d2.bind(null,t)}),t.B_.push(e=>T(this,null,function*(){e?(t.U_.s_(),yield Hd(t)):(yield t.U_.stop(),t.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var sv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Lv(t,e){if(Gn("AsyncQueue",`${e}: ${t}`),sc(t))return new j(x.UNAVAILABLE,`${e}: ${t}`);throw t}var bd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=$a(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Td=class{constructor(){this.W_=new Pe(q.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Q():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ko=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,bd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var av=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},cv=class{constructor(){this.queries=O0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Z(n),o=i.queries;i.queries=O0(),o.forEach((s,c)=>{for(let u of c.j_)u.onError(r)})})(this,new j(x.ABORTED,"Firestore shutting down"))}};function O0(){return new xr(t=>tT(t),Ud)}function p2(t,e){return T(this,null,function*(){let n=Z(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new av,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let c=Lv(s,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Uv(n)})}function g2(t,e){return T(this,null,function*(){let n=Z(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function m2(t,e){let n=Z(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.j_)c.X_(i)&&(r=!0);s.z_=i}}r&&Uv(n)}function y2(t,e,n){let r=Z(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function Uv(t){t.Y_.forEach(e=>{e.next()})}var uv,k0;(k0=uv||(uv={})).ea="default",k0.Cache="cache";var lv=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==uv.Cache}};var Sd=class{constructor(e){this.key=e}},Ad=class{constructor(e){this.key=e}},dv=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=de(),this.mutatedKeys=de(),this.Aa=nT(e),this.Ra=new bd(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Td,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let y=i.get(f),I=jd(this.query,p)?p:null,A=!!y&&this.mutatedKeys.has(y.key),M=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),R=!1;y&&I?y.data.isEqual(I.data)?A!==M&&(r.track({type:3,doc:I}),R=!0):this.ga(y,I)||(r.track({type:2,doc:I}),R=!0,(u&&this.Aa(I,u)>0||l&&this.Aa(I,l)<0)&&(c=!0)):!y&&I?(r.track({type:0,doc:I}),R=!0):y&&!I&&(r.track({type:1,doc:y}),R=!0,(u||l)&&(c=!0)),R&&(I?(s=s.add(I),o=M?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:c,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((f,p)=>function(I,A){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return M(I)-M(A)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Ko(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Td,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=de(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Ad(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Sd(r))}),n}ba(e){this.Ta=e.Ts,this.da=de();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ko.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},hv=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},fv=class{constructor(e){this.key=e,this.va=!1}},pv=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new xr(c=>tT(c),Ud),this.Ma=new Map,this.xa=new Set,this.Oa=new Pe(q.comparator),this.Na=new Map,this.La=new ec,this.Ba={},this.ka=new Map,this.qa=Xa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function v2(t,e,n=!0){return T(this,null,function*(){let r=OT(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield RT(r,e,n,!0),i})}function _2(t,e){return T(this,null,function*(){let n=OT(t);yield RT(n,e,!0,!1)})}function RT(t,e,n,r){return T(this,null,function*(){let i=yield e2(t.localStore,vn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield I2(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&DT(t.remoteStore,i),c})}function I2(t,e,n,r,i){return T(this,null,function*(){t.Ka=(p,y,I)=>function(M,R,O,X){return T(this,null,function*(){let z=R.view.ma(O);z.ns&&(z=yield N0(M.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,z)));let he=X&&X.targetChanges.get(R.targetId),Me=X&&X.targetMismatches.get(R.targetId)!=null,ne=R.view.applyChanges(z,M.isPrimaryClient,he,Me);return V0(M,R.targetId,ne.wa),ne.snapshot})}(t,p,y,I);let o=yield N0(t.localStore,e,!0),s=new dv(e,o.Ts),c=s.ma(o.documents),u=Ja.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);V0(t,n,l.wa);let f=new hv(e,n,s);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function w2(t,e,n){return T(this,null,function*(){let r=Z(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Ud(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Yy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ov(r.remoteStore,i.targetId),gv(r,i.targetId)}).catch(oc))):(gv(r,i.targetId),yield Yy(r.localStore,i.targetId,!0))})}function E2(t,e){return T(this,null,function*(){let n=Z(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ov(n.remoteStore,r.targetId))})}function D2(t,e,n){return T(this,null,function*(){let r=M2(t);try{let i=yield function(s,c){let u=Z(s),l=et.now(),f=c.reduce((I,A)=>I.add(A.key),de()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let A=Kn(),M=de();return u.cs.getEntries(I,f).next(R=>{A=R,A.forEach((O,X)=>{X.isValidDocument()||(M=M.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,A)).next(R=>{p=R;let O=[];for(let X of c){let z=AU(X,p.get(X.key).overlayedDocument);z!=null&&O.push(new En(X.key,z,Q0(z.value.mapValue),zn.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,O,c)}).next(R=>{y=R;let O=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(I,R.batchId,O)})}).then(()=>({batchId:y.batchId,changes:iT(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Pe(ve)),l=l.insert(c,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield cc(r,i.changes),yield Hd(r.remoteStore)}catch(i){let o=Lv(i,"Failed to persist write");n.reject(o)}})}function MT(t,e){return T(this,null,function*(){let n=Z(t);try{let r=yield JU(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?De(s.va):i.removedDocuments.size>0&&(De(s.va),s.va=!1))}),yield cc(n,r,e)}catch(r){yield oc(r)}})}function F0(t,e,n){let r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let c=s.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=Z(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let y of p.j_)y.Z_(c)&&(l=!0)}),l&&Uv(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function C2(t,e,n){return T(this,null,function*(){let r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Pe(q.comparator);s=s.insert(o,rn.newNoDocument(o,te.min()));let c=de().add(o),u=new pd(te.min(),new Map,new Pe(ve),s,c);yield MT(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),jv(r)}else yield Yy(r.localStore,e,!1).then(()=>gv(r,e,n)).catch(oc)})}function b2(t,e){return T(this,null,function*(){let n=Z(t),r=e.batch.batchId;try{let i=yield YU(n.localStore,e);NT(n,r,null),xT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield cc(n,i)}catch(i){yield oc(i)}})}function T2(t,e,n){return T(this,null,function*(){let r=Z(t);try{let i=yield function(s,c){let u=Z(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(De(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);NT(r,e,n),xT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield cc(r,i)}catch(i){yield oc(i)}})}function xT(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function NT(t,e,n){let r=Z(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function gv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||PT(t,r)})}function PT(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Ov(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),jv(t))}function V0(t,e,n){for(let r of n)r instanceof Sd?(t.La.addReference(r.key,e),S2(t,r)):r instanceof Ad?(U("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||PT(t,r.key)):Q()}function S2(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(U("SyncEngine","New document in limbo: "+n),t.xa.add(r),jv(t))}function jv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new q(Ne.fromString(e)),r=t.qa.next();t.Na.set(r,new fv(n)),t.Oa=t.Oa.insert(n,r),DT(t.remoteStore,new Za(vn(xv(n.path)),r,"TargetPurposeLimboResolution",z0.oe))}}function cc(t,e,n){return T(this,null,function*(){let r=Z(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{s.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Gy.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return T(this,null,function*(){let f=Z(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>N.forEach(l,y=>N.forEach(y.$i,I=>f.persistence.referenceDelegate.addReference(p,y.targetId,I)).next(()=>N.forEach(y.Ui,I=>f.persistence.referenceDelegate.removeReference(p,y.targetId,I)))))}catch(p){if(!sc(p))throw p;U("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let I=f.os.get(y),A=I.snapshotVersion,M=I.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(y,M)}}})}(r.localStore,o))})}function A2(t,e){return T(this,null,function*(){let n=Z(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());let r=yield wT(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(c=>{c.forEach(u=>{u.reject(new j(x.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield cc(n,r.hs)}})}function R2(t,e){let n=Z(t),r=n.Na.get(e);if(r&&r.va)return de().add(r.key);{let i=de(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let c=n.Fa.get(s);i=i.unionWith(c.view.Va)}return i}}function OT(t){let e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C2.bind(null,e),e.Ca.d_=m2.bind(null,e.eventManager),e.Ca.$a=y2.bind(null,e.eventManager),e}function M2(t){let e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T2.bind(null,e),e}var L0=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return T(this,null,function*(){this.serializer=Bd(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return QU(this.persistence,new Ky,n.initialUser,this.serializer)}Ga(n){return new Hy(zy.Zr,this.serializer)}Wa(n){return new Jy}terminate(){return T(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var x2=(()=>{class t{initialize(n,r){return T(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>F0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=A2.bind(null,this.syncEngine),yield f2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new cv}()}createDatastore(n){let r=Bd(n.databaseInfo.databaseId),i=function(s){return new ev(s)}(n.databaseInfo);return function(s,c,u,l){return new rv(s,c,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,c,u){return new ov(i,o,s,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>F0(this.syncEngine,r,0),function(){return wd.D()?new wd:new Zy}())}createSyncEngine(n,r){return function(o,s,c,u,l,f,p){let y=new pv(o,s,c,u,l,f);return p&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return T(this,null,function*(){var n,r;yield function(o){return T(this,null,function*(){let s=Z(o);U("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield ac(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var mv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Gn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var yv=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=cd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>T(this,null,function*(){U("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Lv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Wm(t,e){return T(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>T(this,null,function*(){r.isEqual(i)||(yield wT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function U0(t,e){return T(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield N2(t);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>P0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>P0(e.remoteStore,i)),t._onlineComponents=e})}function N2(t){return T(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Wm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Vo("Error using user provided cache. Falling back to memory cache: "+n),yield Wm(t,new L0)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield Wm(t,new L0);return t._offlineComponents})}function kT(t){return T(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield U0(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield U0(t,new x2))),t._onlineComponents})}function P2(t){return kT(t).then(e=>e.syncEngine)}function j0(t){return T(this,null,function*(){let e=yield kT(t),n=e.eventManager;return n.onListen=v2.bind(null,e.syncEngine),n.onUnlisten=w2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=E2.bind(null,e.syncEngine),n})}function FT(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var B0=new Map;function VT(t,e,n){if(!n)throw new j(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O2(t,e,n,r){if(e===!0&&r===!0)throw new j(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $0(t){if(!q.isDocumentKey(t))throw new j(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function H0(t){if(q.isDocumentKey(t))throw new j(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function Ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Bv(t);throw new j(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Rd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new j(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new j(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new j(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new j(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Qo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new j(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new j(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Km;switch(r.type){case"firstParty":return new Zm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return T(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=B0.get(n);r&&(U("ComponentProvider","Removing Datastore"),B0.delete(n),r.terminate())}(this),Promise.resolve()}};function LT(t,e,n,r={}){var i;let o=(t=Ar(t,Qo))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Qe.MOCK_USER;else{c=Eb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new j(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qe(l)}t._authCredentials=new Qm(new ad(c,u))}}var Md=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},kt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Rr=class t extends Md{constructor(e,n,r){super(e,n,xv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function UT(t,e,...n){if(t=yt(t),VT("collection","path",e),t instanceof Qo){let r=Ne.fromString(e,...n);return H0(r),new Rr(t,null,r)}{if(!(t instanceof kt||t instanceof Rr))throw new j(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return H0(r),new Rr(t.firestore,null,r)}}function $v(t,e,...n){if(t=yt(t),arguments.length===1&&(e=cd.newId()),VT("doc","path",e),t instanceof Qo){let r=Ne.fromString(e,...n);return $0(r),new kt(t,null,new q(r))}{if(!(t instanceof kt||t instanceof Rr))throw new j(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return $0(r),new kt(t.firestore,t instanceof Rr?t.converter:null,new q(r))}}var xd=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ed(this,"async_queue_retry"),this.Vu=()=>{let r=Gm();r&&U("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new qn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return T(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!sc(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw Gn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=sv.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Q()}verifyOperationInProgress(){}wu(){return T(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function q0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Pr=class extends Qo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new xd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return T(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new xd(e),this._firestoreClient=void 0,yield e}})}};function jT(t,e){let n=typeof t=="object"?t:Ma(),r=typeof t=="string"?t:e||"(default)",i=_m(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Ib("firestore");o&&LT(i,...o)}return i}function BT(t){if(t._terminated)throw new j(x.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||k2(t),t._firestoreClient}function k2(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,l,f){return new ry(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,FT(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new yv(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var tc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(dt.fromBase64String(e))}catch(n){throw new j(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Yo=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new j(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var nc=class{constructor(e){this._methodName=e}};var rc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}};var ic=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var F2=/^__.*__$/,vv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new En(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ci(e,this.data,n,this.fieldTransforms)}},Nd=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new En(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function $T(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}var _v=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Od(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if($T(this.Cu)&&F2.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Iv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bd(e)}Qu(e,n,r,i=!1){return new _v({Cu:e,methodName:n,qu:r,path:Ot.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function HT(t){let e=t._freezeSettings(),n=Bd(t._databaseId);return new Iv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function V2(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Hv("Data must be an object, but it was:",s,r);let c=qT(r,s),u,l;if(o.merge)u=new zt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let y=wv(e,p,n);if(!s.contains(y))throw new j(x.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);GT(f,y)||f.push(y)}u=new zt(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new vv(new Pt(c),u,l)}var Pd=class t extends nc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function L2(t,e,n,r){let i=t.Qu(1,e,n);Hv("Data must be an object, but it was:",i,r);let o=[],s=Pt.empty();bi(r,(u,l)=>{let f=qv(e,u,n);l=yt(l);let p=i.Nu(f);if(l instanceof Pd)o.push(f);else{let y=qd(l,p);y!=null&&(o.push(f),s.set(f,y))}});let c=new zt(o);return new Nd(s,c,i.fieldTransforms)}function U2(t,e,n,r,i,o){let s=t.Qu(1,e,n),c=[wv(e,r,n)],u=[i];if(o.length%2!=0)throw new j(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)c.push(wv(e,o[y])),u.push(o[y+1]);let l=[],f=Pt.empty();for(let y=c.length-1;y>=0;--y)if(!GT(l,c[y])){let I=c[y],A=u[y];A=yt(A);let M=s.Nu(I);if(A instanceof Pd)l.push(I);else{let R=qd(A,M);R!=null&&(l.push(I),f.set(I,R))}}let p=new zt(l);return new Nd(f,p,s.fieldTransforms)}function qd(t,e){if(zT(t=yt(t)))return Hv("Unsupported field value:",e,t),qT(t,e);if(t instanceof nc)return function(r,i){if(!$T(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=qd(c,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=et.fromDate(r);return{timestampValue:vd(i.serializer,o)}}if(r instanceof et){let o=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vd(i.serializer,o)}}if(r instanceof rc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof tc)return{bytesValue:pT(i.serializer,r._byteString)};if(r instanceof kt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Pv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ic)return function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return Nv(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Bv(r)}`)}(t,e)}function qT(t,e){let n={};return G0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bi(t,(r,i)=>{let o=qd(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function zT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof rc||t instanceof tc||t instanceof kt||t instanceof nc||t instanceof ic)}function Hv(t,e,n){if(!zT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Bv(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function wv(t,e,n){if((e=yt(e))instanceof Yo)return e._internalPath;if(typeof e=="string")return qv(t,e);throw Od("Field path arguments must be of type string or ",t,!1,void 0,n)}var j2=new RegExp("[~\\*/\\[\\]]");function qv(t,e,n){if(e.search(j2)>=0)throw Od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yo(...e.split("."))._internalPath}catch{throw Od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Od(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new j(x.INVALID_ARGUMENT,c+t+u)}function GT(t,e){return t.some(n=>n.isEqual(e))}var kd=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Ev(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(WT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Ev=class extends kd{data(){return super.data()}};function WT(t,e){return typeof e=="string"?qv(t,e):e instanceof Yo?e._internalPath:e._delegate._internalPath}function B2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new j(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Dv=class{convertValue(e,n="none"){switch(wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return bi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Re(s.doubleValue));return new ic(o)}convertGeoPoint(e){return new rc(Re(e.latitude),Re(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Sv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ka(e));default:return null}}convertTimestamp(e){let n=Wn(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ne.fromString(e);De(IT(r));let i=new hd(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(n)||Gn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function $2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var vi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Fd=class extends kd{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Fo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(WT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Fo=class extends Fd{data(e={}){return super.data(e)}},Cv=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fo(this._firestore,this._userDataWriter,r.key,r,new vi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new Fo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new vi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Fo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new vi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:H2(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function H2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}var Vd=class extends Dv{constructor(e){super(),this.firestore=e}convertBytes(e){return new tc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}};function KT(t,e,n,...r){t=Ar(t,kt);let i=Ar(t.firestore,Pr),o=HT(i),s;return s=typeof(e=yt(e))=="string"||e instanceof Yo?U2(o,"updateDoc",t._key,e,n,r):L2(o,"updateDoc",t._key,e),Gv(i,[s.toMutation(t._key,zn.exists(!0))])}function QT(t){return Gv(Ar(t.firestore,Pr),[new Ya(t._key,zn.none())])}function YT(t,e){let n=Ar(t.firestore,Pr),r=$v(t),i=$2(t.converter,e);return Gv(n,[V2(HT(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,zn.exists(!1))]).then(()=>r)}function zv(t,...e){var n,r,i;t=yt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||q0(e[s])||(o=e[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(q0(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,f;if(t instanceof kt)l=Ar(t.firestore,Pr),f=xv(t._key.path),u={next:p=>{e[s]&&e[s](q2(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Ar(t,Md);l=Ar(p.firestore,Pr),f=p._query;let y=new Vd(l);u={next:I=>{e[s]&&e[s](new Cv(l,y,p,I))},error:e[s+1],complete:e[s+2]},B2(t._query)}return function(y,I,A,M){let R=new mv(M),O=new lv(I,R,A);return y.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return p2(yield j0(y),O)})),()=>{R.Za(),y.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return g2(yield j0(y),O)}))}}(BT(l),f,c,u)}function Gv(t,e){return function(r,i){let o=new qn;return r.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return D2(yield P2(r),i,o)})),o.promise}(BT(t),e)}function q2(t,e,n){let r=n.docs.get(e._key),i=new Vd(t);return new Fd(t,i,e._key,r,new vi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Jo=i})(So),br(new Ht("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Pr(new Ym(r.getProvider("auth-internal")),new ey(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new j(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hd(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ke(h0,"4.7.3",e),Ke(h0,"4.7.3","esm2017")})();var zd=function(){return zd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},zd.apply(this,arguments)};var W2={includeMetadataChanges:!1};function Wv(t,e){return e===void 0&&(e=W2),new ce(function(n){var r=zv(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function JT(t){return Wv(t,{includeMetadataChanges:!0})}function ZT(t,e){return e===void 0&&(e={}),JT(t).pipe(oe(function(n){return Kv(n,e)}))}function Kv(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:zd(zd({},r),(n={},n[e.idField]=t.id,n))}function XT(t){return Wv(t,{includeMetadataChanges:!0}).pipe(oe(function(e){return e.docs}))}function eS(t,e){return e===void 0&&(e={}),XT(t).pipe(oe(function(n){return n.map(function(r){return Kv(r,e)})}))}var Si=class{constructor(e){return e}},tS="firestore",Qv=class{constructor(){return Na(tS)}};var Yv=new W("angularfire2.firestore-instances");function K2(t,e){let n=Em(tS,t,e);return n&&new Si(n)}function Q2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Si(r)}}var Y2={provide:Qv,deps:[[new Zt,Yv]]},J2={provide:Si,useFactory:K2,deps:[[new Zt,Yv],fi]};function nS(t,...e){return Ke("angularfire",Ro.full,"fst"),hr([J2,Y2,{provide:Yv,useFactory:Q2(t),multi:!0,deps:[we,At,Pa,Oa,[new Zt,ed],[new Zt,xa],...e]}])}var rS=qt(eS,!0);var iS=qt(ZT,!0);var oS=qt(YT,!0);var sS=qt(UT,!0);var aS=qt(QT,!0);var Gd=qt($v,!0);var cS=qt(jT,!0);var uS=qt(KT,!0);var Wd=(()=>{class t{constructor(n){this.firestore=n,this.todosCollection=sS(this.firestore,"todos")}getTodoById(n){let r=Gd(this.firestore,`todos/${n}`);return iS(r,{idField:"id"})}getTodos(){return rS(this.todosCollection,{idField:"id"})}addTodo(n){return oS(this.todosCollection,n)}updateTodo(n){let r=Gd(this.firestore,`todos/${n.id}`);return uS(r,{title:n.title,completed:n.completed})}deleteTodo(n){let r=Gd(this.firestore,`todos/${n}`);return aS(r)}static{this.\u0275fac=function(r){return new(r||t)(Y(Si))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var X2=(t,e)=>e.id,ej=t=>({"text-decoration-line-through":t}),tj=t=>["/todos",t];function nj(t,e){if(t&1){let n=Yu();F(0,"ul",12)(1,"li",13)(2,"div",14)(3,"input",15),si("ngModelChange",function(i){let o=ei(n).$implicit;return uo(o.completed,i)||(o.completed=i),ti(i)}),V()()(),F(4,"li",16)(5,"p",17),B(6),V()(),F(7,"li",18)(8,"div",19)(9,"a",20),Ut("click",function(){let i=ei(n).$implicit,o=ri();return ti(o.deleteToDo(i.id))}),Ee(10,"i",21),V()()()()}if(t&2){let n=e.$implicit;Ge(3),oi("ngModel",n.completed),Ge(2),tn("ngClass",Gs(4,ej,n.completed))("routerLink",Gs(6,tj,n.id)),Ge(),ii(" ",n.title," ")}}var dS=(()=>{class t{constructor(n){this.todoService=n,this.todos=[],this.newToDo={title:""}}ngOnInit(){this.getToDos()}getToDos(){this.todoService.getTodos().subscribe(n=>{console.log("Todos from Firestore:",n),this.todos=n})}createToDo(){if(!this.newToDo.title)return;let n={title:this.newToDo.title,completed:!1};this.todoService.addTodo(n).then(()=>{this.newToDo={}})}deleteToDo(n){this.todoService.deleteTodo(n)}static{this.\u0275fac=function(r){return new(r||t)(re(Wd))}}static{this.\u0275cmp=Ve({type:t,selectors:[["app-todos"]],standalone:!0,features:[Le],decls:17,vars:1,consts:[[1,"vh-100",2,"background-color","#e2d5de"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-xl-10"],[1,"card",2,"border-radius","15px"],[1,"card-body","p-5"],[1,"mb-5","text-center","text-primary"],[1,"d-flex","justify-content-center","align-items-center","mb-4",3,"ngSubmit"],["data-mdb-input-init","",1,"form-outline","flex-fill"],["for","form3",1,"form-label"],["type","text","id","exampleFormControlInput1","placeholder","Add new Task","name","title",1,"form-control","form-control-lg",3,"ngModelChange","ngModel"],["type","submit","data-mdb-button-init","","data-mdb-ripple-init","",1,"btn","btn-primary","btn-lg","ms-2"],[1,"list-group","list-group-horizontal","rounded-0","mb-2"],[1,"list-group-item","d-flex","align-items-center","ps-0","pe-3","py-1","rounded-0","border-0","bg-transparent"],[1,"form-check"],["type","checkbox","value","","id","flexCheckChecked3",1,"form-check-input","me-0",3,"ngModelChange","ngModel"],[1,"list-group-item","px-3","py-1","d-flex","align-items-center","flex-grow-1","border-1","bg-transparent"],[1,"lead","fw-normal","mb-0","bg-light","w-100","ms-n2","ps-2","py-1","rounded",3,"ngClass","routerLink"],[1,"list-group-item","ps-3","pe-0","py-1","rounded-0","border-0","bg-transparent"],[1,"d-flex","flex-row","justify-content-end","mb-1"],["data-mdb-toggle","tooltip","title","Delete todo",1,"text-danger",3,"click"],[1,"fa-solid","fa-trash"]],template:function(r,i){r&1&&(F(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h6",6),B(7,"Todo List"),V(),F(8,"form",7),Ut("ngSubmit",function(){return i.createToDo()}),F(9,"div",8)(10,"label",9),B(11,"Add new Task"),V(),F(12,"input",10),si("ngModelChange",function(s){return uo(i.newToDo.title,s)||(i.newToDo.title=s),s}),V()(),F(13,"button",11),B(14,"Add"),V()(),mD(15,nj,11,8,"ul",12,X2),V()()()()()()),r&2&&(Ge(12),oi("ngModel",i.newToDo.title),Ge(3),yD(i.todos))},dependencies:[Fl,kl,Co,Ca,Nl,Pl,Ta,ba,Ks,rl,Cl,Io]})}}return t})();var rj=t=>({"is-invalid":t});function ij(t,e){if(t&1){let n=Yu();F(0,"div",2)(1,"div",3)(2,"h2",4),B(3,"Todo Details"),V(),F(4,"h6"),B(5),V(),F(6,"h6"),B(7),V()(),F(8,"div",5)(9,"form",6,0),Ut("ngSubmit",function(){ei(n);let i=ri();return ti(i.updateTodo())}),F(11,"div",7)(12,"label"),B(13,"Task Title:"),V(),F(14,"input",8,1),si("ngModelChange",function(i){ei(n);let o=ri();return uo(o.todo.title,i)||(o.todo.title=i),ti(i)}),V()(),F(16,"div",9)(17,"label"),B(18,"Completed:"),V(),F(19,"input",10),si("ngModelChange",function(i){ei(n);let o=ri();return uo(o.todo.completed,i)||(o.todo.completed=i),ti(i)}),V()(),F(20,"button",11),B(21," Update "),V()()()(),F(22,"h1"),B(23),CD(24,"json"),V()}if(t&2){let n=jp(10),r=jp(15),i=ri();Ge(5),ii("Task Title : ",i.todo.title,""),Ge(2),ii("Task Completed : ",i.todo.completed,""),Ge(7),oi("ngModel",i.todo.title),tn("ngClass",Gs(9,rj,(r.touched||r.dirty)&&r.invalid)),Ge(5),oi("ngModel",i.todo.completed),Ge(),tn("disabled",n.invalid),Ge(3),ii(" ",bD(24,7,r.errors),"")}}var hS=(()=>{class t{constructor(n,r,i){this.route=n,this.todoService=r,this.router=i}ngOnInit(){this.getTodo()}getTodo(){let n=this.route.snapshot.paramMap.get("id");this.todoService.getTodoById(n).subscribe(r=>{this.todo=r})}updateTodo(){this.todo&&(this.todoService.updateTodo(this.todo),this.router.navigate(["/todos"]))}static{this.\u0275fac=function(r){return new(r||t)(re(fn),re(Wd),re(Bt))}}static{this.\u0275cmp=Ve({type:t,selectors:[["app-todo-details"]],standalone:!0,features:[Le],decls:1,vars:1,consts:[["form1","ngForm"],["input1","ngModel"],[1,"todo-container"],[1,"todo-header"],[1,"text-danger"],[1,"todo-card"],[3,"ngSubmit"],[1,"form-group"],["type","text","placeholder","Todo Title","id","title","required","","pattern","[A-Z-a-z]{3,}","name","title",1,"form-control","w-75",3,"ngModelChange","ngModel","ngClass"],[1,"form-group","checkbox-group"],["type","checkbox","id","completed","name","completed",1,"form-check","w-50",3,"ngModelChange","ngModel"],["id","submitButton","type","submit",1,"btn-update",3,"disabled"]],template:function(r,i){r&1&&Vs(0,ij,25,11),r&2&&gD(0,i.todo?0:-1)},dependencies:[Fl,kl,Co,Ca,Nl,Pl,Yg,Jg,Ta,ba,Ks,rl,$D],styles:[".todo-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;padding:40px 0}.todo-header[_ngcontent-%COMP%]{width:500px;height:160px;border-radius:40px;background:linear-gradient(135deg,#4a4aff,#b7f5c4);display:flex;justify-content:center;align-items:center;margin-bottom:30px}.todo-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#e74c3c;font-weight:700}.todo-card[_ngcontent-%COMP%]{width:700px;border:1px solid #ddd;border-radius:6px;padding:20px;background:#fff}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;display:flex;align-items:center;gap:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100px;font-weight:700}.form-control[_ngcontent-%COMP%]{flex:1;padding:8px;border:1px solid #ccc;border-radius:4px}.checkbox-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:18px;height:18px}.btn-update[_ngcontent-%COMP%]{width:100%;padding:10px;background:linear-gradient(to right,#3b82f6,#2563eb);color:#fff;border:none;border-radius:4px;font-size:16px;cursor:pointer}.btn-update[_ngcontent-%COMP%]:hover{opacity:.9}"]})}}return t})();var fS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ve({type:t,selectors:[["app-contactus"]],standalone:!0,features:[Le],decls:13,vars:0,consts:[[1,"contact-container"],[1,"contact-content"],[1,"contact-image"],["src","assets/contact-us.jpg","alt","Contact Us"],[1,"contact-form"],["type","text","placeholder","Name"],["type","email","placeholder","E-mail"],["rows","4","placeholder","Message"],["type","submit"]],template:function(r,i){r&1&&(F(0,"div",0)(1,"div",1)(2,"div",2),Ee(3,"img",3),V(),F(4,"div",4)(5,"h2"),B(6,"Talk to Us"),V(),F(7,"form"),Ee(8,"input",5)(9,"input",6)(10,"textarea",7),F(11,"button",8),B(12,"Send message"),V()()()()())},styles:[".contact-container[_ngcontent-%COMP%]{width:100%;min-height:80vh;display:flex;justify-content:center;align-items:center;background-color:#fff}.contact-content[_ngcontent-%COMP%]{width:80%;display:flex;align-items:center;justify-content:space-between;gap:40px}.contact-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:420px;width:100%}.contact-form[_ngcontent-%COMP%]{width:350px}.contact-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:25px;font-weight:600;color:#333}.contact-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;border:none;outline:none;padding:14px 18px;margin-bottom:15px;background:#f3f6f9;border-radius:25px;font-size:14px}.contact-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border-radius:18px;resize:none}.contact-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f4b400;color:#fff;border:none;padding:10px 28px;border-radius:25px;font-size:14px;cursor:pointer;transition:.3s}.contact-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#e0a800}@media (max-width: 768px){.contact-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.contact-form[_ngcontent-%COMP%]{width:100%}}"]})}}return t})();var pS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ve({type:t,selectors:[["app-aboutus"]],standalone:!0,features:[Le],decls:29,vars:0,consts:[[1,"about-container"],[1,"about-content"],[1,"subtitle"],[1,"description"],[1,"features"],[1,"feature"],[1,"icon","blue"],[1,"icon","light-blue"]],template:function(r,i){r&1&&(F(0,"div",0)(1,"div",1)(2,"h1"),B(3,"Who Are We?"),V(),F(4,"p",2),B(5," We help people to build incredible brands and superior products."),Ee(6,"br"),B(7," Our perspective is to furnish outstanding captivating services. "),V(),F(8,"p",3),B(9," We are ready to work with meticulous attention to detail and high quality."),Ee(10,"br"),B(11," Don't hesitate to choose us, we will live up to your expectations. "),V(),F(12,"div",4)(13,"div",5)(14,"div",6),B(15,"\u2699\uFE0F"),V(),F(16,"div")(17,"h4"),B(18,"Versatile Brand"),V(),F(19,"p"),B(20," We are crafting a digital method that subsists life across all mediums. "),V()()(),F(21,"div",5)(22,"div",7),B(23,"\u{1F525}"),V(),F(24,"div")(25,"h4"),B(26,"Digital Agency"),V(),F(27,"p"),B(28," We believe in innovation by merging primary with elaborate ideas. "),V()()()()()())},styles:[".about-container[_ngcontent-%COMP%]{width:100%;min-height:70vh;display:flex;justify-content:center;align-items:center;background:#fff}.about-content[_ngcontent-%COMP%]{width:70%;max-width:900px;text-align:left}.about-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:600;margin-bottom:15px;color:#222}.subtitle[_ngcontent-%COMP%]{color:#888;font-size:15px;margin-bottom:20px}.description[_ngcontent-%COMP%]{color:#666;font-size:14px;line-height:1.7;margin-bottom:35px}.features[_ngcontent-%COMP%]{display:flex;gap:40px;flex-wrap:wrap}.feature[_ngcontent-%COMP%]{display:flex;gap:15px;max-width:380px}.icon[_ngcontent-%COMP%]{font-size:22px;width:42px;height:42px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff}.icon.blue[_ngcontent-%COMP%]{background-color:#2563eb}.icon.light-blue[_ngcontent-%COMP%]{background-color:#3b82f6}.feature[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#222}.feature[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0;font-size:13px;color:#666}@media (max-width: 768px){.about-content[_ngcontent-%COMP%]{width:90%}.features[_ngcontent-%COMP%]{flex-direction:column}}"]})}}return t})();var gS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ve({type:t,selectors:[["app-not-found"]],standalone:!0,features:[Le],decls:22,vars:0,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["href",SE`https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css`,"rel","stylesheet"],[1,"d-flex","align-items-center","justify-content-center","vh-100"],[1,"text-center","row"],[1,"col-md-6"],["src","https://cdn.pixabay.com/photo/2017/03/09/12/31/error-2129569__340.jpg","alt","",1,"img-fluid"],[1,"col-md-6","mt-5"],[1,"fs-3"],[1,"text-danger"],[1,"lead"],["href","index.html",1,"btn","btn-primary"]],template:function(r,i){r&1&&(F(0,"html",0)(1,"head"),Ee(2,"meta",1)(3,"meta",2)(4,"meta",3),F(5,"title"),B(6,"Bootstrap 5 404 page with image"),V(),Ee(7,"link",4),V(),F(8,"body")(9,"div",5)(10,"div",6)(11,"div",7),Ee(12,"img",8),V(),F(13,"div",9)(14,"p",10)(15,"span",11),B(16,"Opps!"),V(),B(17," Page not found."),V(),F(18,"p",12),B(19," The page you're looking for doesn't exist. "),V(),F(20,"a",13),B(21,"Go Home"),V()()()()()())}})}}return t})();var mS=[{path:"",redirectTo:"/todos",pathMatch:"full"},{path:"home",component:GC,title:"Home"},{path:"todos",component:dS,title:"todos"},{path:"todos/:id",component:hS,title:"to do Details"},{path:"contactus",component:fS,title:"contact Us"},{path:"aboutUs",component:pS,title:"AboutUs"},{path:"**",component:gS,title:"Not Found"}];var yS={production:!1,firebase:{apiKey:"AIzaSyCWB-7rfODExeU8AwtFVaBsjbHjyJMJZ0w",authDomain:"hajarfm-bab6d.firebaseapp.com",projectId:"hajarfm-bab6d",storageBucket:"hajarfm-bab6d.appspot.com",messagingSenderId:"153017182536",appId:"1:153017182536:web:2a1a2b050acbb051a1eb7d",measurementId:"G-816DZYXJ36"}};var vS={providers:[jC(mS),qb(()=>zb(yS.firebase)),nS(()=>cS())]};var _S=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ve({type:t,selectors:[["app-footer"]],standalone:!0,features:[Le],decls:11,vars:0,consts:[[1,"bg-body-tertiary","text-center"],[1,"container","p-4","pb-0"],[1,"mb-4"],["data-mdb-ripple-init","","href","https://www.facebook.com/share/1AXNUwPTwa/","role","button",1,"btn","text-white","btn-floating","m-1",2,"background-color","#3b5998"],[1,"fab","fa-facebook-f"],["data-mdb-ripple-init","","href","https://www.instagram.com/h_ajar__ali?igsh=azc3ZHVkY3RtaW1y","role","button",1,"btn","text-white","btn-floating","m-1",2,"background-color","#ac2bac"],[1,"fab","fa-instagram"],["data-mdb-ripple-init","","href","https://www.linkedin.com/in/hajer-alali-94a99637a?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app","role","button",1,"btn","text-white","btn-floating","m-1",2,"background-color","#0082ca"],[1,"fab","fa-linkedin-in"],["data-mdb-ripple-init","","href","https://share.google/vQn6rARTUCctxlQrZ","role","button",1,"btn","text-white","btn-floating","m-1",2,"background-color","#333333"],[1,"fab","fa-github"]],template:function(r,i){r&1&&(F(0,"footer",0)(1,"div",1)(2,"section",2)(3,"a",3),Ee(4,"i",4),V(),F(5,"a",5),Ee(6,"i",6),V(),F(7,"a",7),Ee(8,"i",8),V(),F(9,"a",9),Ee(10,"i",10),V()()()())}})}}return t})();var oj=()=>["/home"],sj=()=>["/todos"],aj=()=>["/contactus"],cj=()=>["/aboutUs"],IS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ve({type:t,selectors:[["app-header"]],standalone:!0,features:[Le],decls:15,vars:8,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["href","#","routerLinkActive","iconActive",1,"nav-item","nav-link",3,"routerLink"]],template:function(r,i){r&1&&(F(0,"nav",0)(1,"a",1),B(2,"Todo List "),V(),F(3,"button",2),Ee(4,"span",3),V(),F(5,"div",4)(6,"div",5)(7,"a",6),B(8,"Home"),V(),F(9,"a",6),B(10,"Todo List"),V(),F(11,"a",6),B(12,"Contact Us"),V(),F(13,"a",6),B(14,"About Us"),V()()()()),r&2&&(Ge(7),tn("routerLink",zs(4,oj)),Ge(2),tn("routerLink",zs(5,sj)),Ge(2),tn("routerLink",zs(6,aj)),Ge(2),tn("routerLink",zs(7,cj)))},dependencies:[Io,LC,Cl],styles:[".btn[_ngcontent-%COMP%]{padding:.55rem 1.5rem .45rem}.iconActive[_ngcontent-%COMP%]{color:brown}"]})}}return t})();var wS=(()=>{class t{constructor(){this.title="fm"}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ve({type:t,selectors:[["app-root"]],standalone:!0,features:[Le],decls:3,vars:0,template:function(r,i){r&1&&Ee(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[Fg,_S,IS]})}}return t})();JD(wS,vS).catch(t=>console.error(t));
